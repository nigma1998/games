(self.webpackChunkvk=self.webpackChunkvk||[]).push([[23299],{612214:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon12OnlineMobile","online_mobile_12","0 0 8 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 12" id="online_mobile_12"><path fill="currentColor" d="M5.99 0C7.1 0 8 .9 8 2.01v7.98C8 11.1 7.1 12 5.99 12H2.01C.9 12 0 11.1 0 9.99V2.01C0 .9.9 0 2.01 0h3.98Zm.007 3H2.004a.502.502 0 0 0-.503.502v4.995c0 .278.225.503.503.503h3.995a.502.502 0 0 0 .502-.502V3.503A.502.502 0 0 0 5.997 3Z" /></symbol>',8,12)},446830:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon16SearchOutline","search_outline_16","0 0 16 16",'<symbol fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="search_outline_16"><path d="M6.5 1a5.5 5.5 0 0 1 4.383 8.823l3.896 3.9a.75.75 0 0 1-1.061 1.06l-3.895-3.9A5.5 5.5 0 1 1 6.5 1zm0 1.5a4 4 0 1 0 0 8 4 4 0 0 0 0-8z" fill="currentColor" /></symbol>',16,16)},561362:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(0,r(951201).makeIcon)("Icon28ChevronRightOutline","chevron_right_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="chevron_right_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="m11 7.5 6.5 6.5-6.5 6.5" stroke="#8BC1FF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414L16.086 14Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28)},409669:(e,t,r)=>{e.exports=r(751609)},455448:(e,t,r)=>{"use strict";var n=r(464867),a=r(136026),o=r(604372),s=r(315327),i=r(794097),u=r(184109),c=r(967985),l=r(177874),d=r(882648),p=r(460644),f=r(890205);e.exports=function(e){return new Promise((function(t,r){var h,v=e.data,m=e.headers,g=e.responseType;function D(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}n.isFormData(v)&&n.isStandardBrowserEnv()&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",C=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+C)}var F=i(e.baseURL,e.url);function k(){if(y){var n="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:e,request:y};a((function(e){t(e),D()}),(function(e){r(e),D()}),o),y=null}}if(y.open(e.method.toUpperCase(),s(F,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=k:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(k)},y.onabort=function(){y&&(r(new d("Request aborted",d.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new d("Network Error",d.ERR_NETWORK,e,y,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new d(t,n.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,y)),y=null},n.isStandardBrowserEnv()){var w=(e.withCredentials||c(F))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;w&&(m[e.xsrfHeaderName]=w)}"setRequestHeader"in y&&n.forEach(m,(function(e,t){void 0===v&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){y&&(r(!e||e&&e.type?new p:e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),v||(v=null);var _=f(F);_&&-1===["http","https","file"].indexOf(_)?r(new d("Unsupported protocol "+_+":",d.ERR_BAD_REQUEST,e)):y.send(v)}))}},751609:(e,t,r)=>{"use strict";var n=r(464867),a=r(191849),o=r(830321),s=r(847185);var i=function e(t){var r=new o(t),i=a(o.prototype.request,r);return n.extend(i,o.prototype,r),n.extend(i,r),i.create=function(r){return e(s(t,r))},i}(r(345546));i.Axios=o,i.CanceledError=r(460644),i.CancelToken=r(914972),i.isCancel=r(626502),i.VERSION=r(897288).version,i.toFormData=r(196657),i.AxiosError=r(882648),i.Cancel=i.CanceledError,i.all=function(e){return Promise.all(e)},i.spread=r(508713),i.isAxiosError=r(16268),e.exports=i,e.exports.default=i},914972:(e,t,r)=>{"use strict";var n=r(460644);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},a.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},460644:(e,t,r)=>{"use strict";var n=r(882648);function a(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(464867).inherits(a,n,{__CANCEL__:!0}),e.exports=a},626502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},830321:(e,t,r)=>{"use strict";var n=r(464867),a=r(315327),o=r(380782),s=r(413572),i=r(847185),u=r(794097),c=r(954875),l=c.validators;function d(e){this.defaults=e,this.interceptors={request:new o,response:new o}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=i(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!a){var d=[s,void 0];for(Array.prototype.unshift.apply(d,n),d=d.concat(u),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var p=t;n.length;){var f=n.shift(),h=n.shift();try{p=f(p)}catch(e){h(e);break}}try{o=s(p)}catch(e){return Promise.reject(e)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},d.prototype.getUri=function(e){e=i(this.defaults,e);var t=u(e.baseURL,e.url);return a(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,r){return this.request(i(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(i(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},882648:(e,t,r)=>{"use strict";var n=r(464867);function a(e,t,r,n,a){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}n.inherits(a,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=a.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(a,s),Object.defineProperty(o,"isAxiosError",{value:!0}),a.from=function(e,t,r,s,i,u){var c=Object.create(o);return n.toFlatObject(e,c,(function(e){return e!==Error.prototype})),a.call(c,e.message,t,r,s,i),c.name=e.name,u&&Object.assign(c,u),c},e.exports=a},380782:(e,t,r)=>{"use strict";var n=r(464867);function a(){this.handlers=[]}a.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},794097:(e,t,r)=>{"use strict";var n=r(491793),a=r(907303);e.exports=function(e,t){return e&&!n(t)?a(e,t):t}},413572:(e,t,r)=>{"use strict";var n=r(464867),a=r(318527),o=r(626502),s=r(345546),i=r(460644);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new i}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},847185:(e,t,r)=>{"use strict";var n=r(464867);e.exports=function(e,t){t=t||{};var r={};function a(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:a(void 0,e[r]):a(e[r],t[r])}function s(e){if(!n.isUndefined(t[e]))return a(void 0,t[e])}function i(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:a(void 0,e[r]):a(void 0,t[r])}function u(r){return r in t?a(e[r],t[r]):r in e?a(void 0,e[r]):void 0}var c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,a=t(e);n.isUndefined(a)&&t!==u||(r[e]=a)})),r}},136026:(e,t,r)=>{"use strict";var n=r(882648);e.exports=function(e,t,r){var a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},318527:(e,t,r)=>{"use strict";var n=r(464867),a=r(345546);e.exports=function(e,t,r){var o=this||a;return n.forEach(r,(function(r){e=r.call(o,e,t)})),e}},345546:(e,t,r)=>{"use strict";var n=r(464867),a=r(916016),o=r(882648),s=r(177874),i=r(196657),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=r(455448)),l),transformRequest:[function(e,t){if(a(t,"Accept"),a(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,o=n.isObject(e),s=t&&t["Content-Type"];if((r=n.isFileList(e))||o&&"multipart/form-data"===s){var u=this.env&&this.env.FormData;return i(r?{"files[]":e}:e,u&&new u)}return o||"application/json"===s?(c(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,r=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||a&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o.from(e,o.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(191623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){d.headers[e]=n.merge(u)})),e.exports=d},177874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},897288:e=>{e.exports={version:"0.27.2"}},191849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},315327:(e,t,r)=>{"use strict";var n=r(464867);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(a(t)+"="+a(e))})))})),o=s.join("&")}if(o){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},907303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},604372:(e,t,r)=>{"use strict";var n=r(464867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,o,s){var i=[];i.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),n.isString(a)&&i.push("path="+a),n.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},491793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:(e,t,r)=>{"use strict";var n=r(464867);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},967985:(e,t,r)=>{"use strict";var n=r(464867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=a(window.location.href),function(t){var r=n.isString(t)?a(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},916016:(e,t,r)=>{"use strict";var n=r(464867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},191623:e=>{e.exports=null},184109:(e,t,r)=>{"use strict";var n=r(464867),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&a.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},890205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},508713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},196657:(e,t,r)=>{"use strict";var n=r(464867);e.exports=function(e,t){t=t||new FormData;var r=[];function a(e){return null===e?"":n.isDate(e)?e.toISOString():n.isArrayBuffer(e)||n.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,s){if(n.isPlainObject(o)||n.isArray(o)){if(-1!==r.indexOf(o))throw Error("Circular reference detected in "+s);r.push(o),n.forEach(o,(function(r,o){if(!n.isUndefined(r)){var i,u=s?s+"."+o:o;if(r&&!s&&"object"==typeof r)if(n.endsWith(o,"{}"))r=JSON.stringify(r);else if(n.endsWith(o,"[]")&&(i=n.toArray(r)))return void i.forEach((function(e){!n.isUndefined(e)&&t.append(u,a(e))}));e(r,u)}})),r.pop()}else t.append(s,a(o))}(e),t}},954875:(e,t,r)=>{"use strict";var n=r(897288).version,a=r(882648),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,i){if(!1===e)throw new a(o(n," has been removed"+(t?" in "+t:"")),a.ERR_DEPRECATED);return t&&!s[n]&&(s[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,i)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new a("options must be an object",a.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),o=n.length;o-- >0;){var s=n[o],i=t[s];if(i){var u=e[s],c=void 0===u||i(u,s,e);if(!0!==c)throw new a("option "+s+" must be "+c,a.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new a("Unknown option "+s,a.ERR_BAD_OPTION)}},validators:o}},464867:(e,t,r)=>{"use strict";var n,a=r(191849),o=Object.prototype.toString,s=(n=Object.create(null),function(e){var t=o.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function i(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function u(e){return Array.isArray(e)}function c(e){return void 0===e}var l=i("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function p(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var f=i("Date"),h=i("File"),v=i("Blob"),m=i("FileList");function g(e){return"[object Function]"===o.call(e)}var D=i("URLSearchParams");function y(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}var b,C=(b="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:p,isUndefined:c,isDate:f,isFile:h,isBlob:v,isFunction:g,isStream:function(e){return d(e)&&g(e.pipe)},isURLSearchParams:D,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:y,merge:function e(){var t={};function r(r,n){p(t[n])&&p(r)?t[n]=e(t[n],r):p(r)?t[n]=e({},r):u(r)?t[n]=r.slice():t[n]=r}for(var n=0,a=arguments.length;n<a;n++)y(arguments[n],r);return t},extend:function(e,t,r){return y(t,(function(t,n){e[n]=r&&"function"==typeof t?a(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,a,o,s={};t=t||{};do{for(a=(n=Object.getOwnPropertyNames(e)).length;a-- >0;)s[o=n[a]]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:i,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:C,isFileList:m}},921924:(e,t,r)=>{"use strict";var n=r(340210),a=r(155559),o=a(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?a(r):r}},155559:(e,t,r)=>{"use strict";var n=r(158612),a=r(340210),o=a("%Function.prototype.apply%"),s=a("%Function.prototype.call%"),i=a("%Reflect.apply%",!0)||n.call(s,o),u=a("%Object.getOwnPropertyDescriptor%",!0),c=a("%Object.defineProperty%",!0),l=a("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=i(n,s,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var d=function(){return i(n,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},444020:e=>{"use strict";var t="%[a-f0-9]{2}",r=new RegExp(t,"gi"),n=new RegExp("("+t+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],a(r),a(n))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var a=o(r[0]);a!==r[0]&&(t[r[0]]=a)}r=n.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),i=0;i<s.length;i++){var u=s[i];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},404289:(e,t,r)=>{"use strict";var n=r(482215),a="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,i=Object.defineProperty,u=i&&function(){var e={};try{for(var t in i(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,r,n){var a;(!(t in e)||"function"==typeof(a=n)&&"[object Function]"===o.call(a)&&n())&&(u?i(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);a&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var i=0;i<o.length;i+=1)c(e,o[i],t[o[i]],r[o[i]])};l.supportsDescriptors=!!u,e.exports=l},697272:(e,t,r)=>{"use strict";var n=r(117642),a="function"==typeof Symbol&&"symbol"==typeof Symbol.unscopables,o=a&&Array.prototype[Symbol.unscopables],s=TypeError;e.exports=function(e){if("string"!=typeof e||!e)throw new s("method must be a non-empty string");if(!n(Array.prototype,e))throw new s("method must be on Array.prototype");a&&(o[e]=!0)}},41503:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,a=r(34149),o=r(95320),s=r(618923),i=r(612636),u=function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var r,n,s,i="string"===t?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<i.length;++s)if(r=e[i[s]],o(r)&&(n=r.call(e),a(n)))return n;throw new TypeError("No default value")},c=function(e,t){var r=e[t];if(null!=r){if(!o(r))throw new TypeError(r+" returned for property "+t+" of object "+e+" is not a function");return r}};e.exports=function(e){if(a(e))return e;var t,r="default";if(arguments.length>1&&(arguments[1]===String?r="string":arguments[1]===Number&&(r="number")),n&&(Symbol.toPrimitive?t=c(e,Symbol.toPrimitive):i(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var o=t.call(e,r);if(a(o))return o;throw new TypeError("unable to convert exotic object to primitive")}return"default"===r&&(s(e)||i(e))&&(r="string"),u(e,"default"===r?"number":r)}},34149:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},92806:e=>{"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),a=Array.isArray(t),o=0;o<n.length;o++){var s=n[o],i=e[s];(a?-1!==t.indexOf(s):t(s,i,e))&&(r[s]=i)}return r}},417648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,a="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||n.call(o)!==a)throw new TypeError(t+o);for(var s,i=r.call(arguments,1),u=function(){if(this instanceof s){var t=o.apply(this,i.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,i.concat(r.call(arguments)))},c=Math.max(0,o.length-i.length),l=[],d=0;d<c;d++)l.push("$"+d);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var p=function(){};p.prototype=o.prototype,s.prototype=new p,p.prototype=null}return s}},158612:(e,t,r)=>{"use strict";var n=r(417648);e.exports=Function.prototype.bind||n},340210:(e,t,r)=>{"use strict";var n,a=SyntaxError,o=Function,s=TypeError,i=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new s},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,d=r(241405)(),p=Object.getPrototypeOf||function(e){return e.__proto__},f={},h="undefined"==typeof Uint8Array?n:p(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?p(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":a,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m=function e(t){var r;if("%AsyncFunction%"===t)r=i("async function () {}");else if("%GeneratorFunction%"===t)r=i("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=i("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&(r=p(a.prototype))}return v[t]=r,r},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},D=r(158612),y=r(117642),b=D.call(Function.call,Array.prototype.concat),C=D.call(Function.apply,Array.prototype.splice),F=D.call(Function.call,String.prototype.replace),k=D.call(Function.call,String.prototype.slice),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_=/\\(\\)?/g,E=function(e){var t=k(e,0,1),r=k(e,-1);if("%"===t&&"%"!==r)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new a("invalid intrinsic syntax, expected opening `%`");var n=[];return F(e,w,(function(e,t,r,a){n[n.length]=r?F(a,_,"$1"):t||e})),n},I=function(e,t){var r,n=e;if(y(g,n)&&(n="%"+(r=g[n])[0]+"%"),y(v,n)){var o=v[n];if(o===f&&(o=m(n)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new a("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var r=E(e),n=r.length>0?r[0]:"",o=I("%"+n+"%",t),i=o.name,c=o.value,l=!1,d=o.alias;d&&(n=d[0],C(r,b([0,1],d)));for(var p=1,f=!0;p<r.length;p+=1){var h=r[p],m=k(h,0,1),g=k(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new a("property names with quotes must have matching quotes");if("constructor"!==h&&f||(l=!0),y(v,i="%"+(n+="."+h)+"%"))c=v[i];else if(null!=c){if(!(h in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&p+1>=r.length){var D=u(c,h);c=(f=!!D)&&"get"in D&&!("originalValue"in D.get)?D.get:c[h]}else f=y(c,h),c=c[h];f&&!l&&(v[i]=c)}}return c}},431044:(e,t,r)=>{"use strict";var n=r(340210)("%Object.defineProperty%",!0),a=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=a},241405:(e,t,r)=>{"use strict";var n=r.g.Symbol,a=r(455419);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&a())))}},455419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},799608:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},596410:(e,t,r)=>{"use strict";var n=r(799608);e.exports=function(){return n()&&!!Symbol.toStringTag}},117642:(e,t,r)=>{"use strict";var n=r(158612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},210746:(e,t,r)=>{"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[$]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Q}(e)||Array.isArray(e)||!!e[V]||!!e.constructor[V]||p(e)||f(e))}function s(e,t,r){void 0===r&&(r=!1),0===i(e)?(r?Object.keys:J)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function i(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:f(e)?3:0}function u(e,t){return 2===i(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===i(e)?e.get(t):e[t]}function l(e,t,r){var n=i(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return H&&e instanceof Map}function f(e){return z&&e instanceof Set}function h(e){return e.o||e.t}function v(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[$];for(var r=J(t),n=0;n<r.length;n++){var a=r[n],o=t[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),D(e)||a(e)||!o(e)||(i(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&s(e,(function(e,t){return m(t,!0)}),!0)),e}function g(){n(2)}function D(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=Y[e];return t||n(18,e),t}function b(e,t){Y[e]||(Y[e]=t)}function C(){return N}function F(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function k(e){w(e),e.p.forEach(E),e.p=null}function w(e){e===N&&(N=e.l)}function _(e){return N={p:[],l:N,h:e,m:!0,_:0}}function E(e){var t=e[$];0===t.i||1===t.i?t.j():t.O=!0}function I(e,t){t._=t.p.length;var r=t.p[0],a=void 0!==e&&e!==r;return t.h.g||y("ES5").S(t,e,a),a?(r[$].P&&(k(t),n(4)),o(e)&&(e=S(t,e),t.l||A(t,e)),t.u&&y("Patches").M(r[$].t,e,t.u,t.s)):e=S(t,r,[]),k(t),t.u&&t.v(t.u,t.s),e!==W?e:void 0}function S(e,t,r){if(D(t))return t;var n=t[$];if(!n)return s(t,(function(a,o){return O(e,n,t,a,o,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return A(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=4===n.i||5===n.i?n.o=v(n.k):n.o;s(3===n.i?new Set(a):a,(function(t,o){return O(e,n,a,t,o,r)})),A(e,a,!1),r&&e.u&&y("Patches").R(n,r,e.u,e.s)}return n.o}function O(e,t,r,n,s,i){if(a(s)){var c=S(e,s,i&&t&&3!==t.i&&!u(t.D,n)?i.concat(n):void 0);if(l(r,n,c),!a(c))return;e.m=!1}if(o(s)&&!D(s)){if(!e.h.F&&e._<1)return;S(e,s),t&&t.A.l||A(e,s)}}function A(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&m(t,r)}function x(e,t){var r=e[$];return(r?h(r):e)[t]}function R(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function P(e){e.P||(e.P=!0,e.l&&P(e.l))}function j(e){e.o||(e.o=v(e.t))}function M(e,t,r){var n=p(t)?y("MapSet").N(t,r):f(t)?y("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:C(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=n,o=Z;r&&(a=[n],o=ee);var s=Proxy.revocable(a,o),i=s.revoke,u=s.proxy;return n.k=u,n.j=i,u}(t,r):y("ES5").J(t,r);return(r?r.A:C()).p.push(n),n}function U(e){return a(e)||n(22,e),function e(t){if(!o(t))return t;var r,n=t[$],a=i(t);if(n){if(!n.P&&(n.i<4||!y("ES5").K(n)))return n.t;n.I=!0,r=T(t,a),n.I=!1}else r=T(t,a);return s(r,(function(t,a){n&&c(n.t,t)===a||l(r,t,e(a))})),3===a?new Set(r):r}(e)}function T(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v(e)}function B(){function e(e,t){function r(){this.constructor=e}i(e,t),e.prototype=(r.prototype=t.prototype,new r)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function r(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(o(t)){var r=M(e.A.h,t,e);e.p.set(t,r),e.o.add(r)}else e.o.add(t)})))}function a(e){e.O&&n(3,JSON.stringify(h(e)))}var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},u=function(){function r(e,t){return this[$]={i:2,l:t,A:t?t.A:C(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,O:!1},this}e(r,Map);var n=r.prototype;return Object.defineProperty(n,"size",{get:function(){return h(this[$]).size}}),n.has=function(e){return h(this[$]).has(e)},n.set=function(e,r){var n=this[$];return a(n),h(n).has(e)&&h(n).get(e)===r||(t(n),P(n),n.D.set(e,!0),n.o.set(e,r),n.D.set(e,!0)),this},n.delete=function(e){if(!this.has(e))return!1;var r=this[$];return a(r),t(r),P(r),r.t.has(e)?r.D.set(e,!1):r.D.delete(e),r.o.delete(e),!0},n.clear=function(){var e=this[$];a(e),h(e).size&&(t(e),P(e),e.D=new Map,s(e.t,(function(t){e.D.set(t,!1)})),e.o.clear())},n.forEach=function(e,t){var r=this;h(this[$]).forEach((function(n,a){e.call(t,r.get(a),a,r)}))},n.get=function(e){var r=this[$];a(r);var n=h(r).get(e);if(r.I||!o(n))return n;if(n!==r.t.get(e))return n;var s=M(r.A.h,n,r);return t(r),r.o.set(e,s),s},n.keys=function(){return h(this[$]).keys()},n.values=function(){var e,t=this,r=this.keys();return(e={})[K]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},n.entries=function(){var e,t=this,r=this.keys();return(e={})[K]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},n[K]=function(){return this.entries()},r}(),c=function(){function t(e,t){return this[$]={i:3,l:t,A:t?t.A:C(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,O:!1,C:!1},this}e(t,Set);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return h(this[$]).size}}),n.has=function(e){var t=this[$];return a(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},n.add=function(e){var t=this[$];return a(t),this.has(e)||(r(t),P(t),t.o.add(e)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[$];return a(t),r(t),P(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},n.clear=function(){var e=this[$];a(e),h(e).size&&(r(e),P(e),e.o.clear())},n.values=function(){var e=this[$];return a(e),r(e),e.o.values()},n.entries=function(){var e=this[$];return a(e),r(e),e.o.entries()},n.keys=function(){return this.values()},n[K]=function(){return this.values()},n.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}();b("MapSet",{N:function(e,t){return new u(e,t)},T:function(e,t){return new c(e,t)}})}r.d(t,{default:()=>ie,createDraft:()=>oe,current:()=>U,enableMapSet:()=>B,finishDraft:()=>se,produce:()=>ne,setAutoFreeze:()=>ae});var q,N,L="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),H="undefined"!=typeof Map,z="undefined"!=typeof Set,G="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,W=L?Symbol.for("immer-nothing"):((q={})["immer-nothing"]=!0,q),V=L?Symbol.for("immer-draftable"):"__$immer_draftable",$=L?Symbol.for("immer-state"):"__$immer_state",K="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Q=""+Object.prototype.constructor,J="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return J(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},Y={},Z={get:function(e,t){if(t===$)return e;var r=h(e);if(!u(r,t))return function(e,t,r){var n,a=R(t,r);return a?"value"in a?a.value:null===(n=a.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!o(n)?n:n===x(e.t,t)?(j(e),e.o[t]=M(e.A.h,n,e)):n},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,r){var n=R(h(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var a=x(h(e),t),o=null==a?void 0:a[$];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(d(r,a)&&(void 0!==r||u(e.t,t)))return!0;j(e),P(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==x(e.t,t)||t in e.t?(e.D[t]=!1,j(e),P(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=h(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},ee={};s(Z,(function(e,t){ee[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ee.deleteProperty=function(e,t){return ee.set.call(this,e,t,void 0)},ee.set=function(e,t,r){return Z.set.call(this,e[0],t,r,e[0])};var te=function(){function e(e){var t=this;this.g=G,this.F=!0,this.produce=function(e,r,a){if("function"==typeof e&&"function"!=typeof r){var s=r;r=e;var i=t;return function(e){var t=this;void 0===e&&(e=s);for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return i.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(a))}))}}var u;if("function"!=typeof r&&n(6),void 0!==a&&"function"!=typeof a&&n(7),o(e)){var c=_(t),l=M(t,e,void 0),d=!0;try{u=r(l),d=!1}finally{d?k(c):w(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return F(c,a),I(e,c)}),(function(e){throw k(c),e})):(F(c,a),I(u,c))}if(!e||"object"!=typeof e){if(void 0===(u=r(e))&&(u=e),u===W&&(u=void 0),t.F&&m(u,!0),a){var p=[],f=[];y("Patches").M(e,u,p,f),a(p,f)}return u}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(a))}))};var n,a,o=t.produce(e,r,(function(e,t){n=e,a=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,n,a]})):[o,n,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||n(8),a(e)&&(e=U(e));var t=_(this),r=M(this,e,void 0);return r[$].C=!0,w(t),r},t.finishDraft=function(e,t){var r=(e&&e[$]).A;return F(r,t),I(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!G&&n(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var o=y("Patches").$;return a(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),re=new te,ne=re.produce,ae=(re.produceWithPatches.bind(re),re.setAutoFreeze.bind(re)),oe=(re.setUseProxies.bind(re),re.applyPatches.bind(re),re.createDraft.bind(re)),se=re.finishDraft.bind(re);const ie=ne},95320:e=>{"use strict";var t=Function.prototype.toString,r=/^\s*class\b/,n=function(e){try{var n=t.call(e);return r.test(n)}catch(e){return!1}},a=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(o)return function(e){try{return!n(e)&&(t.call(e),!0)}catch(e){return!1}}(e);if(n(e))return!1;var r=a.call(e);return"[object Function]"===r||"[object GeneratorFunction]"===r}},618923:e=>{"use strict";var t=Date.prototype.getDay,r=Object.prototype.toString,n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(n?function(e){try{return t.call(e),!0}catch(e){return!1}}(e):"[object Date]"===r.call(e))}},612636:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(241405)()){var a=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(a.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},130845:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function a(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(a=e[r],o=t[r],!(a===o||n(a)&&n(o)))return!1;var a,o;return!0}const o=function(e,t){var r;void 0===t&&(t=a);var n,o=[],s=!1;return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return s&&r===this&&t(a,o)||(n=e.apply(this,a),s=!0,r=this,o=a),n}}},371124:()=>{},705626:()=>{},654328:()=>{},930154:()=>{},692491:()=>{},618987:(e,t,r)=>{"use strict";var n;if(!Object.keys){var a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(250884),i=Object.prototype.propertyIsEnumerable,u=!i.call({toString:null},"toString"),c=i.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=s(e),i=t&&"[object String]"===o.call(e),p=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=c&&r;if(i&&e.length>0&&!a.call(e,0))for(var v=0;v<e.length;++v)p.push(String(v));if(n&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var g in e)h&&"prototype"===g||!a.call(e,g)||p.push(String(g));if(u)for(var D=function(e){if("undefined"==typeof window||!f)return d(e);try{return d(e)}catch(e){return!1}}(e),y=0;y<l.length;++y)D&&"constructor"===l[y]||!a.call(e,l[y])||p.push(l[y]);return p}}e.exports=n},482215:(e,t,r)=>{"use strict";var n=Array.prototype.slice,a=r(250884),o=Object.keys,s=o?function(e){return o(e)}:r(618987),i=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return a(e)?i(n.call(e)):i(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},250884:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},611728:(e,t,r)=>{"use strict";r.d(t,{default:()=>D});var n=r(667294),a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=void 0;c="undefined"!=typeof window?window:"undefined"!=typeof self?self:r.g;var l=null,d=null,p=c.clearTimeout,f=c.setTimeout,h=c.cancelAnimationFrame||c.mozCancelAnimationFrame||c.webkitCancelAnimationFrame,v=c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame;function m(e){var t=void 0,r=void 0,n=void 0,a=void 0,o=void 0,s=void 0,i=void 0,u="undefined"!=typeof document&&document.attachEvent;if(!u){s=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,a=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.style.width=r.offsetWidth+1+"px",a.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},i=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;s(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=d((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}};var p=!1,f="";n="animationstart";var h="Webkit Moz O ms".split(" "),v="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(p=!0),!1===p)for(var g=0;g<h.length;g++)if(void 0!==m.style[h[g]+"AnimationName"]){f="-"+h[g].toLowerCase()+"-",n=v[g],p=!0;break}t="@"+f+"keyframes "+(r="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",a=f+"animation: 1ms "+r+"; "}return{addResizeListener:function(o,l){if(u)o.attachEvent("onresize",l);else{if(!o.__resizeTriggers__){var d=o.ownerDocument,p=c.getComputedStyle(o);p&&"static"===p.position&&(o.style.position="relative"),function(r){if(!r.getElementById("detectElementResize")){var n=(t||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=r.head||r.getElementsByTagName("head")[0],s=r.createElement("style");s.id="detectElementResize",s.type="text/css",null!=e&&s.setAttribute("nonce",e),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(r.createTextNode(n)),o.appendChild(s)}}(d),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=d.createElement("div")).className="resize-triggers";var f=d.createElement("div");f.className="expand-trigger",f.appendChild(d.createElement("div"));var h=d.createElement("div");h.className="contract-trigger",o.__resizeTriggers__.appendChild(f),o.__resizeTriggers__.appendChild(h),o.appendChild(o.__resizeTriggers__),s(o),o.addEventListener("scroll",i,!0),n&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===r&&s(o)},o.__resizeTriggers__.addEventListener(n,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(l)}},removeResizeListener:function(e,t){if(u)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",i,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(n,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}null==h||null==v?(l=p,d=function(e){return f(e,20)}):(l=function(e){var t=u(e,2),r=t[0],n=t[1];h(r),p(n)},d=function(e){var t=v((function(){p(r),e()})),r=f((function(){h(t),e()}),20);return[t,r]});var g=function(e){function t(){var e,r,n;a(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,a=e.onResize;if(n._parentNode){var o=n._parentNode.offsetHeight||0,s=n._parentNode.offsetWidth||0,i=window.getComputedStyle(n._parentNode)||{},u=parseInt(i.paddingLeft,10)||0,c=parseInt(i.paddingRight,10)||0,l=parseInt(i.paddingTop,10)||0,d=parseInt(i.paddingBottom,10)||0,p=o-l-d,f=s-u-c;(!t&&n.state.height!==p||!r&&n.state.width!==f)&&(n.setState({height:o-l-d,width:s-u-c}),a({height:o,width:s}))}},n._setRef=function(e){n._autoSizer=e},i(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=m(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,a=e.disableHeight,o=e.disableWidth,i=e.style,u=this.state,c=u.height,l=u.width,d={overflow:"visible"},p={},f=!1;return a||(0===c&&(f=!0),d.height=0,p.height=c),o||(0===l&&(f=!0),d.width=0,p.width=l),(0,n.createElement)("div",{className:r,ref:this._setRef,style:s({},d,i)},!f&&t(p))}}]),t}(n.PureComponent);g.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};const D=g},274061:(e,t,r)=>{"use strict";r.d(t,{FixedSizeList:()=>C,VariableSizeList:()=>b});var n=r(371336),a=r(39821),o=r(218301),s=r(130845),i=r(667294),u=(r(234574),"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function c(e){cancelAnimationFrame(e.id)}function l(e,t){var r=u();var n={id:requestAnimationFrame((function a(){u()-r>=t?e.call(null):n.id=requestAnimationFrame(a)}))};return n}var d=null;function p(e){if(void 0===e&&(e=!1),null===d||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),a=n.style;return a.width="100px",a.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?d="positive-descending":(t.scrollLeft=1,d=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),d}return d}var f=function(e,t){return e};function h(e){var t,r=e.getItemOffset,u=e.getEstimatedTotalSize,d=e.getItemSize,h=e.getOffsetForIndexAndAlignment,m=e.getStartIndexForOffset,g=e.getStopIndexForStartIndex,D=e.initInstanceProps,y=e.shouldResetStyleCacheOnItemSizeChange,b=e.validateProps;return t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=D(n.props,(0,a.default)(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:(0,a.default)(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=(0,s.default)((function(e,t,r,a){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:a})})),n._callOnScroll=void 0,n._callOnScroll=(0,s.default)((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,a=n.props,o=a.direction,s=a.itemSize,i=a.layout,u=n._getItemStyleCache(y&&s,y&&i,y&&o);if(u.hasOwnProperty(e))t=u[e];else{var c=r(n.props,e,n._instanceProps),l=d(n.props,e,n._instanceProps),p="horizontal"===o||"horizontal"===i,f="rtl"===o,h=p?c:0;u[e]=t={position:"absolute",left:f?void 0:h,right:f?h:void 0,top:p?0:c,height:p?"100%":l,width:p?l:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=(0,s.default)((function(e,t,r){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,a=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===a)return null;var t=n.props.direction,s=a;if("rtl"===t)switch(p()){case"negative":s=-a;break;case"positive-descending":s=o-r-a}return s=Math.max(0,Math.min(s,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<a?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,a=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,a-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&c(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=l(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}(0,o.default)(t,e),t.getDerivedStateFromProps=function(e,t){return v(e,t),b(e),null};var C=t.prototype;return C.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},C.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props.itemCount,n=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1)),this.scrollTo(h(this.props,e,t,n,this._instanceProps))},C.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var a=this._outerRef;"horizontal"===t||"horizontal"===n?a.scrollLeft=r:a.scrollTop=r}this._callPropsCallbacks()},C.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,a=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(p()){case"negative":o.scrollLeft=-a;break;case"positive-ascending":o.scrollLeft=a;break;default:var s=o.clientWidth,i=o.scrollWidth;o.scrollLeft=i-s-a}else o.scrollLeft=a;else o.scrollTop=a}this._callPropsCallbacks()},C.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&c(this._resetIsScrollingTimeoutId)},C.render=function(){var e=this.props,t=e.children,r=e.className,a=e.direction,o=e.height,s=e.innerRef,c=e.innerElementType,l=e.innerTagName,d=e.itemCount,p=e.itemData,h=e.itemKey,v=void 0===h?f:h,m=e.layout,g=e.outerElementType,D=e.outerTagName,y=e.style,b=e.useIsScrolling,C=e.width,F=this.state.isScrolling,k="horizontal"===a||"horizontal"===m,w=k?this._onScrollHorizontal:this._onScrollVertical,_=this._getRangeToRender(),E=_[0],I=_[1],S=[];if(d>0)for(var O=E;O<=I;O++)S.push((0,i.createElement)(t,{data:p,key:v(O,p),index:O,isScrolling:b?F:void 0,style:this._getItemStyle(O)}));var A=u(this.props,this._instanceProps);return(0,i.createElement)(g||D||"div",{className:r,onScroll:w,ref:this._outerRefSetter,style:(0,n.default)({position:"relative",height:o,width:C,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},y)},(0,i.createElement)(c||l||"div",{children:S,ref:s,style:{height:k?"100%":A,pointerEvents:F?"none":void 0,width:k?A:"100%"}}))},C._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],a=e[3];this._callOnItemsRendered(t,r,n,a)}if("function"==typeof this.props.onScroll){var o=this.state,s=o.scrollDirection,i=o.scrollOffset,u=o.scrollUpdateWasRequested;this._callOnScroll(s,i,u)}},C._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,a=n.isScrolling,o=n.scrollDirection,s=n.scrollOffset;if(0===t)return[0,0,0,0];var i=m(this.props,s,this._instanceProps),u=g(this.props,i,s,this._instanceProps),c=a&&"backward"!==o?1:Math.max(1,r),l=a&&"forward"!==o?1:Math.max(1,r);return[Math.max(0,i-c),Math.max(0,Math.min(t-1,u+l)),i,u]},t}(i.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var v=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},m=function(e,t,r){var n=e.itemSize,a=r.itemMetadataMap,o=r.lastMeasuredIndex;if(t>o){var s=0;if(o>=0){var i=a[o];s=i.offset+i.size}for(var u=o+1;u<=t;u++){var c=n(u);a[u]={offset:s,size:c},s+=c}r.lastMeasuredIndex=t}return a[t]},g=function(e,t,r,n,a){for(;n<=r;){var o=n+Math.floor((r-n)/2),s=m(e,o,t).offset;if(s===a)return o;s<a?n=o+1:s>a&&(r=o-1)}return n>0?n-1:0},D=function(e,t,r,n){for(var a=e.itemCount,o=1;r<a&&m(e,r,t).offset<n;)r+=o,o*=2;return g(e,t,Math.min(r,a-1),Math.floor(r/2),n)},y=function(e,t){var r=e.itemCount,n=t.itemMetadataMap,a=t.estimatedItemSize,o=t.lastMeasuredIndex,s=0;if(o>=r&&(o=r-1),o>=0){var i=n[o];s=i.offset+i.size}return s+(r-o-1)*a},b=h({getItemOffset:function(e,t,r){return m(e,t,r).offset},getItemSize:function(e,t,r){return r.itemMetadataMap[t].size},getEstimatedTotalSize:y,getOffsetForIndexAndAlignment:function(e,t,r,n,a){var o=e.direction,s=e.height,i=e.layout,u=e.width,c="horizontal"===o||"horizontal"===i?u:s,l=m(e,t,a),d=y(e,a),p=Math.max(0,Math.min(d-c,l.offset)),f=Math.max(0,l.offset-c+l.size);switch("smart"===r&&(r=n>=f-c&&n<=p+c?"auto":"center"),r){case"start":return p;case"end":return f;case"center":return Math.round(f+(p-f)/2);default:return n>=f&&n<=p?n:n<f?f:p}},getStartIndexForOffset:function(e,t,r){return function(e,t,r){var n=t.itemMetadataMap,a=t.lastMeasuredIndex;return(a>0?n[a].offset:0)>=r?g(e,t,a,0,r):D(e,t,Math.max(0,a),r)}(e,r,t)},getStopIndexForStartIndex:function(e,t,r,n){for(var a=e.direction,o=e.height,s=e.itemCount,i=e.layout,u=e.width,c="horizontal"===a||"horizontal"===i?u:o,l=m(e,t,n),d=r+c,p=l.offset+l.size,f=t;f<s-1&&p<d;)f++,p+=m(e,f,n).size;return f},initInstanceProps:function(e,t){var r={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,n){void 0===n&&(n=!0),r.lastMeasuredIndex=Math.min(r.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),n&&t.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),C=h({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,r,n){var a=e.direction,o=e.height,s=e.itemCount,i=e.itemSize,u=e.layout,c=e.width,l="horizontal"===a||"horizontal"===u?c:o,d=Math.max(0,s*i-l),p=Math.min(d,t*i),f=Math.max(0,t*i-l+i);switch("smart"===r&&(r=n>=f-l&&n<=p+l?"auto":"center"),r){case"start":return p;case"end":return f;case"center":var h=Math.round(f+(p-f)/2);return h<Math.ceil(l/2)?0:h>d+Math.floor(l/2)?d:h;default:return n>=f&&n<=p?n:n<f?f:p}},getStartIndexForOffset:function(e,t){var r=e.itemCount,n=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getStopIndexForStartIndex:function(e,t,r){var n=e.direction,a=e.height,o=e.itemCount,s=e.itemSize,i=e.layout,u=e.width,c=t*s,l="horizontal"===n||"horizontal"===i?u:a,d=Math.ceil((l+r-c)/s);return Math.max(0,Math.min(o-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}})},39821:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{default:()=>n})},371336:(e,t,r)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{default:()=>n})},218301:(e,t,r)=>{"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.d(t,{default:()=>n})},234574:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}r.d(t,{default:()=>n})},817170:(e,t,r)=>{"use strict";r.d(t,{ExternalEvents:()=>u});var n=r(50706),a=r(225155),o=r(322559);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,n.default)((function e(){var t=this;(0,a.default)(this,e),(0,o.default)(this,"listeners",[]),(0,o.default)(this,"send",(function(e,r){var n,a=s(t.listeners);try{for(a.s();!(n=a.n()).done;){(0,n.value)(e,r)}}catch(e){a.e(e)}finally{a.f()}})),(0,o.default)(this,"subscribe",(function(e){return t.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}}))}))},878221:(e,t,r)=>{"use strict";r.d(t,{Idle:()=>u});var n=r(50706),a=r(225155),o=r(322559);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,n.default)((function e(t){var r=this;(0,a.default)(this,e),(0,o.default)(this,"listeners",new Set),(0,o.default)(this,"isIdle",(function(){return void 0===r.timeoutId})),(0,o.default)(this,"subscribe",(function(e){return r.listeners.add(e),function(){r.listeners.delete(e)}})),(0,o.default)(this,"onVisibilityChange",(function(){document.hidden?(document.removeEventListener("mousemove",r.onActive),document.removeEventListener("keydown",r.onActive,!0),r.onIdle()):(document.addEventListener("mousemove",r.onActive),document.addEventListener("keydown",r.onActive,!0),r.onActive())})),(0,o.default)(this,"onIdle",(function(){r.timeoutId&&(clearTimeout(r.timeoutId),r.timeoutId=void 0,r.notify())})),(0,o.default)(this,"onActive",(function(){var e=void 0!==r.timeoutId;r.timeoutId&&clearTimeout(r.timeoutId),r.timeoutId=window.setTimeout(r.onIdle,3e4),e||r.notify()})),(0,o.default)(this,"notify",(function(){r.logger.info("[IDLE]","user became ".concat(r.isIdle()?"idle":"active"));var e,t=s(r.listeners);try{for(t.s();!(e=t.n()).done;){(0,e.value)(r.isIdle())}}catch(e){t.e(e)}finally{t.f()}})),this.logger=t,this.onVisibilityChange(),document.addEventListener("visibilitychange",this.onVisibilityChange)}))},553890:(e,t,r)=>{"use strict";r.d(t,{Lang:()=>h});var n=r(975066),a=r(50706),o=r(225155),s=r(322559),i=r(474235),u=r(997864),c=r.n(u),l=r(533788),d=r(21705);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=(0,a.default)((function e(t,r,a){var u=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,o.default)(this,e),(0,s.default)(this,"use",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return u.fold.apply(u,[e,function(e){return e},function(e){return e.join("")}].concat(r))})),(0,s.default)(this,"fold",(function(e,t,r){try{var n=arguments.length<=3?void 0:arguments[3],a=u.getTemplate(e);if(!a)return t(e);if(!n)return Array.isArray(a)?t(e):t(a);if("num"in n)a=(0,i.langNumeric)(n.num,a);else if("sex"in n){var o={female:"1",male:"2",unknown:"*"};a=(0,i.langSex)(o[n.sex],a)}else if("now"in n){var s=new Date(n.now),c=new Date(n.date);a=g(s,c)?a[3]:D(s,c)?a[2]:y(s,c)?a[4]:a[1],n.values=f(f({},u.splitDate(c,{shortMonths:n.shortMonths})),n.values||{})}if(Array.isArray(a)||!a)return t(e);if("values"in n&&Object.keys(n.values).length>0){var l=b.Grammar.tryParse(a),d=l.reduce((function(e,r){switch(r.type){case"StaticPlaceholder":var a=n.values[r.name];e.push(a);break;case"FunctionPlaceholder":var o=n.values[r.name];e.push(o(r.inner));break;case"Text":e.push(t(r.text));break;default:}return e}),[]);return r(d)}return t(a)}catch(r){return t(e)}})),(0,s.default)(this,"formatDate",(function(e,t){var r=new Date(e),n=new Date(t.now);try{switch(t.variant){case"time":var a=u.splitDate(r),o=a.hour,s=a.minute,c=a.am_pm;return"".concat(o,":").concat(s," ").concat(c);case"time-ago":var l=Math.floor((n.getTime()-e)/1e3);switch(!0){case l<60:return u.use("global_just_now");case l<3600:var p=Math.floor(l/60);return(0,i.langWordNumeric)(p,u.getTemplate("global_word_mins_ago"),u.getTemplate("global_mins_ago")).toString();case l<43200:var f=Math.floor(l/60/60);return(0,i.langWordNumeric)(f,u.getTemplate("global_word_hours_ago"),u.getTemplate("global_hours_ago")).toString();default:return(0,d.isSameYear)(n,new Date(e))?u.use("global_short_date_time",{now:n.getTime(),date:e}):u.use("global_date_year_time",{now:n.getTime(),date:e})}default:return(0,d.exhaustivenessCheck)(t.variant)}}catch(e){return u.logger.error("[LANG] Ошибка форматирования даты ".concat(t.variant),e),r.toISOString()}})),(0,s.default)(this,"formatNumber",(function(e){var t,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"regular";if("regular"===a)return e.toString().split(".").join(u.translations.config.numDec);switch(!0){case e>1e9:t=e/1e9,r="B";break;case e>1e6:t=e/1e6,r="M";break;case e>1e3:t=e/1e3,r="K";break;default:t=e,r=""}var o=t.toFixed(1).split("."),s=(0,n.default)(o,2),i=s[0],c=s[1],l=Number(c)?[i,c]:[i];return l.join(u.translations.config.numDec)+r})),(0,s.default)(this,"getTemplate",(function(e){if(!u.decodedKeys[e]){var t=u.translations.keys[e];if(!t)return;u.decodedKeys[e]=Array.isArray(t)?t.map(v):v(t)}return u.decodedKeys[e]})),(0,s.default)(this,"splitDate",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shortMonths:!1},r=t.shortMonths?u.getTemplate("global_months_short_of"):u.getTemplate("global_months_of"),n=e.getMinutes().toString().padStart(2,"0"),a=e.getHours().toString().padStart(2,"0"),o=e.getDate(),s=r[e.getMonth()]||r[0],i=e.getFullYear(),c="",l=u.translations.config.timeSys;return"12hour"===l[0]&&(c=e.getHours()>11?l[2]:l[1],a=(e.getHours()%12==0?12:e.getHours()%12).toString().padStart(2,"0")),{year:i,day:o,month:s,hour:a,minute:n,am_pm:c}})),this.logger=t,this.locale=r,this.translations=a,this.decodedKeys=c,(0,i.initLang)({source:function(){return a.keys},config:function(){return a.config}})}));function v(e){var t=e.replace(/<br\s*\/?>/gi,"\n");return(0,l.decodeHTMLEntities)(t)}var m=864e5;function g(e,t){var r=e.getDate(),n=e.getMonth(),a=e.getFullYear();return t.getFullYear()===a&&t.getMonth()===n&&t.getDate()===r}function D(e,t){return g(e,new Date(t.getTime()+m))}function y(e,t){return g(e,new Date(t.getTime()-m))}var b=c().createLanguage({Grammar:function(e){return c().alt(e.FunctionPlaceholder,e.StaticPlaceholder,e.Text).many()},StaticPlaceholder:function(e){return c().seqObj(c().string("{"),["name",e.Name],c().string("}")).map((function(e){return{type:"StaticPlaceholder",name:e.name}}))},FunctionPlaceholder:function(e){return c().seqObj(c().string("{"),["name",e.Name],c().string("}")).chain((function(t){var r=t.name;return e.Text.map((function(e){var t=e.text;return{type:"FunctionPlaceholder",name:r,inner:t}})).skip(c().string("{/".concat(r,"}")))}))},Name:function(){return c().regex(/[a-zA-Z0-9_]+/)},Text:function(){return c().regex(/[^{}]+/).map((function(e){return{type:"Text",text:(0,l.decodeHTMLEntities)(e)}}))}})},452715:(e,t,r)=>{"use strict";r.d(t,{Player:()=>p});var n=r(467846),a=r(225155),o=r(50706),s=r(322559),i=r(343883),u=r.n(i),c=r(210746),l=r(21705),d="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",p=function(){function e(t){var r=this;(0,a.default)(this,e),(0,s.default)(this,"prevRAFTimestamp",0),(0,s.default)(this,"hasMetaData",(function(){return!isNaN(r.player.duration)&&r.player.duration!==1/0&&0!==r.player.duration})),(0,s.default)(this,"metadata",(function(){return r.hasMetaData()?Promise.resolve():new Promise((function(e,t){var n=function(){r.player.duration!==1/0&&(o(),e())},a=function(e){o(),t(e)},o=function(){r.player.removeEventListener("durationchange",n),r.player.removeEventListener("error",a)};r.player.addEventListener("durationchange",n),r.player.addEventListener("error",a)}))})),(0,s.default)(this,"setState",(function(e){r.state="function"==typeof e?(0,c.default)(r.state,e):e,r.listeners.forEach((function(e){return e(r.state)}))})),(0,s.default)(this,"handleTimeUpdate",(function(e){"playing"===r.state.status&&(e-r.prevRAFTimestamp<25?window.requestAnimationFrame(r.handleTimeUpdate):(r.setState((function(e){if("playing"===e.status){var t=r.player.currentTime,n=Math.max(0,Math.min(1,t/r.player.duration));"Voice"===e.currentTrack.kind&&(e.voiceProgress=n,e.voiceTime=t),e.progress=n,e.time=t}})),window.requestAnimationFrame(r.handleTimeUpdate),r.prevRAFTimestamp=e))})),(0,s.default)(this,"play",function(){var e=(0,n.default)(u().mark((function e(t){var n,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,r.player.src=t.url,r.player.load(),r.setState((function(e){"Voice"===t.kind&&(e.currentVoice=t,e.voiceProgress=0,e.voiceDuration=0,e.voiceTime=0),e.currentTrack=t,e.progress=0,e.duration=0,e.time=0,e.status="loading"})),e.prev=4,e.next=7,r.metadata();case 7:r.setState((function(e){"Voice"===t.kind&&(e.currentVoice=t,e.voiceProgress=r.player.currentTime/r.player.duration,e.voiceDuration=r.player.duration,e.voiceTime=r.player.currentTime),e.currentTrack=t,e.progress=r.player.currentTime/r.player.duration,e.duration=r.player.duration,e.time=r.player.currentTime,e.status="playing"})),r.player.currentTime=n*r.player.duration,r.player.play(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),r.logger.error("Ошибка проигрывания аудио",e.t0),r.stop();case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()),(0,s.default)(this,"pause",(function(){"playing"===r.state.status&&(r.setState((function(e){e.status="paused"})),r.player.pause())})),(0,s.default)(this,"resume",(function(){"paused"===r.state.status&&(r.setState((function(e){e.status="playing"})),r.player.play())})),(0,s.default)(this,"stop",(function(){"stopped"!==r.state.status&&(r.setState(e.initial()),r.player.pause(),r.player.src=d,r.player.currentTime=0)})),(0,s.default)(this,"subscribe",(function(e){return r.listeners.push(e),function(){r.listeners=r.listeners.filter((function(t){return t!==e}))}})),(0,s.default)(this,"timeLeft",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?r.state.voiceDuration:r.state.duration,n=e?r.state.voiceTime:r.state.time,a=Math.floor(t-n);return"-"+(0,l.formatDuration)(a)})),this.logger=t,this.player=document.createElement("audio"),this.player.src=d,this.listeners=[],this.state=e.initial(),this.player.addEventListener("play",(function(){window.requestAnimationFrame(r.handleTimeUpdate)})),this.player.addEventListener("ended",(function(){r.setState((function(e){e.status="ended",e.progress=1,e.time=r.player.duration}))}))}return(0,o.default)(e,null,[{key:"initial",value:function(){return{status:"stopped",currentVoice:null,currentTrack:null,progress:0,duration:0,time:0,voiceProgress:0,voiceDuration:0,voiceTime:0}}}]),e}()},617254:(e,t,r)=>{"use strict";r.d(t,{Storage:()=>i});var n=r(231989),a=r(225155),o=r(50706),s=r(322559),i=function(){function e(t){var r=this;(0,a.default)(this,e),(0,s.default)(this,"identify",(function(e){r.viewerPeerId=e})),(0,s.default)(this,"get",(function(e){var t=r.mapKey(e);try{var n=localStorage.getItem(t);if(!n)return;return JSON.parse(n,c)}catch(e){return}})),(0,s.default)(this,"set",(function(e,t){var n=r.mapKey(e);try{localStorage.setItem(n,JSON.stringify(t,u))}catch(e){}})),(0,s.default)(this,"del",(function(e){var t=r.mapKey(e);try{localStorage.removeItem(t)}catch(e){}})),this.dbName=t}return(0,o.default)(e,[{key:"mapKey",value:function(e){if(!this.viewerPeerId)throw new Error("Перед использованием Storage должен быть идентифицирован!");return"".concat(this.dbName,"-").concat(this.viewerPeerId,"-").concat(e)}}]),e}();function u(e,t){return t instanceof Map?{dataType:"Map",entries:Array.from(t.entries())}:t instanceof Set?{dataType:"Set",entries:Array.from(t.entries())}:t}function c(e,t){if("object"===(0,n.default)(t)&&null!==t){if("Map"===t.dataType)return new Map(t.entries);if("Set"===t.dataType)return new Set(t.entries)}return t}},606729:(e,t,r)=>{"use strict";r.d(t,{Avatar:()=>d});r(705626);var n=r(667294),a=r(20700),o=r.n(a),s=r(784970),i=r(314432),u=r(21705),c=r(612214),l=r(124301),d=n.memo((function(e){var t=e.peer,r=e.size,a=e.activityIndicator,c=e.withOnline,d=void 0!==c&&c,f=e.activeCall,h=e.className,v=(0,s.useOnline)(t.id),m=(0,s.usePixelDensity)(),g=function(e,t){if("User"!==e.kind)return"Offline";if(t)switch(e.lastSeen.platform){case"vkme":case"mobile":return"Mobile";case"other":return"Online";default:return(0,u.exhaustivenessCheck)(e.lastSeen.platform)}return"Offline"}(t,d&&v),D=!!f,y=function(e,t){if("Contact"===e.kind)return e.photo50;return t?e.photo100:e.photo50}(t,m),b=(0,n.useMemo)((function(){return{width:r,height:r}}),[r]),C=function(e,t,r){return"mePeerFrame".concat(e).concat(t).concat(r?"c":"")}(g,r,D),F="url(#".concat(C,"Mask").concat(t.id,")"),k=o()("MEAvatar","MEAvatar--size-".concat(r),{"MEAvatar--withActivity":!!a,"MEAvatar--emptyCall":"empty"===f},h);return n.createElement("figure",{style:b,className:k},n.createElement("div",{className:"MEAvatar__imgWrapper",style:{clipPath:F}},y?n.createElement("img",{className:"MEAvatar__img",alt:i.name(t),src:y,loading:"lazy"}):n.createElement(l.AvatarNoPhoto,{peer:t,size:r}),a&&n.createElement("div",{className:"MEAvatar__activityIndicator"},a)),n.createElement(p,{frameType:g}),D&&n.createElement("div",{className:"MEAvatar__call"},n.createElement("svg",{className:"MEAvatar__callIcon"},n.createElement("use",{href:"#mePhone10"}))),n.createElement("svg",{className:"MEAvatar__svg"},n.createElement("clipPath",{id:C+"Mask"+t.id},n.createElement("use",{href:"#"+C})),n.createElement("use",{href:"#"+C,className:"MEAvatar__shadow",clipPath:F})))}));var p=function(e){var t=e.frameType;switch(t){case"Me":case"Mobile":return n.createElement("div",{className:"MEAvatar__mobile"},n.createElement(c.default,null));case"Online":return n.createElement("div",{className:"MEAvatar__online"});case"Offline":return null;default:(0,u.exhaustivenessCheck)(t)}}},124301:(e,t,r)=>{"use strict";r.d(t,{AvatarNoPhoto:()=>l});r(654328);var n=r(667294),a=r(20700),o=r.n(a),s=r(314432),i=r(21705),u=r(270608),c=r.n(u),l=function(e){var t=e.peer,r=e.size,a=e.style,u=e.className,l=s.isContactPeerId(t.id)?"AvatarNoPhoto--color-contact":"AvatarNoPhoto--color-".concat(Math.abs(t.id%6));return n.createElement("div",{style:a,className:o()("AvatarNoPhoto","AvatarNoPhoto--size-".concat(r),l,u)},function(e){var t=function(e){var t=c()().exec(e);return t&&0===t.index?t[0]:(Array.from(e)[0]||"").toUpperCase()},r="";switch(e.kind){case"User":r=[e.firstName,e.lastName].filter(Boolean).map(t).join("");break;case"Group":r=t(e.name);break;case"Chat":r=t(e.title);break;case"Contact":r=e.name.split(/\s/).slice(0,2).map(t).join("");break;default:(0,i.exhaustivenessCheck)(e)}return r}(t))}},556585:(e,t,r)=>{"use strict";r.d(t,{OptionsListItem:()=>i});r(930154);var n=r(667294),a=r(20700),o=r.n(a),s=r(561362),i=function(e){var t=e.icon,r=e.title,a=e.description,i=e.aside,c=e.isPadded,l=void 0===c||c,d=e.isInteractive,p=e.hasChevron,f=e.onClick,h=e.className,v=o()("OptionsListItem",h,{"OptionsListItem--interactive":null!=d?d:Boolean(f),"OptionsListItem--padded":l});return n.createElement("li",{className:v,onClick:f,tabIndex:f?0:void 0,onMouseDown:f?u:void 0},n.createElement("div",{className:"OptionsListItem__icon","aria-hidden":!0},t),n.createElement("div",{className:"OptionsListItem__main"},n.createElement("div",{className:"OptionsListItem__title"},r),a&&n.createElement("div",{className:"OptionsListItem__description"},a)),p&&n.createElement("div",{className:"OptionsListItem__aside OptionsListItem__aside--chevron"},n.createElement(s.default,null)),i&&n.createElement("div",{className:"OptionsListItem__aside"},i))};function u(e){e.preventDefault()}},782597:(e,t,r)=>{"use strict";r.d(t,{empty:()=>c,snakeCaseId:()=>d,getLockId:()=>p,isLoaded:()=>f,push:()=>h,refresh:()=>v,updateCounters:()=>m,sorter:()=>g});var n=r(322559),a=r(716352);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(){var e={channelIds:new Set,hasMore:!0,unreadCount:0,totalCount:0,boundary:{channelId:a.resolveId(0),majorSortId:1/0,minorSortId:1/0}};return{all:u({kind:"all"},e),unread:u({kind:"unread"},e),archive:u({kind:"archive",isHidden:!1},e)}}var l={all:"all",unread:"unread",archive:"archive"};function d(e){return l[e]}function p(e){return"filter_".concat(e)}function f(e){return e.boundary.minorSortId!==1/0&&e.boundary.majorSortId!==1/0}function h(e,t,r,n){var s,i=o(r);try{for(i.s();!(s=i.n()).done;){var u=s.value;D(e,t,u),v(e,u)}}catch(e){i.e(e)}finally{i.f()}e[t].hasMore=n,e[t].hasMore||(e[t].boundary={majorSortId:0,minorSortId:0,channelId:a.resolveId(0)})}function v(e,t){e.all.channelIds.delete(t.id),e.unread.channelIds.delete(t.id),e.archive.channelIds.delete(t.id),t.isArchived?y(e.archive,t)&&e.archive.channelIds.add(t.id):(y(e.all,t)&&e.all.channelIds.add(t.id),a.isUnread(t)&&y(e.unread,t)&&e.unread.channelIds.add(t.id))}function m(e,t){var r=t.unread,n=t.archive,a=t.archiveTotal;void 0!==r&&(e.all.unreadCount=r,e.unread.unreadCount=r),void 0!==n&&(e.archive.unreadCount=n),void 0!==a&&(e.archive.hasMore=e.archive.channelIds.size<a,e.archive.totalCount=a)}function g(e,t){return e.majorSortId!==t.majorSortId?t.majorSortId-e.majorSortId:t.minorSortId!==e.minorSortId?t.minorSortId-e.minorSortId:e.id-t.id}function D(e,t,r){a.isHidden(r)||(r.majorSortId<e[t].boundary.majorSortId?e[t].boundary={channelId:r.id,majorSortId:r.majorSortId,minorSortId:r.minorSortId}:r.majorSortId===e[t].boundary.majorSortId&&r.minorSortId<e[t].boundary.minorSortId?(e[t].boundary.channelId=r.id,e[t].boundary.minorSortId=r.minorSortId):r.majorSortId===e[t].boundary.majorSortId&&r.minorSortId===e[t].boundary.minorSortId&&r.id>e[t].boundary.channelId&&(e[t].boundary.channelId=r.id),"all"===t&&D(e,"unread",r))}function y(e,t){return!a.isHidden(t)&&(!(t.majorSortId<e.boundary.majorSortId)&&(t.majorSortId>e.boundary.majorSortId||!(t.minorSortId<e.boundary.minorSortId)&&(t.minorSortId>e.boundary.minorSortId||!(t.id>e.boundary.channelId))))}},252229:(e,t,r)=>{"use strict";r.d(t,{empty:()=>l,snakeCaseId:()=>p,isLoaded:()=>f,getLockId:()=>h,isVisible:()=>v,push:()=>m,refresh:()=>g,updateCounters:()=>D,sorter:()=>y,toggleArchiveVisibility:()=>b});var n=r(322559),a=r(509727),o=r(21705);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(){var e={peerIds:new Set,hasMore:!0,unreadCount:0,totalCount:0,boundary:{majorSortId:1/0,minorSortId:1/0}};return{all:c({kind:"all"},e),unread:c({kind:"unread"},e),archive:c({kind:"archive",hasMentions:!1,isHidden:!1},e),messageRequest:c({kind:"messageRequest"},e)}}var d={all:"all",unread:"unread",messageRequest:"message_request",businessNotify:"business_notify",archive:"archive"};function p(e){return d[e]}function f(e){return e.boundary.majorSortId!==1/0&&e.boundary.minorSortId!==1/0}function h(e){return"filter_".concat(e)}function v(e){switch(e.kind){case"all":case"unread":return!0;case"messageRequest":return e.peerIds.size>0||e.hasMore;default:return!e.isHidden&&(e.peerIds.size>0||e.hasMore)}}function m(e,t,r,n){var a,o=s(r);try{for(o.s();!(a=o.n()).done;){var i=a.value;C(e,t,i),g(e,i)}}catch(e){o.e(e)}finally{o.f()}e[t].hasMore=n,e[t].hasMore||(e[t].boundary={majorSortId:0,minorSortId:0})}function g(e,t){switch(t.kind){case"ChatConvo":case"GroupConvo":case"UserConvo":case"ContactConvo":case"MessageRequestUserConvo":case"MessageRequestChatConvo":return e.all.peerIds.delete(t.peerId),e.unread.peerIds.delete(t.peerId),e.archive.peerIds.delete(t.peerId),e.messageRequest.peerIds.delete(t.peerId),t.isArchived?void(F(e.archive,t)&&e.archive.peerIds.add(t.peerId)):"MessageRequestUserConvo"===t.kind||"MessageRequestChatConvo"===t.kind?void(F(e.messageRequest,t)&&e.messageRequest.peerIds.add(t.peerId)):(F(e.all,t)&&e.all.peerIds.add(t.peerId),void(a.isUnread(t)&&F(e.unread,t)&&e.unread.peerIds.add(t.peerId)));default:return(0,o.exhaustivenessCheck)(t)}}function D(e,t){var r=t.unread,n=t.archive,a=t.archiveTotal,o=t.archiveMentions,s=t.messageRequests;void 0!==r&&(e.all.unreadCount=r,e.unread.unreadCount=r),void 0!==n&&(e.archive.unreadCount=n),void 0!==o&&(e.archive.hasMentions=!!o),void 0!==a&&(e.archive.hasMore=e.archive.peerIds.size<a,e.archive.totalCount=a),void 0!==s&&(e.messageRequest.hasMore=e.messageRequest.peerIds.size<s,e.messageRequest.totalCount=s)}function y(e,t){if(e.majorSortId!==t.majorSortId)return t.majorSortId-e.majorSortId;var r=null==e?void 0:e.queued.get(e.queuedId),n=null==t?void 0:t.queued.get(t.queuedId);return r&&!n?-1:n&&!r?1:r&&n?n.sentAt-r.sentAt:t.minorSortId-e.minorSortId}function b(e,t){e.archive.isHidden=!t}function C(e,t,r){a.isHidden(r)||(r.majorSortId<e[t].boundary.majorSortId?e[t].boundary={majorSortId:r.majorSortId,minorSortId:r.minorSortId}:r.majorSortId===e[t].boundary.majorSortId&&r.minorSortId<e[t].boundary.minorSortId&&(e[t].boundary.minorSortId=r.minorSortId),"all"===t&&C(e,"unread",r))}function F(e,t){return!a.isHidden(t)&&(t.majorSortId>e.boundary.majorSortId||t.majorSortId===e.boundary.majorSortId&&t.minorSortId>=e.boundary.minorSortId)}},527119:(e,t,r)=>{"use strict";r.d(t,{refresh:()=>s,refreshChannels:()=>i,empty:()=>u});r(21705);var n=r(252229),a=r(782597),o=r(360202);function s(e,t){o.refresh(e.folders,t),n.refresh(e.filters,t)}function i(e,t){a.refresh(e.channelFilters,t)}function u(){return{filters:n.empty(),folders:o.empty(),channelFilters:a.empty()}}},215284:(e,t,r)=>{"use strict";r.d(t,{Api:()=>C,RequestError:()=>F});var n=r(92993),a=r(904604),o=r(81944),s=r(186865),i=r(467846),u=r(621094),c=r(225155),l=r(50706),d=r(322559),p=r(343883),f=r.n(p),h=r(816405),v=r(204743),m=r(190831),g=r(21705);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,o.default)(e);if(t){var s=(0,o.default)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(){function e(t,r,n){var a=this;(0,c.default)(this,e),(0,d.default)(this,"waiting",[]),(0,d.default)(this,"freeResources",m.API_RATE_LIMIT),(0,d.default)(this,"abortTrackers",new Map),(0,d.default)(this,"enrichParams",(function(e,t){var r=e.slice(0,e.indexOf(".")),n={friends:m.API_USER_FIELDS.join(","),messages:Array.from(new Set([].concat((0,u.default)(m.API_USER_FIELDS),(0,u.default)(m.API_GROUP_FIELDS)))).join(","),channels:Array.from(new Set([].concat((0,u.default)(m.API_USER_FIELDS),(0,u.default)(m.API_GROUP_FIELDS)))).join(","),users:m.API_USER_FIELDS.join(","),groups:m.API_GROUP_FIELDS.join(",")}[r];return n?b(b({},t),{},{extended:1,fields:n}):t})),(0,d.default)(this,"doFetch",function(){var e=(0,i.default)(f().mark((function e(t,r,n,o){var s,i,u,c,l,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.lock()){e.next=2;break}return e.abrupt("return",new Promise((function(e,s){a.waiting.push((function(){return a.doFetch(t,r,n,o).then(e).catch(s)}))})));case 2:return a.logger.info("[API] Request",t,r),s=b(b({},a.enrichParams(t,r)),{},{v:h.API_VERSION,access_token:a.token}),i="".concat(m.API_BASE_URL,"/method/").concat(t,"?").concat(v.stringify(s)),e.prev=5,u=a.request(i,n),c=u.response,l=u.abort,o&&a.abortTrackers.set(o,l),e.next=10,c;case 10:if(d=e.sent,o&&a.abortTrackers.delete(o),a.logger.info("[API] Response",t,d),a.release(),!d.error){e.next=16;break}return e.abrupt("return",Promise.reject(new F(d.error.error_code,d.error.error_msg)));case 16:if(!d.execute_errors){e.next=18;break}return e.abrupt("return",Promise.reject(new k));case 18:return e.abrupt("return",d.response);case 21:return e.prev=21,e.t0=e.catch(5),e.t0 instanceof Error&&"TypeError"!==e.t0.name||a.logger.error("[API] Error "+t,e.t0),a.release(),e.abrupt("return",Promise.reject(e.t0));case 27:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t,r,n,a){return e.apply(this,arguments)}}()),(0,d.default)(this,"lock",(function(){return 0!==a.freeResources&&(a.freeResources=Math.max(a.freeResources-1,0),!0)})),(0,d.default)(this,"release",(function(){setTimeout((function(){a.freeResources=Math.min(a.freeResources+1,m.API_RATE_LIMIT);var e=a.waiting.shift();e&&e()}),m.API_RATE_LIMIT_WINDOW+50)})),this.logger=t,this.request=r,this.refreshToken=n}var t;return(0,l.default)(e,[{key:"fetch",value:(t=(0,i.default)(f().mark((function e(t,r){var n,a,o,s,i,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>2&&void 0!==u[2]?u[2]:{},this.token){e.next=5;break}return e.next=4,this.refreshToken(!1);case 4:this.token=e.sent;case 5:a="messages.getLongPollHistory"===t?2e3:m.API_MAX_RETRY_TIMEOUT,o=n.retries||0,s=0;case 8:return e.prev=9,e.next=12,this.doFetch(t,r,n.timeout||m.API_DEFAULT_TIMEOUT,n.trackId);case 12:return i=e.sent,e.abrupt("return",i);case 16:if(e.prev=16,e.t0=e.catch(9),!(e.t0 instanceof Error&&"AbortError"===e.t0.name)){e.next=20;break}throw e.t0;case 20:if(s++,!(e.t0 instanceof F)){e.next=30;break}e.t1=e.t0.code,e.next=5===e.t1?25:30;break;case 25:return e.next=27,this.refreshToken(!0);case 27:return this.token=e.sent,s--,e.abrupt("break",30);case 30:if(s!==o+1){e.next=32;break}throw e.t0;case 32:return e.next=34,(0,g.sleep)(Math.min(m.API_MIN_RETRY_TIMEOUT*Math.pow(2,s),a));case 34:e.next=8;break;case 36:case"end":return e.stop()}}),e,this,[[9,16]])}))),function(e,r){return t.apply(this,arguments)})},{key:"fetchMany",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=[],a=Object.keys(e),o=0,s=a;o<s.length;o++){var i=s[o],u=i.replace(".","_");r.push("var ".concat(u," = fork(API.").concat(i,"(").concat(JSON.stringify(this.enrichParams(i,e[i])),"));")),n.push("'".concat(i,"': wait(").concat(u,")"))}var c="".concat(r.join("\n"),"\nreturn { ").concat(n.join(",")," };");return this.fetch("execute",{code:c},t)}},{key:"dangerouslyAbort",value:function(e){var t;e&&(null===(t=this.abortTrackers.get(e))||void 0===t||t(),this.abortTrackers.delete(e))}}],[{key:"resolveTrackId",value:function(e,t){if(0===t.length)throw new Error("Нельзя отдавать пустую строку в Api.resolveTrackId");return"".concat(e,"-").concat(t)}}]),e}(),F=function(e){(0,n.default)(r,e);var t=D(r);function r(e,n){var a;return(0,c.default)(this,r),(a=t.call(this,n)).code=e,a}return(0,l.default)(r)}((0,s.default)(Error)),k=function(e){(0,n.default)(r,e);var t=D(r);function r(){return(0,c.default)(this,r),t.call(this,"Execute error")}return(0,l.default)(r)}((0,s.default)(Error))},211719:(e,t,r)=>{"use strict";r.d(t,{Engine:()=>f});var n=r(621094),a=r(467846),o=r(50706),s=r(225155),i=r(322559),u=r(343883),c=r.n(u),l=r(21705);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,o.default)((function e(t,r){var o=this;(0,s.default)(this,e),(0,i.default)(this,"reconnectTimeout",new l.RetryTimeout(250,2e4)),(0,i.default)(this,"skipBackoff",(function(){})),(0,i.default)(this,"isWorking",!1),(0,i.default)(this,"empty",(function(){return{kind:"Buffer",buffer:[],isReconnecting:!1}})),(0,i.default)(this,"queued",this.empty()),(0,i.default)(this,"connect",(function(e){if(!o.isWorking){o.isWorking=!0,o.queued=o.empty();var t=function(){var t=(0,a.default)(c().mark((function t(){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.isWorking){t.next=32;break}if(!("Buffer"===o.queued.kind&&o.queued.buffer.length>=50)){t.next=5;break}return o.isWorking=!1,o.dispatch({kind:"Failure"}),t.abrupt("return");case 5:return t.prev=5,r=["act=a_check","key=".concat(e.key),"ts=".concat(e.ts),"wait=".concat(25),"mode=".concat(170),"version=".concat(o.version)],n="https://".concat(e.server,"?").concat(r.join("&")),t.next=10,o.request(n,3e4);case 10:if(a=t.sent,o.reconnectTimeout.reset(),!("failed"in a)){t.next=17;break}return o.logger.info("[ENGINE] Failure",a),o.isWorking=!1,o.dispatch({kind:"Failure"}),t.abrupt("return");case 17:e.ts=a.ts,e.pts=a.pts,o.dispatch(p({kind:"Batch"},a)),t.next=30;break;case 22:return t.prev=22,t.t0=t.catch(5),t.t0 instanceof Error&&"NetworkError"!==t.t0.name||o.logger.error("[ENGINE]",t.t0),o.dispatch({kind:"Reconnecting"}),t.next=29,new Promise((function(e){o.logger.info("[ENGINE]","Reconnecting in ".concat(o.reconnectTimeout.delay()));var t=setTimeout((function(){o.logger.info("[ENGINE]","Reconnecting..."),o.skipBackoff=function(){},e()}),o.reconnectTimeout.delay());o.skipBackoff=function(){clearTimeout(t),o.reconnectTimeout.reset(),o.skipBackoff=function(){},e()}}));case 29:o.reconnectTimeout.backoff();case 30:t.next=0;break;case 32:case"end":return t.stop()}}),t,null,[[5,22]])})));return function(){return t.apply(this,arguments)}}();t(),o.logger.info("[ENGINE] Connected")}})),(0,i.default)(this,"dispatch",(function(e){if("Callback"===o.queued.kind)return o.queued.resolve(e),void(o.queued=o.empty());switch(o.queued.isReconnecting=!1,e.kind){case"Failure":return void o.queued.buffer.push(e);case"Batch":var t,r=o.queued.buffer[o.queued.buffer.length-1];if(r&&"Failure"!==r.kind&&r.pts===e.pts)r.ts=e.ts,r.pts=e.pts,(t=r.updates).push.apply(t,(0,n.default)(e.updates));else o.queued.buffer.push(e);return;case"Reconnecting":return void(o.queued.isReconnecting=!0);default:(0,l.exhaustivenessCheck)(e)}})),(0,i.default)(this,"skipWaiting",(function(){o.skipBackoff()})),(0,i.default)(this,"poll",(function(){if("Callback"===o.queued.kind)return o.queued.reject("Engine.poll вызван повторно до обработки первого вызова!"),new Promise((function(e,t){o.queued={kind:"Callback",resolve:e,reject:t}}));var e=o.queued.buffer.shift();return e?Promise.resolve(e):o.queued.isReconnecting?Promise.resolve({kind:"Reconnecting"}):o.isWorking?new Promise((function(e,t){o.queued={kind:"Callback",resolve:e,reject:t}})):Promise.reject("Engine.connect еще не был вызван!")})),(0,i.default)(this,"isConnected",(function(){return o.isWorking})),this.logger=t,this.request=r,this.version=19}))},526067:(e,t,r)=>{"use strict";r.d(t,{IRouter:()=>p});var n=r(322559),a=r(314432),o=r(360202),s=r(716352),i=r(997864),u=r(606972),c=r(21705);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p,f,h,v,m,g,D,y,b,C,F,k,w,_,E,I="/channels";f=p||(p={}),h=["peerProfile","unreadOnly"],v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new URLSearchParams;return h.forEach((function(r){if(r in e){var n=e[r];n?t.append(r,n.toString()):t.delete(r)}})),t},m=function(e){var t={};return h.reduce((function(r,n){switch(n){case"peerProfile":var o=e.get("peerProfile");if(!o)break;t.peerProfile=a.resolveId(Number(o));break;case"unreadOnly":var s=e.get("unreadOnly");t.unreadOnly=Boolean(s);break;default:(0,c.exhaustivenessCheck)(n)}return r}),{}),t},g=["settings","contacts","createChat"],D=function(e){return g.reduce((function(t,r){return e.has(r)&&(t[r]=!0),t}),{})},y=function(e){var t=[];return e.forEach((function(e,r){t.push(e?[r,e].join("="):r)})),t.join("&")},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new URLSearchParams;return g.forEach((function(r){r in e&&(e[r]?t.append(r,""):t.delete(r))})),t},f.withExtraConvoParams=function(e){return"MainRoute"===e.kind||"ConvoRoute"===e.kind},f.urlParser=function(e){var t=(0,u.parsePath)(e||"/"),r=t.pathname?i.alt(F,k,w,_,E,C).parse(t.pathname):{status:!1,value:null},n=new URLSearchParams(t.search);if(!0===r.status)switch(r.value.name){case"MainRoute":return d(d({kind:"MainRoute"},D(n)),m(n));case"ConvoRoute":var c=n.get("search"),l=n.get("chat_invite");return d(d(d(d({kind:"ConvoRoute",peerId:a.resolveId(Number(r.value.value.peerId)),entrypoint:"list_all"},l&&{chatInvite:l}),c&&{search:c}),D(n)),m(n));case"PeerRoute":return d({kind:"PeerRoute",peerId:a.resolveId(Number(r.value.value.peerId))},m(n));case"FolderRoute":return d({kind:"FolderRoute",folderId:o.resolveId(Number(r.value.value.folderId))},m(n));case"ChannelRoute":return d({kind:"ChannelRoute",channelId:s.resolveId(Number(r.value.value.id))},m(n));case"ChannelsListRoute":return d({kind:"ChannelsListRoute"},m(n));default:return d({kind:"NotFoundRoute"},m(n))}return d({kind:"NotFoundRoute"},m(n))},C=i.regexp(/\/?/).node("MainRoute"),F=i.seqObj(i.string("/convo/"),["peerId",i.regexp(/(-)?[0-9]{1,10}$/)]).map((function(e){return{kind:"ConvoRoute",peerId:a.resolveId(Number(e.peerId))}})).node("ConvoRoute"),k=i.seqObj(i.string("/peer/"),["peerId",i.regexp(/(-)?[0-9]{1,10}$/)]).map((function(e){return{kind:"PeerRoute",peerId:a.resolveId(Number(e.peerId))}})).node("PeerRoute"),w=i.seqObj(i.string("/folder/"),["folderId",i.regexp(/[0-9]{1,2}$/)]).map((function(e){return{kind:"FolderRoute",folderId:o.resolveId(Number(e.folderId))}})).node("FolderRoute"),_=i.seqObj(i.string("/channels/"),["id",i.regexp(/(-)[0-9]{1,10}$/)]).map((function(e){return{kind:"ChannelRoute",id:s.resolveId(Number(e.id))}})).node("ChannelRoute"),E=i.regexp(/\/channels\/?/).node("ChannelsListRoute"),f.createPathFromRoute=function(e){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new URLSearchParams,r=v(e,t);return""!==r.toString()?"?".concat(y(r)):""};switch(e.kind){case"ConvoRoute":var r=b(e);return e.search&&r.append("search",String(e.search)),e.chatInvite&&r.append("chat_invite",e.chatInvite),"/convo/".concat(e.peerId).concat(t(r));case"PeerRoute":return"/peer/".concat(e.peerId).concat(t());case"FolderRoute":return"/folder/".concat(e.folderId).concat(t());case"ChannelsListRoute":return I+t();case"ChannelRoute":return"".concat(I,"/").concat(e.channelId).concat(t());case"MainRoute":var n=b(e);return"/".concat(t(n));case"NotFoundRoute":return"/".concat(t());default:(0,c.exhaustivenessCheck)(e)}}},16032:(e,t,r)=>{"use strict";r.d(t,{Stack:()=>i,Modals:()=>u,resolveId:()=>c});var n=r(225155),a=r(50706),o=r(322559),s=r(608994),i=function(){function e(){var t;(0,n.default)(this,e),(0,o.default)(this,"index",0),this.history=[],this.listeners=(t=[],{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}})}return(0,a.default)(e,[{key:"pop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.history.splice(-e,e);this.index=this.history.length-1,this.listeners.call({action:"remove",payload:t}),this.lastElement&&this.listeners.call({action:"add",payload:this.lastElement})}},{key:"push",value:function(e){this.history.push(e),this.index=this.history.length-1,this.listeners.call({action:"add",payload:e})}},{key:"goBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.index-=e}},{key:"subscribe",value:function(e){return this.listeners.push(e)}},{key:"lastElement",get:function(){return this.history[this.history.length-1]||null}},{key:"currentElement",get:function(){return this.history[this.index]||null}}]),e}();var u=(0,a.default)((function e(){var t=this;(0,n.default)(this,e),(0,o.default)(this,"createGroup",(function(){var e=(0,s.nanoid)(),r={id:e,group:[]};return t.system.groups.set(e,r),r})),(0,o.default)(this,"createModal",(function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,a=t.system.groups.get(e);if(!a)throw Error("Нет такого стека");var o=n||(0,s.nanoid)();return a.group.push({id:o}),t.system.modals.set(o,{groupId:a.id,isSubModal:r}),o})),(0,o.default)(this,"getModalGroup",(function(e){var r=t.system.groups.get(e);if(!r)throw Error("Передан Id несуществующей модалки");return r})),(0,o.default)(this,"getModalParams",(function(e){var r=t.system.modals.get(e);if(!r)throw Error("Попытка получить несуществующую модалку");return r})),this.system={modals:new Map,groups:new Map}}));function c(e){return e}},427144:(e,t,r)=>{"use strict";r.d(t,{Router:()=>u});var n=r(225155),a=r(50706),o=r(322559),s=r(526067),i=r(606972),u=function(){function e(t){var r=this;(0,n.default)(this,e),(0,o.default)(this,"addBasePath",(function(e){return r.basePath?"".concat(r.basePath).concat("/"===e?"":e):e})),(0,o.default)(this,"removeBasePath",(function(e){return r.basePath?e.replace(new RegExp("^".concat(r.basePath.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))),""):e})),(0,o.default)(this,"push",(function(e){r.history.push(r.addBasePath(s.IRouter.createPathFromRoute(e)))})),(0,o.default)(this,"back",(function(){r.history.back()})),(0,o.default)(this,"forward",(function(){r.history.forward()})),(0,o.default)(this,"replace",(function(e){r.history.replace(r.addBasePath(s.IRouter.createPathFromRoute(e)))})),(0,o.default)(this,"subscribe",(function(e){var t=r.history.listen((function(t){var n=t.location;e(s.IRouter.urlParser(r.removeBasePath("".concat(n.pathname).concat(n.search))))}));return function(){return t()}})),this.basePath=t,this.history=(0,i.createBrowserHistory)()}return(0,a.default)(e,[{key:"currentRoute",get:function(){return s.IRouter.urlParser(this.removeBasePath("".concat(this.history.location.pathname).concat(this.history.location.search)))}}]),e}()},63843:(e,t,r)=>{"use strict";r.d(t,{Uploader:()=>D});var n=r(621094),a=r(467846),o=r(225155),s=r(50706),i=r(322559),u=r(343883),c=r.n(u),l=r(409669),d=r.n(l),p=r(303460),f=r(21705),h=r(190831),v=function(e){return"video"===e.kind},m=function(e){return"audio"===e.kind},g=function(e){return"doc"===e.kind},D=function(){function e(t){var r=this;(0,o.default)(this,e),(0,i.default)(this,"emitter",new y),(0,i.default)(this,"requestTimeout",0),(0,i.default)(this,"freeResources",5),(0,i.default)(this,"waiting",[]),(0,i.default)(this,"lock",(function(){return 0!==r.freeResources&&(r.freeResources=Math.max(r.freeResources-1,0),!0)})),(0,i.default)(this,"release",(function(){setTimeout((function(){r.freeResources=Math.min(r.freeResources+1,5);var e=r.waiting.shift();e&&e()}),h.API_RATE_LIMIT_WINDOW+50)})),this.api=t}var t,r,n,u,l,D,b;return(0,s.default)(e,[{key:"uploadImage",value:(b=(0,a.default)(c().mark((function e(t,r){var n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.api.fetch("photos.getMessagesUploadServer",{peer_id:r.viewerId,group_id:r.groupId,upload_v2:0}).then((function(e){var r=e.upload_url,a=new FormData;return a.append("photo",t.file),n.uploadRequest(r,a,t.trackId,(function(e){var t=e.data,r=t.server,a=t.hash,o=t.photo;return n.api.fetch("photos.saveMessagesPhoto",{server:r,hash:a,photo:o}).then((function(e){if(0===e.length||void 0===e[0])throw new Error("Метод photos.saveMessagesPhoto не вернул фотографию");var t=(0,p.fromApiPhoto)(e[0]);if(void 0===t)throw new Error("Не удалось конвертировать фотографию с сервера");return t}))}))})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"uploadVideo",value:(D=(0,a.default)(c().mark((function e(t){var r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.api.fetch("video.save",{target:"messages",preview:1,no_comments:1}).then((function(e){var n=e.upload_url;if(e.access_key,e.owner_id,e.video_id,!n)throw new Error("В методе video.save не вернулся upload_url");var a=new FormData;return a.append("video_file",t.file),r.uploadRequest(n,a,t.trackId,(function(e){var t=e.data,r=t.video_id,n=t.owner_id;return Promise.resolve({kind:"Video",id:r,ownerId:n,image:[{url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdjYGBg+A8AAQQBAHAgZQsAAAAASUVORK5CYII=",width:1,height:1}],views:0})}))})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"uploadAudio",value:(l=(0,a.default)(c().mark((function e(t){var r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.api.fetch("audio.getUploadServer",{}).then((function(e){var n=e.upload_url,a=new FormData;return a.append("file",t.file),r.uploadRequest(n,a,t.trackId,(function(e){var t=e.data,n=t.server,a=t.audio,o=t.hash;return r.api.fetch("audio.save",{server:n,audio:a,hash:o}).then((function(e){return(0,p.fromApiAudio)(e)}))}))})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"uploadDoc",value:(u=(0,a.default)(c().mark((function e(t,r){var n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.api.fetch("docs.getMessagesUploadServer",{type:"doc",peer_id:r.targetPeerId}).then((function(e){var r=e.upload_url,a=new FormData;return a.append("file",t.file),n.uploadRequest(r,a,t.trackId,(function(e){var t=e.data.file;return n.api.fetch("docs.save",{file:t}).then((function(e){if(!e.doc)throw new Error("Метод doc.save не вернул документ");var t=(0,p.fromApiDoc)(e.doc);if(!t)throw new Error("Не удалось конвертировать документ (нет поля url)");return t}))}))})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"uploadVoice",value:(n=(0,a.default)(c().mark((function t(r,n){var a=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.fetch("docs.getMessagesUploadServer",{type:"audio_message",peer_id:n.targetPeerId}).then((function(t){var n=t.upload_url,o=e.resolveTrackId("voice",e.hash()),s=new FormData;return s.append("file",r.file),a.uploadRequest(n,s,o,(function(e){var t=e.data.file;return a.api.fetch("docs.save",{file:t}).then((function(e){if(!e.audio_message)throw new Error("Метод doc.save не вернул аудиосообщение");return(0,p.fromApiVoice)(e.audio_message,!1)}))}))})));case 1:case"end":return t.stop()}}),t,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"uploadChatPhoto",value:(r=(0,a.default)(c().mark((function e(t,r,n){var a=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.api.fetch("photos.getChatUploadServer",{chat_id:r.targetPeerId-2e9,crop_x:n.x,crop_y:n.y,crop_width:n.width}).then((function(e){var n=e.upload_url,o=new FormData;return o.append("photo",t.file),a.uploadRequest(n,o,t.trackId,(function(e){var t=e.data.response;return a.api.fetch("messages.setChatPhoto",{file:t,user_id:r.viewerId}).then((function(){}))}))})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"upload",value:(t=(0,a.default)(c().mark((function e(t,r){var n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.reduce((function(e,t){return"image"===t.kind&&e.push(n.uploadImage(t,r)),v(t)&&e.push(n.uploadVideo(t)),m(t)&&e.push(n.uploadAudio(t)),g(t)&&e.push(n.uploadDoc(t,r)),e}),[])));case 1:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:"uploadRequest",value:function(e,t,r,n){var a=this,o=r,s=new AbortController,i=function(){return d().post(e,t,{signal:s.signal,timeout:a.requestTimeout,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){a.emitter.emit(o,{loaded:e.loaded,total:e.total})}}).then((function(e){return a.emitter.removeAllListeners(o),n(e)})).then((function(e){return a.release(),e})).catch((function(e){return a.release(),Promise.reject(e)}))};return this.lock()?{abort:function(){return s.abort()},trackId:r,response:i()}:{abort:function(){return s.abort()},trackId:r,response:new Promise((function(e,t){a.waiting.push((function(){return i().then(e).catch(t)}))}))}}},{key:"trackProgress",value:function(e,t){this.emitter.addListener(e,t)}}],[{key:"hash",value:function(){return Math.floor(1e8*Math.random()+1e8).toString(16)}},{key:"resolveTrackId",value:function(e,t){if(0===t.length)throw new Error("Нельзя отдавать пустую строку в Uploader.resolveTrackId");return"".concat(e,"-").concat(t)}},{key:"toFileInfo",value:function(t,r){switch(r){case"image":return{kind:"image",trackId:e.resolveTrackId("image",e.hash()),file:t};case"video":return{kind:"video",trackId:e.resolveTrackId("video",e.hash()),file:t};case"audio":return{kind:"audio",trackId:e.resolveTrackId("audio",e.hash()),file:t};case"doc":return{kind:"doc",trackId:e.resolveTrackId("doc",e.hash()),file:t};case"voice":return{kind:"voice",trackId:e.resolveTrackId("voice",e.hash()),file:t};case"chat-photo":return{kind:"chat-photo",trackId:e.resolveTrackId("chat-photo",e.hash()),file:t};default:(0,f.exhaustivenessCheck)(r)}}}]),e}(),y=function(){function e(){(0,o.default)(this,e),(0,i.default)(this,"map",new Map)}return(0,s.default)(e,[{key:"addListener",value:function(e,t){this.map.set(e,[].concat((0,n.default)(this.map.get(e)||[]),[t]))}},{key:"removeListener",value:function(e,t){var r=this.map.get(e);r&&r.length>0&&this.map.set(e,r.filter((function(e){return e!==t})))}},{key:"removeAllListeners",value:function(e){this.map.delete(e)}},{key:"emit",value:function(e,t){var r;null===(r=this.map.get(e))||void 0===r||r.forEach((function(e){return e(t)}))}}]),e}()},716192:(e,t,r)=>{"use strict";r.d(t,{handler:()=>o});var n=r(837021),a=r(314432),o=function(e,t,r){var o=t.profiles,s=t.groups,i=t.conversations,u=t.mutualFriends,c=t.contacts;if((0,n.insertConvos)(r,e,i||[]),(0,n.insertPeers)(e,{apiUsers:o||[],apiGroups:s||[],apiContacts:c||[]}),u){var l=e.peers.get(a.resolveId(u.peerId));l&&a.updateMutualFriends(l,u.hint.map(a.resolveId),u.count)}return[]}},103820:(e,t,r)=>{"use strict";r.d(t,{handler:()=>E});var n=r(975066),a=r(621094),o=r(322559),s=r(467846),i=r(343883),u=r.n(i),c=r(837021),l=r(281385),d=r(341570),p=r(527119),f=r(252229),h=r(314432),v=r(509727),m=r(980662),g=r(360202),D=r(21705),y=r(190831),b=r(975474),C=r(583906);function F(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(e,t,r){if(!r)throw new Error("feature flags not passed");switch(t.type){case"EngineBatchReceived":var n=t.variant;switch(n.kind){case"FromEngine":return I(r,e,n);case"FromEngineWithMissingData":return function(e,t,r){var n=r.apiConvos,a=r.apiMessages,o=r.apiUsers,s=r.apiGroups,i=r.apiContacts,u=A(a,n);return(0,c.insertConvos)(e,t,n.map((function(e){return{conversation:e,last_message:u.messages_legacy.get(e.last_message_id)}})),{dangerouslyMerge:!0}),(0,c.insertPeers)(t,{apiUsers:o,apiGroups:s,apiContacts:i}),I(e,t,{kind:"FromEngine",next:r.skippedBatch},u)}(r,e,n);case"FromApiEngineHistory":return function(e,t,r){var n=r.next,a=r.apiMessages,o=r.apiConvos,s=r.apiUsers,i=r.apiGroups,u=r.apiContacts,l=A(a,o);return(0,c.insertConvos)(e,t,o.map((function(e){return{conversation:e,last_message:l.messages_legacy.get(e.last_message_id)}})),{dangerouslyMerge:!0}),(0,c.insertPeers)(t,{apiUsers:s,apiGroups:i,apiContacts:u},{dangerouslyOverwrite:!0}),I(e,t,{kind:"FromEngine",next:n},l)}(r,e,n);default:return(0,D.exhaustivenessCheck)(n)}case"EngineBatchReceived_TypingsTimedOut":var a=t.peerId,o=t.typingType,s=t.timestamp,i=e.typings.get(a);if(!i)return[];var u=i[o];return u?(u.updatedAt<=s&&delete i[o],0===Object.keys(i).length&&e.typings.delete(a),[]):[];case"InvalidateFolder":case"TemporaryHackForResync":case"UpdateMessageRequestsCounter":return[];default:return(0,D.exhaustivenessCheck)(t)}};function I(e,t,r,i){var k=r.next;if("Reconnecting"===k.kind)return t.status="reconnecting",[S()];if("Failure"===k.kind){t.status="resyncing";var w=t.pts,E=t.ownerId;return[function(){var e=(0,s.default)(u().mark((function e(t){var r,n,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,a=t.engine,o=t.queue,e.next=3,n.fetch("messages.getLongPollHistory",{lp_version:a.version,credentials:1,pts:w,msgs_limit:1100,events_limit:1100,last_n:1e3,group_id:(0,c.getOwnerGroupId)(E)},{retries:1/0});case 3:if(s=e.sent,!(w<(s.from_pts||0))){e.next=7;break}return o.disconnect(),e.abrupt("return",{type:"TemporaryHackForResync"});case 7:if(s.credentials&&s.credentials.pts){e.next=9;break}throw new Error("В ответе getLongPollHistory отсутствуют новые креды!");case 9:return e.next=11,a.connect(_(_({},s.credentials),{},{pts:s.credentials.pts}));case 11:return e.abrupt("return",{type:"EngineBatchReceived",variant:{kind:"FromApiEngineHistory",apiMessages:(null===(r=s.messages)||void 0===r?void 0:r.items)||[],apiConvos:s.conversations||[],apiUsers:s.profiles||[],apiGroups:s.groups||[],apiContacts:s.contacts||[],next:{kind:"Batch",pts:s.credentials.pts,ts:s.credentials.ts,updates:s.history||[]}}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}if(!(void 0!==i)&&function(e,t){var r,a=F(t.updates);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(l.IEngine.isIncompleteUpdate(o))return!0;switch(o[0]){case 20:case 21:var s=(0,n.default)(o,2)[1],i=h.resolveId(s);if(!e.convos.has(i))return!0;break;case 52:var u=(0,n.default)(o,3),c=u[1],p=u[2],f=h.resolveId(p),v=e.convos.get(f);if(!v)break;switch(c){case l.IEngine.ChatUpdateType.TitleChanged:case l.IEngine.ChatUpdateType.AvatarChanged:case l.IEngine.ChatUpdateType.BannerChanged:case l.IEngine.ChatUpdateType.MessageRequestChanged:case l.IEngine.ChatUpdateType.MessageRequestCanceled:case l.IEngine.ChatUpdateType.MessageRequestAccepted:case l.IEngine.ChatUpdateType.MessageRequestRejected:return!0;case l.IEngine.ChatUpdateType.UserJoined:case l.IEngine.ChatUpdateType.UserLeft:case l.IEngine.ChatUpdateType.UserKicked:break;case l.IEngine.ChatUpdateType.Pinned:var g=(0,n.default)(o,4)[3];if(0===g)break;var y=m.resolveCmid(g);return!v.persisted.has(y);case l.IEngine.ChatUpdateType.CallInProgressChanged:return!0;case l.IEngine.ChatUpdateType.CopyFlagChanged:case l.IEngine.ChatUpdateType.AdminGrated:case l.IEngine.ChatUpdateType.FlagsChanged:case l.IEngine.ChatUpdateType.AdminKicked:case l.IEngine.ChatUpdateType.KeyboardChanged:case l.IEngine.ChatUpdateType.ContactConverted:case l.IEngine.ChatUpdateType.BusinessNotifyDataChanged:case l.IEngine.ChatUpdateType.ContactJoined:case l.IEngine.ChatUpdateType.DonSubscribed:case l.IEngine.ChatUpdateType.DonUnsubscribed:case l.IEngine.ChatUpdateType.IsNewChange:case l.IEngine.ChatUpdateType.StyleChanged:break;default:}break;case 10013:var b=(0,n.default)(o,2)[1],C=h.resolveId(b);return e.convos.has(C);case 63:case 64:case 65:case 66:case 67:case 1:case 2:case 3:case 6:case 7:case 10:case 11:case 12:case 80:case 114:case 115:case 119:case 500:case 10001:case 10002:case 10006:case 10007:break;case 10003:var k=(0,n.default)(o,4),w=k[2],_=k[3];if(l.IEngine.isIncompleteUpdate(o))break;var E=h.resolveId(_),I=e.convos.get(E);if(!I)break;var S=m.convertFlags(w),O=S.isDeleted,A=S.isSpam;if((O||A)&&I)return!0;break;case 4:case 10004:var P=(0,n.default)(o,9),j=P[4],M=P[7],U=P[8],T=h.resolveId(j),B=e.convos.get(T);if(!B)return!0;var q=x(B);if(R(U,q))return!0;if(M.has_template)return!0;var N=(0,d.fromEngineMessage)(o,e.ownerId,q).message;if(!e.peers.has(N.peerId)||!e.peers.has(N.authorId))return!0;switch(N.kind){case"Normal":case"Expired":break;case"Service":switch(N.action.type){case"chat_invite_user":if(N.action.peerId===e.ownerId)return!0;break;case"chat_kick_user":case"chat_invite_user_by_call":case"chat_invite_user_by_message_request":case"chat_kick_user_call_block":if(!e.peers.has(N.action.peerId))return!0;break;case"chat_screenshot":case"chat_create":case"chat_title_update":case"chat_photo_update":case"chat_photo_remove":case"chat_pin_message":case"chat_unpin_message":case"chat_group_call_started":case"chat_invite_user_by_link":case"chat_invite_user_by_call_join_link":case"sent_message_requests_count":case"accepted_message_request":case"chat_kick_don":case"conversation_style_update":case"conversation_style_update_action":case"unknown":break;default:(0,D.exhaustivenessCheck)(N.action)}break;default:(0,D.exhaustivenessCheck)(N)}break;case 5:case 18:case 10005:case 10018:var L=(0,n.default)(o,8),H=L[3],z=L[7],G=h.resolveId(H),W=e.convos.get(G);if(!W)break;if(R(z,x(W)))return!0;break;case 19:case 10019:return!0;default:}}}catch(e){a.e(e)}finally{a.f()}return!1}(t,k))return[O(t.pts,k,t.ownerId)];t.status="running",t.pts=k.pts;var I=k.updates.flatMap((function(r){switch(r[0]){case 1:case 2:case 3:return function(e,t,r){var a=(0,n.default)(t,4),o=a[0],s=a[1],i=a[2],u=a[3],c=h.resolveId(u),l=m.resolveId(s),d=e.convos.get(c);if(!d)return[];var p=v.findMessageById(d,l);if(!p)return[];return P(e,[{1:10001,2:10002,3:10003}[o],p.cmid,i,u])}(t,r);case 4:case 5:case 18:case 19:return function(e,t,r){var a,o=(0,n.default)(t,2)[1],s=null==r?void 0:r.messages_legacy.get(o);switch(t[0]){case 4:if(l.IEngine.isIncompleteUpdate(t)){if(!s)return[];var i=(0,n.default)(t,4),u=i[2],c=i[3];a=[10004,s.conversation_message_id,u,c,s.peer_id];break}var d=(0,n.default)(t,12),p=d[2],f=d[3],h=d[4],v=d[5],m=d[6],g=d[7],y=d[8],b=d[9];a=[10004,d[10],p,f,h,v,m,g,y,b,o,d[11]];break;case 5:if(l.IEngine.isIncompleteUpdate(t)){if(!s)return[];var C=(0,n.default)(t,3)[2];a=[10005,s.conversation_message_id,C,s.peer_id];break}var F=(0,n.default)(t,11),k=F[2],w=F[3],_=F[4],E=F[5],I=F[6],S=F[7],O=F[8];a=[10005,F[9],k,w,_,E,I,S,O,o,F[10]];break;case 18:if(l.IEngine.isIncompleteUpdate(t)){if(!s)return[];var A=(0,n.default)(t,3)[2];a=[10018,s.conversation_message_id,A,s.peer_id];break}var x=(0,n.default)(t,11),R=x[2],P=x[3],M=x[4],U=x[5],T=x[6],B=x[7],q=x[8];a=[10018,x[9],R,P,M,U,T,B,q,o,x[10]];break;case 19:if(!s)return[];a=[10019,s.conversation_message_id,s.peer_id];break;default:(0,D.exhaustivenessCheck)(t)}return j(e,a,r)}(t,r,i);case 6:case 7:return function(e,t,r){var a,o=(0,n.default)(t,2),s=o[0],i=o[1],u=h.resolveId(i),c=e.convos.get(u);if(!c)return[];var l=null==r?void 0:r.convos.get(i),d=l&&(null===(a=(0,b.fromApiConvo)(l))||void 0===a?void 0:a.convo);if(!d)return[];return 6===s?v.readInUntil(c,d.inReadBy,d.unreadCount):v.readOutUntil(c,d.outReadBy),p.refresh(e.organisers,c),[]}(t,r,i);case 10:case 11:case 12:return function(e,t){var r=(0,n.default)(t,3),a=r[0],o=r[1],s=r[2],i=h.resolveId(o),u=e.convos.get(i);if(!u)return[];var c={10:"unset",11:"replace",12:"set"}[a];return v.updateFlags(u,c,s),p.refresh(e.organisers,u),[]}(t,r);case 20:return function(e,t){var r=(0,n.default)(t,3),a=r[1],o=r[2],s=h.resolveId(a),i=e.convos.get(s);if(!i)return[];return v.updateSortId(i,{majorSortId:o}),p.refresh(e.organisers,i),[]}(t,r);case 21:return function(e,t){var r=(0,n.default)(t,3),a=r[1],o=r[2],i=h.resolveId(a),c=e.convos.get(i);if(!c)return[];v.updateSortId(c,{minorSortId:o}),p.refresh(e.organisers,c);var l=o<=0,d=e.organisers.filters.messageRequest.totalCount>0;if(l&&d)return[(0,s.default)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{type:"UpdateMessageRequestsCounter",peerId:i});case 1:case"end":return e.stop()}}),e)})))];return[]}(t,r);case 52:return function(e,t,r,a){var o=(0,n.default)(t,4),i=o[1],d=o[2],f=o[3],g=h.resolveId(d),D=e.convos.get(g);if(!D)return[];var y=null==a?void 0:a.convos.get(d),C=y&&(0,b.fromApiConvo)(y);switch(i){case l.IEngine.ChatUpdateType.CopyFlagChanged:case l.IEngine.ChatUpdateType.TitleChanged:case l.IEngine.ChatUpdateType.AvatarChanged:case l.IEngine.ChatUpdateType.FlagsChanged:return[];case l.IEngine.ChatUpdateType.Pinned:if("ChatConvo"!==D.kind)return[];var F=f,k=m.resolveCmid(F);if(e.hiddenPinnedMessages.delete(g),(null==C?void 0:C.convo.kind)===D.kind)return C.convo.pinnedMessage&&v.pinMessage(D,C.convo.pinnedMessage),[];if(0===k)v.unpinMessage(D);else{var w=D.persisted.get(k);"Normal"===(null==w?void 0:w.kind)&&v.pinMessage(D,m.toPinned(w))}return[];case l.IEngine.ChatUpdateType.UserJoined:if("ChatConvo"!==D.kind)return[];var _=h.resolveId(f);if(!h.isUserPeerId(_)&&!h.isGroupPeerId(_))break;_===e.ownerId&&(v.changeUserState(D,"in"),y&&(0,c.insertConvos)(r,e,[y],{dangerouslyMerge:!0})),v.addMember(D,_);break;case l.IEngine.ChatUpdateType.UserLeft:if("ChatConvo"!==D.kind)return[];var E=h.resolveId(f);if(!h.isUserPeerId(E)&&!h.isGroupPeerId(E))break;E===e.ownerId&&v.changeUserState(D,"left"),v.removeMember(D,E);break;case l.IEngine.ChatUpdateType.UserKicked:if("ChatConvo"!==D.kind)return[];var I=h.resolveId(f);if(!h.isUserPeerId(I)&&!h.isGroupPeerId(I))break;I===e.ownerId&&v.changeUserState(D,"kicked"),v.removeMember(D,I);break;case l.IEngine.ChatUpdateType.KeyboardChanged:return[];case l.IEngine.ChatUpdateType.CallInProgressChanged:return"ChatConvo"===D.kind&&(null==C?void 0:C.convo.kind)===D.kind&&v.updateActiveCall(D,C.convo.activeCall),[];case l.IEngine.ChatUpdateType.IsNewChange:return v.updateIsNew(D,!!f),[];case l.IEngine.ChatUpdateType.MessageRequestChanged:var S=f;switch(S){case l.IEngine.MRStatus.Accepted:if("MessageRequestChatConvo"!==D.kind&&"MessageRequestUserConvo"!==D.kind){p.refresh(e.organisers,D);break}var O=v.fromAcceptedMessageRequest(D);e.convos.set(g,O),p.refresh(e.organisers,O);break;case l.IEngine.MRStatus.New:p.refresh(e.organisers,D);break;case l.IEngine.MRStatus.Deleted:case l.IEngine.MRStatus.Rejected:e.organisers.filters.messageRequest.peerIds.delete(g),e.organisers.filters.all.peerIds.delete(g);break;default:}return[(0,s.default)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{type:"UpdateMessageRequestsCounter",peerId:g});case 1:case"end":return e.stop()}}),e)})))];case l.IEngine.ChatUpdateType.AdminGrated:var A=h.resolveId(f);return"ChatConvo"!==D.kind||!h.isUserPeerId(A)&&!h.isGroupPeerId(A)||D.adminIds.add(A),[];case l.IEngine.ChatUpdateType.AdminKicked:var x=h.resolveId(f);return"ChatConvo"!==D.kind||!h.isUserPeerId(x)&&!h.isGroupPeerId(x)||D.adminIds.delete(x),[];case l.IEngine.ChatUpdateType.BannerChanged:case l.IEngine.ChatUpdateType.BusinessNotifyDataChanged:case l.IEngine.ChatUpdateType.MessageRequestAccepted:case l.IEngine.ChatUpdateType.MessageRequestCanceled:case l.IEngine.ChatUpdateType.MessageRequestRejected:case l.IEngine.ChatUpdateType.ContactJoined:case l.IEngine.ChatUpdateType.ContactConverted:case l.IEngine.ChatUpdateType.DonSubscribed:case l.IEngine.ChatUpdateType.DonUnsubscribed:case l.IEngine.ChatUpdateType.StyleChanged:return[];default:}return[]}(t,r,e,i);case 63:case 64:case 65:case 66:case 67:return function(e,t){var r=(0,n.default)(t,5),a=r[0],i=r[1],c=r[2],l=r[3],d=r[4],p=h.resolveId(i),f=new Set(c.map((function(e){return h.resolveId(e)})));if(f.delete(e.viewerId),!e.convos.get(p))return[];var v={63:"text",64:"voice",65:"photo",66:"video",67:"file"}[a],m=_(_({},e.typings.get(p)||{}),{},(0,o.default)({},v,{peerIds:f,updatedAt:d,totalCount:l}));return e.typings.set(p,m),[function(){var e=(0,s.default)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.sleep)(y.TYPING_EXPIRATION_TIME);case 2:return e.abrupt("return",{type:"EngineBatchReceived_TypingsTimedOut",peerId:p,typingType:v,timestamp:d});case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()]}(t,r);case 80:return function(e,t){var r=(0,n.default)(t,10),a=r[1],o=r[7],s=r[9];return f.updateCounters(e.organisers.filters,{unread:a,archive:o,archiveMentions:s}),[]}(t,r);case 114:return function(e,t){var r=(0,n.default)(t,2)[1].peer_id,a=h.resolveId(r),o=e.convos.get(a);if(!o)return[];var s=(0,b.fromLongpollPushSettings)(t);return v.updatePush(o,s),[]}(t,r);case 115:return function(e,t){var r=(0,n.default)(t,2)[1];return[function(){var e=(0,s.default)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=t.calls)||void 0===n||n.showIncomingCall(r),e.abrupt("return",{type:"Noop"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(0,r);case 119:return function(e,t){var r=(0,n.default)(t,2)[1],a=h.resolveId(r.peer_id),o=h.resolveId(r.owner_id),i=e.convos.get(a),c=e.peers.get(a),l=e.peers.get(o),d=i&&c&&l?(0,C.fromApiMessageEvent)(c,l,r):void 0;return[function(){var e=(0,s.default)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d&&t.botKeyboard.update(d),e.abrupt("return",{type:"Noop"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(t,r);case 500:return function(e,t){var r=(0,n.default)(t,2)[1];switch(r){case l.IEngine.FolderUpdateType.FolderCreated:var a=(0,n.default)(t,4),o=a[2],i=a[3];(0,c.insertFolder)(e,[{id:o,name:i}]);break;case l.IEngine.FolderUpdateType.FolderDeleted:var d=(0,n.default)(t,3)[2];g.deleteFolder(e.organisers.folders,g.resolveId(d));break;case l.IEngine.FolderUpdateType.FolderUpdated:var p=(0,n.default)(t,5),f=p[2],v=p[3],m=p[4],y=g.resolveId(f),b=e.organisers.folders.find((function(e){return e.id===y}));if(!b)return[];v&&g.setName(b,v),m.forEach((function(t){var r=(0,n.default)(t,4),a=r[0],o=r[1],s=r[2],i=r[3];switch(a){case l.IEngine.FolderUpdateElementAction.Add:switch(o){case l.IEngine.FolderUpdateElementState.Include:switch(s){case l.IEngine.FolderUpdateElementType.PeerIds:g.addPeers(b.id,i.map((function(e){return h.resolveId(e)})),e.convos).forEach((function(t){return g.refresh(e.organisers.folders,t)}));break;case l.IEngine.FolderUpdateElementType.PeerSublist:case l.IEngine.FolderUpdateElementType.TagSublist:break;default:(0,D.exhaustivenessCheck)(s)}break;case l.IEngine.FolderUpdateElementState.Exclude:switch(s){case l.IEngine.FolderUpdateElementType.PeerIds:g.removePeers(b.id,i.map((function(e){return h.resolveId(e)})),e.convos).forEach((function(t){return g.refresh(e.organisers.folders,t)}));break;case l.IEngine.FolderUpdateElementType.PeerSublist:case l.IEngine.FolderUpdateElementType.TagSublist:break;default:(0,D.exhaustivenessCheck)(s)}break;default:(0,D.exhaustivenessCheck)(o)}break;case l.IEngine.FolderUpdateElementAction.Remove:break;default:(0,D.exhaustivenessCheck)(a)}}));break;case l.IEngine.FolderUpdateType.FoldersReordered:var C=(0,n.default)(t,3)[2].reduce((function(e,t,r){return e.set(g.resolveId(t),r),e}),new Map);e.organisers.folders.sort((function(e,t){var r,n;return(null!==(r=C.get(e.id))&&void 0!==r?r:0)-(null!==(n=C.get(t.id))&&void 0!==n?n:0)}));break;case l.IEngine.FolderUpdateType.FolderInvalidate:var F=(0,n.default)(t,3)[2];return[function(){var e=(0,s.default)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{type:"InvalidateFolder",folderId:g.resolveId(F)});case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()];case l.IEngine.FolderUpdateType.FolderSetMajorSortId:case l.IEngine.FolderUpdateType.FoldersInvalidate:break;default:(0,D.exhaustivenessCheck)(r)}return[]}(t,r);case 10001:case 10002:case 10003:return P(t,r,i);case 10004:case 10005:case 10018:case 10019:return j(t,r,i);case 10006:case 10007:return function(e,t){var r=(0,n.default)(t,4),a=r[0],o=r[1],s=r[2],i=r[3],u=h.resolveId(o),c=m.resolveCmid(s),l=e.convos.get(u);if(!l)return[];return 10006===a?v.readInUntil(l,c,i):v.readOutUntil(l,c),p.refresh(e.organisers,l),[]}(t,r);case 10013:return function(e,t,r){var a=(0,n.default)(t,3),o=a[1],i=a[2],c=h.resolveId(o),l=m.resolveCmid(i),d=e.convos.get(c);if(!d)return[];if(d.persistedCmid!==l)return[];var f=null==r?void 0:r.convos.get(o),v=f&&(0,b.fromApiConvo)(f);if(!v)return[function(){var e=(0,s.default)(u().mark((function e(r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.logger.error("[EngineBatchReceived]",new Error("В ".concat(t[0]," отсутствует дозагруженная беседа"))),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}()];e.convos.set(v.convo.peerId,v.convo),v.peer&&e.peers.set(v.peer.id,v.peer);return p.refresh(e.organisers,d),[]}(t,r,i);default:return[]}}));return[S()].concat((0,a.default)(I))}function S(){return function(){var e=(0,s.default)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.engine,e.next=3,r.poll();case 3:return e.t0=e.sent,e.t1={kind:"FromEngine",next:e.t0},e.abrupt("return",{type:"EngineBatchReceived",variant:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function O(e,t,r){return function(){var n=(0,s.default)(u().mark((function n(a){var o,s,i,l;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.api,i=a.engine,a.logger,n.next=3,s.fetch("messages.getLongPollHistory",{pts:e,lp_version:i.version,group_id:(0,c.getOwnerGroupId)(r)},{retries:1/0});case 3:return l=n.sent,n.abrupt("return",{type:"EngineBatchReceived",variant:{kind:"FromEngineWithMissingData",apiConvos:l.conversations||[],apiMessages:(null===(o=l.messages)||void 0===o?void 0:o.items)||[],apiUsers:l.profiles||[],apiGroups:l.groups||[],skippedBatch:t,apiContacts:l.contacts||[]}});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function A(e,t){var r,n=new Map,a=F(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=n.get(o.peer_id);s||(s=new Map,n.set(o.peer_id,s)),s.set(o.conversation_message_id,o)}}catch(e){a.e(e)}finally{a.f()}return{messages_legacy:new Map(e.map((function(e){return[e.id,e]}))),messagesByPeerId:n,convos:new Map(t.map((function(e){return[e.peer.id,e]})))}}function x(e){return function(t){var r=e.persisted.get(t);return"Normal"===(null==r?void 0:r.kind)?r:void 0}}function R(e,t){if("string"==typeof e.attach1_type)return"sticker"!==e.attach1_type&&("audiomsg"!==e.attach1_kind||"doc"!==e.attach1_type);if(void 0!==e.geo)return!0;if(void 0!==e.fwd&&void 0===e.reply)return!0;if(void 0!==e.reply){var r=JSON.parse(e.reply);if(!t(m.resolveCmid(r.conversation_message_id)))return!0}return!1}function P(e,t,r){var a=(0,n.default)(t,9),o=a[0],s=a[1],i=a[2],u=a[3],c=m.resolveCmid(s),l=h.resolveId(u),p=e.convos.get(l);if(!p)return[];if(10003===o){var f=m.convertFlags(i),g=f.isDeleted,D=f.isSpam;if((g||D)&&s){var y,b=null==r||null===(y=r.messagesByPeerId.get(u))||void 0===y?void 0:y.get(s);if(b){var C=(0,d.fromApiMessage)(b);v.restoreMessage(p,C.message,C.mentions.hasDirect||C.mentions.hasMass)}}}var F={10001:"replace",10002:"set",10003:"unset"}[o],k=p.persisted.get(c);return k?(v.updateMessageFlags(p,k.cmid,F,i),[]):[]}function j(e,t,r){var a,o,s=(0,n.default)(t,2)[1];switch(t[0]){case 10004:o=t[4];break;case 10005:case 10018:o=t[3];break;case 10019:o=t[2];break;default:(0,D.exhaustivenessCheck)(t)}var i=h.resolveId(o),u=e.convos.get(i);if(!u)return[];var f,m,g,y=null==r||null===(a=r.messagesByPeerId.get(o))||void 0===a?void 0:a.get(s);if(y){var b=(0,d.fromApiMessage)(y);f=b.message,m=b.mentions}else{if(l.IEngine.isIncompleteUpdate(t)||10019===t[0])return[];var C=(0,d.fromEngineMessage)(t,e.ownerId,x(u));f=C.message,m=C.mentions,g=C.keyboardEvent}switch(t[0]){case 10004:var k=e.typings.get(u.peerId);if(k){var w,_=F(c.TypingVariants);try{for(_.s();!(w=_.n()).done;){var E=w.value,I=k[E];I&&I.peerIds.has(f.authorId)&&(I.peerIds.delete(f.authorId),I.totalCount--,0===I.totalCount&&delete k[E],0===Object.keys(k).length&&e.typings.delete(u.peerId))}}catch(e){_.e(e)}finally{_.f()}}var S=t[3];return"ChatConvo"===u.kind?v.appendMessage(u,f,S,m.hasDirect||m.hasMass,g):v.appendMessage(u,f,S,!1,g),p.refresh(e.organisers,u),e.locks.convosCleanup.has(u.peerId)||v.cleanup(u),[];case 10005:case 10018:case 10019:return v.replaceMessage(u,f,m.hasDirect||m.hasMass),[];default:return(0,D.exhaustivenessCheck)(t)}}},687049:(e,t,r)=>{"use strict";r.d(t,{handler:()=>c});var n=r(467846),a=r(343883),o=r.n(a),s=r(360202),i=r(21705),u=r(590917),c=function(e,t){switch(t.type){case"InvalidateFolder":var r=t.folderId;return[function(){var e=(0,n.default)(o().mark((function e(t){var n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,e.prev=1,e.next=4,n.fetch("messages.getFolders",{});case 4:if(a=e.sent,s=a.items.find((function(e){return e.id===r}))){e.next=8;break}throw new Error("Не найдена папка");case 8:return e.abrupt("return",{type:"InvalidateFolder_RequestCompleted",hasFailed:!1,folderId:r,name:s.name});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{type:"InvalidateFolder_RequestCompleted",folderId:r,hasFailed:!0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()];case"InvalidateFolder_RequestCompleted":var a=t.hasFailed,c=t.folderId;if(a||!t.name)return[];var l=(0,u.fromApiFolder)({id:c,name:t.name});return s.replaceFolder(e.organisers.folders,l),[];default:(0,i.exhaustivenessCheck)(t)}}},581738:(e,t,r)=>{"use strict";r.d(t,{handler:()=>u});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=r(837021),u=function(e,t){switch(t.type){case"LoadContactList":return e.locks.contactList?[]:(e.locks.contactList=!0,[function(){var e=(0,n.default)(o().mark((function e(r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.api,e.prev=1,e.next=4,n.fetch("account.getContactList",{extended:1,offset:t.offset},{retries:1});case 4:return a=e.sent,e.abrupt("return",{type:"LoadContactList_RequestCompleted",hasFailed:1!==a,contacts:a.contacts||[]});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"LoadContactList_RequestCompleted",hasFailed:!0,contacts:[]});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]);case"LoadContactList_RequestCompleted":return e.locks.contactList=!1,(0,i.insertContacts)(e,t.contacts),[];default:(0,s.exhaustivenessCheck)(t)}}},455995:(e,t,r)=>{"use strict";r.d(t,{handler:()=>c,getImportantMessageKey:()=>l});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=r(341570),u=r(837021),c=function(e,t,r){switch(t.type){case"LoadImportantMessages":var a=20*Math.floor(e.importantMessages.messages.size/20),c=e.ownerId;return[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.getImportantMessages",{count:20,offset:a,group_id:(0,u.getOwnerGroupId)(c)});case 4:return n=e.sent,e.abrupt("return",{type:"LoadImportantMessages_RequestCompleted",hasFailed:!1,response:n});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"Noop"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"LoadImportantMessages_RequestCompleted":var d,p,f=t.response,h=f.messages,v=f.profiles,m=f.groups,g=f.conversations;return((null===(d=h.items)||void 0===d?void 0:d.length)||0)<20&&(e.importantMessages.hasMore=!1),(0,u.insertConvos)(r,e,g||[],{dangerouslyMerge:!0}),(0,u.insertPeers)(e,{apiUsers:v||[],apiGroups:m||[],apiContacts:[]}),null===(p=h.items)||void 0===p||p.forEach((function(t){var r=(0,i.fromApiMessage)(t).message;"Normal"===r.kind&&e.importantMessages.messages.set(l(r.peerId,r.cmid),r)})),[];case"UserClosedImportantMessages":return e.importantMessages.messages.clear(),e.importantMessages.hasMore=!0,[];default:return(0,s.exhaustivenessCheck)(t)}},l=function(e,t){return"".concat(e,"-").concat(t)}},903975:(e,t,r)=>{"use strict";r.d(t,{handler:()=>f});var n=r(322559),a=r(467846),o=r(343883),s=r.n(o),i=r(837021),u=r(190831),c=r(782597),l=r(21705);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e,t){switch(t.type){case"MoreChannelsNeeded":var r=t.organiser.filter,n=c.getLockId(r);if(e.locks.getChannels[n]||!e.organisers.channelFilters[r].hasMore)return[];var o=e.organisers.channelFilters[r].boundary,d=o.minorSortId,f=o.channelId;e.locks.getChannels[n]=!0;var h=u.CHANNELS_PER_PAGE,v=c.isLoaded(e.organisers.channelFilters[r])?d:void 0;return[function(){var e=(0,a.default)(s().mark((function e(r){var n,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.api,e.prev=1,e.next=4,n.fetch("channels.get",{count:h,offset_minor_sort_id:v,offset_channel_id:f},{retries:3});case 4:return o=e.sent,e.abrupt("return",p(p({},t),{},{type:"MoreChannelsNeeded_RequestCompleted",hasFailed:!1,response:o,hasMore:((null===(a=o.items)||void 0===a?void 0:a.length)||0)>=h}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",p(p({},t),{},{type:"MoreChannelsNeeded_RequestCompleted",hasFailed:!0,hasMore:!1}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"MoreChannelsNeeded_RequestCompleted":var m=t.hasFailed,g=t.organiser,D=t.hasMore,y="";if("channelFilters"===g.kind)y=c.getLockId(g.filter);else(0,l.exhaustivenessCheck)(g.kind);if(e.locks.getChannels[y]=!1,m)return[];var b=t.response;if(b){var C=(0,i.insertChannels)(e,b);if("channelFilters"===g.kind)c.push(e.organisers.channelFilters,"all",C,D);else(0,l.exhaustivenessCheck)(g.kind)}return[];default:(0,l.exhaustivenessCheck)(t)}}},338779:(e,t,r)=>{"use strict";r.d(t,{handler:()=>h});var n=r(322559),a=r(467846),o=r(343883),s=r.n(o),i=r(837021),u=r(190831),c=r(252229),l=r(21705),d=r(360202);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e,t,r){switch(t.type){case"MoreConvosNeeded":var n,o=t.organiser,p=e.ownerId,h="";switch(o.kind){case"filters":var v=o.filter;if(h=c.getLockId(v),e.locks.getConversations[h]||!e.organisers.filters[v].hasMore)return[];n={start_message_id:c.isLoaded(e.organisers.filters[v])?e.organisers.filters[v].boundary.minorSortId:void 0,filter:c.snakeCaseId(v),group_id:(0,i.getOwnerGroupId)(p)};break;case"folders":var m=o.id;h=d.getLockId(m);var g=e.organisers.folders.find((function(e){return e.id===m}));if(!g)throw new Error("Не найдена папка");if(e.locks.getConversations[h]||d.isLoaded(g)&&!g.hasMore)return[];n={start_message_id:d.isLoaded(g)?g.boundaryMinorId:void 0,folder_id:g.id,group_id:(0,i.getOwnerGroupId)(p)};break;default:(0,l.exhaustivenessCheck)(o)}return e.locks.getConversations[h]=!0,[function(){var e=(0,a.default)(s().mark((function e(r){var a,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.api,e.prev=1,n){e.next=4;break}throw new Error("Нет параметров запроса");case 4:return o=u.CONVOS_PER_PAGE,e.next=7,a.fetch("messages.getConversations",f(f({},n),{},{count:o}),{retries:3});case 7:return i=e.sent,e.abrupt("return",f(f({},t),{},{type:"MoreConvosNeeded_RequestCompleted",hasFailed:!1,requestedCount:o,hasMore:i.items.length>=o,response:i}));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",f(f({},t),{},{type:"MoreConvosNeeded_RequestCompleted",hasMore:!1,hasFailed:!0}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()];case"MoreConvosNeeded_RequestCompleted":var D=t.hasFailed,y=t.organiser,b=t.hasMore,C="";switch(y.kind){case"filters":C=c.getLockId(y.filter);break;case"folders":C=d.getLockId(y.id);break;default:(0,l.exhaustivenessCheck)(y)}if(e.locks.getConversations[C]=!1,D)return[];var F=t.response;if(F){var k=(0,i.insertConvos)(r,e,F.items,{dangerouslyMerge:!0});switch((0,i.insertPeers)(e,{apiUsers:F.profiles||[],apiGroups:F.groups||[],apiContacts:F.contacts||[]}),y.kind){case"filters":c.push(e.organisers.filters,y.filter,k,b);break;case"folders":var w=e.organisers.folders.find((function(e){return e.id===y.id}));if(!w)return[];d.push(e.organisers.folders,y.id,k,b);break;default:(0,l.exhaustivenessCheck)(y)}}return[];default:(0,l.exhaustivenessCheck)(t)}}},135738:(e,t,r)=>{"use strict";r.d(t,{handler:()=>f});var n=r(322559),a=r(467846),o=r(343883),s=r.n(o),i=r(314432),u=r(604850);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e,t){var r=t.next;if("Reconnecting"===r.kind)return[function(){var e=(0,a.default)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.queue,e.next=3,r.poll();case 3:return e.t0=e.sent,e.abrupt("return",{type:"QueueBatchReceived",next:e.t0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];if("Disconnected"===r.kind){if("manual"===r.reason)return[];var n=e.viewerId;return[function(){var e=(0,a.default)(s().mark((function e(t){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.queue,a=t.api,e.next=3,a.fetch("queue.subscribe",{queue_ids:"onlfriends_".concat(n)},{retries:1/0});case 3:return o=e.sent,r.connect(p({user_id:n},o)),e.next=7,r.poll();case 7:return e.t0=e.sent,e.abrupt("return",{type:"QueueBatchReceived",next:e.t0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}var o,l=c(r.events);try{for(l.s();!(o=l.n()).done;){var d=o.value;switch(d.entity_type){case"online":var f=i.resolveId(d.data.user_id);if(!i.isUserPeerId(f))break;d.data.online?e.onlines.add(f):e.onlines.delete(f);var h=e.peers.get(f);if(!h||"User"!==h.kind)break;i.updateLastSeen(h,1e3*d.data.last_seen,(0,u.convertPlatform)(d.data.platform,d.data.app_id));break;default:d.entity_type}}}catch(e){l.e(e)}finally{l.f()}return[function(){var e=(0,a.default)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.queue,e.next=3,r.poll();case 3:return e.t0=e.sent,e.abrupt("return",{type:"QueueBatchReceived",next:e.t0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}},457542:(e,t,r)=>{"use strict";r.d(t,{handler:()=>f});var n=r(467846),a=r(322559),o=r(343883),s=r.n(o),i=r(21705),u=r(911615),c=r(210746),l=r(980662);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e,t,r){var a,o,d=t.peerId,f=null!==(a=e.messagesDrafts[d])&&void 0!==a?a:u.DEFAULT_DRAFT;switch(t.type){case"DeleteDraft":o=null;break;case"SetMessageText":var h=t.text;o=p(p({},f),{},{text:h});break;case"SetMessageAttaches":var v=t.attaches;o=p(p({},f),{},{attaches:v});break;case"SetMessageForwarded":var m=t.forwarded;if(null===m){switch(f.kind){case"Draft":case"DraftWithReply":return[];case"Editing":o=p(p({kind:"Editing"},(0,u.getCommonDraftFields)(f)),{},{editing:f.editing});break;case"DraftWithForwarded":o=p({kind:"Draft"},(0,u.getCommonDraftFields)(f));break;default:(0,i.exhaustivenessCheck)(f)}break}switch(f.kind){case"Draft":case"DraftWithReply":case"Editing":o=p(p({kind:"DraftWithForwarded"},(0,u.getCommonDraftFields)(f)),{},{forwarded:m});break;case"DraftWithForwarded":o=p(p({},f),{},{forwarded:m});break;default:(0,i.exhaustivenessCheck)(f)}break;case"SetMessageReply":var g=t.reply;if(null===g){switch(f.kind){case"Draft":case"DraftWithForwarded":case"Editing":return[];case"DraftWithReply":o=p({kind:"Draft"},(0,u.getCommonDraftFields)(f));break;default:(0,i.exhaustivenessCheck)(f)}break}switch(f.kind){case"Draft":case"DraftWithForwarded":o=p(p({kind:"DraftWithReply"},(0,u.getCommonDraftFields)(f)),{},{reply:g});break;case"DraftWithReply":o=p(p({},f),{},{reply:g});break;case"Editing":o=p(p({kind:"DraftWithReply"},(0,u.getCommonDraftFields)(u.DEFAULT_DRAFT)),{},{reply:g});break;default:(0,i.exhaustivenessCheck)(f)}break;case"StartEditing":var D=t.editing;o={kind:"Editing",editing:D,text:l.toPlainText(D,{multiline:!0}),attaches:D.attaches,forwarded:D.forwardedMessages};break;case"StopEditing":o=u.DEFAULT_DRAFT;break;default:(0,i.exhaustivenessCheck)(t)}null===o||(0,i.isDeepEqual)(o,u.DEFAULT_DRAFT)?delete e.messagesDrafts[d]:e.messagesDrafts[d]=o;var y=(0,c.current)(e).messagesDrafts;return[function(){var e=(0,n.default)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.storage.set("drafts",y),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}},215857:(e,t,r)=>{"use strict";r.d(t,{MAX_RECENT_STICKERS:()=>u,handler:()=>c});var n=r(467846),a=r(621094),o=r(343883),s=r.n(o),i=r(21705),u=32,c=function e(t,r,o){switch(r.type){case"StickersAddToFavorite":var c=r.stickerId;return t.stickers.has(c)?(t.favoriteStickers=[].concat((0,a.default)(t.favoriteStickers.filter((function(e){return e!==c}))),[c]),[function(){var e=(0,n.default)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("store.addStickersToFavorite",{sticker_ids:"".concat(c)});case 4:return n=e.sent,e.abrupt("return",{type:"StickersAddToFavorite__RequestCompleted",stickerId:c,hasFailed:!Boolean(n)});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"StickersAddToFavorite__RequestCompleted",stickerId:c,hasFailed:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]):[];case"StickersAddToFavorite__RequestCompleted":var l=r.stickerId;return r.hasFailed&&e(t,{type:"StickersRemoveFromFavorite",stickerId:l},o),[];case"StickersRemoveFromFavorite":var d=r.stickerId;return t.stickers.has(d)?(t.favoriteStickers=t.favoriteStickers.filter((function(e){return e!==d})),[function(){var e=(0,n.default)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("store.removeStickersFromFavorite",{sticker_ids:"".concat(d)});case 4:return n=e.sent,e.abrupt("return",{type:"StickersRemoveFromFavorite__RequestCompleted",stickerId:d,hasFailed:!Boolean(n)});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"StickersRemoveFromFavorite__RequestCompleted",stickerId:d,hasFailed:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]):[];case"StickersRemoveFromFavorite__RequestCompleted":var p=r.stickerId;return r.hasFailed&&e(t,{type:"StickersAddToFavorite",stickerId:p},o),[];case"StickerAddToRecent":var f=r.stickerId;return t.recentStickers=[f].concat((0,a.default)(t.recentStickers.filter((function(e){return e!==f})))).slice(0,u),[];default:return(0,i.exhaustivenessCheck)(r)}}},859451:(e,t,r)=>{"use strict";r.d(t,{handler:()=>l});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=r(314432),u=r(509727),c=r(837021),l=function(e,t){var r=t.type;switch(r){case"UserChangedChatTitle":var a=t.peerId,l=t.title,d=i.toRealId(a),p=e.peers.get(a),f=e.ownerId;if(!p||"Chat"!==p.kind)return[];var h=p.title;return i.updateChatInfo(p,{title:l}),[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.editChat",{chat_id:d,title:l,group_id:(0,c.getOwnerGroupId)(f)},{retries:1});case 4:return n=e.sent,e.abrupt("return",{type:"UserChangedChatTitle_RequestCompleted",hasFailed:1!==n,peerId:a,title:1!==n?h:l});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserChangedChatTitle_RequestCompleted",hasFailed:!0,peerId:a,title:h});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedChatTitle_RequestCompleted":var v=t.peerId,m=t.title,g=t.hasFailed,D=e.peers.get(v);return D&&"Chat"===D.kind&&g?(i.updateChatInfo(D,{title:m}),[]):[];case"UserRemovedChatPhoto":var y=t.peerId,b=i.toRealId(y),C=e.peers.get(y);return C&&"Chat"===C.kind?(i.updateChatInfo(C,{photo50:void 0,photo100:void 0,photo200:void 0}),[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.deleteChatPhoto",{chat_id:b},{retries:1});case 4:return n=e.sent,e.abrupt("return",{type:"UserRemovedChatPhoto_RequestCompleted",hasFailed:1!==n,peerId:y});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserRemovedChatPhoto_RequestCompleted",hasFailed:!0,peerId:y});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]):[];case"UserRemovedChatPhoto_RequestCompleted":return[];case"UserChangedChatSettings":var F=t.peerId,k=t.isService,w=t.permissions,_=i.toRealId(F),E=e.ownerId;return[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.editChat",{chat_id:_,is_service:k?1:0,permissions:JSON.stringify(w),group_id:(0,c.getOwnerGroupId)(E)},{retries:1});case 4:return n=e.sent,e.abrupt("return",{type:"UserChangedChatSettings_RequestCompleted",hasFailed:1!==n,permissions:w,peerId:F,isService:k});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserChangedChatSettings_RequestCompleted",hasFailed:!0,permissions:w,peerId:F,isService:k});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedChatSettings_RequestCompleted":var I=t.peerId,S=t.isService,O=t.permissions;if(t.hasFailed)return[];var A=e.convos.get(I);return A&&"ChatConvo"===A.kind?(u.setChatPermissions(A,O,S),[]):[];default:(0,s.exhaustivenessCheck)(r)}}},877185:(e,t,r)=>{"use strict";r.d(t,{handler:()=>l});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=r(314432),u=r(509727),c=r(837021),l=function(e,t){switch(t.type){case"UserChangedChatMember":var r=t.peerId,a=t.memberId;if(!e.convos.get(r))return[];var l=function(e,t){var r=t.userAction,n=t.peerId,a=t.memberId;switch(r){case"promote":return function(e){return e.api.fetch("messages.setMemberRole",{member_id:a,peer_id:n,role:"admin"})};case"demote":return function(e){return e.api.fetch("messages.setMemberRole",{member_id:a,peer_id:n,role:"member"})};case"remove":return function(t){return t.api.fetch("messages.removeChatUser",{chat_id:i.toRealId(n),member_id:a,group_id:(0,c.getOwnerGroupId)(e)})};default:return(0,s.exhaustivenessCheck)(r)}}(e.ownerId,t);return[function(){var e=(0,n.default)(o().mark((function e(n){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(n);case 3:return s=e.sent,e.abrupt("return",{type:"UserChangedChatMember_RequestCompleted",hasFailed:1!==s,peerId:r,memberId:a,userAction:t.userAction});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{type:"UserChangedChatMember_RequestCompleted",hasFailed:!0,peerId:r,memberId:a,userAction:t.userAction});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedChatMember_RequestCompleted":var d=t.peerId,p=t.memberId,f=t.userAction,h=t.hasFailed,v=e.convos.get(d);if(h||"ChatConvo"!==(null==v?void 0:v.kind))return[];switch(f){case"promote":return v.adminIds.add(p),[];case"demote":return v.adminIds.delete(p),[];case"remove":return u.removeMember(v,p),[];default:return(0,s.exhaustivenessCheck)(f)}default:return(0,s.exhaustivenessCheck)(t)}}},117215:(e,t,r)=>{"use strict";r.d(t,{handler:()=>m});var n=r(621094),a=r(467846),o=r(343883),s=r.n(o),i=r(509727),u=r(314432),c=r(527119),l=r(980662),d=r(21705),p=r(210746),f=r(837021),h={mute:"mute",unmute:"mute",mute_until:"mute_until",pin:"pin",unpin:"pin",mark_read:"mark_read",mark_unread:"mark_read",archive:"archive",unarchive:"archive",clear:"clear",leave:"leave",show_pinned_message:"show_pinned_message",hide_pinned_message:"show_pinned_message",pin_message_for_all:"pin_message_for_all",unpin_message_for_all:"pin_message_for_all",ban:"ban",unban:"unban",return_to_chat:"return_to_chat"},v={pin:"unpin",unpin:"pin",mark_read:"mark_unread",mark_unread:"mark_read",archive:"unarchive",unarchive:"archive",show_pinned_message:"hide_pinned_message",hide_pinned_message:"show_pinned_message"},m=function e(t,r,o){switch(r.type){case"UserChangedConvo":var h=r.peerId,m=r.userAction,D=t.viewerId,y=t.organisers,b=g(r.userAction,h);if(t.locks.convoActions.has(b))return[];t.locks.convoActions.add(b);var C,F=t.convos.get(h),k=t.peers.get(h),w=t.ownerId;if(!F||!k)return[];switch(m){case"pin":C=function(e){return e.fetch("messages.pinConversation",{peer_id:h})};break;case"unpin":C=function(e){return e.fetch("messages.unpinConversation",{peer_id:h})};break;case"mark_read":F.isMarkedUnread=!1,C=function(e){return e.fetch("messages.markAsRead",{peer_id:h,mark_conversation_as_read:1,group_id:(0,f.getOwnerGroupId)(w)})};break;case"mark_unread":F.isMarkedUnread=!0,C=function(e){return e.fetch("messages.markAsUnreadConversation",{peer_id:h,group_id:0})};break;case"archive":case"unarchive":F.isArchived="archive"===m,c.refresh(y,F),C=function(e){return e.fetch("archive"===m?"messages.archiveConversation":"messages.unarchiveConversation",{peer_id:h})};break;case"hide_pinned_message":"ChatConvo"===F.kind&&F.pinnedMessage&&t.hiddenPinnedMessages.set(r.peerId,F.pinnedMessage.cmid);break;case"show_pinned_message":t.hiddenPinnedMessages.delete(r.peerId);break;case"clear":C=function(e){return e.fetch("messages.deleteConversation",{peer_id:h,group_id:(0,f.getOwnerGroupId)(w)}).then((function(e){var t=e.last_deleted_id;return Boolean(t)}))};break;case"leave":if("ChatConvo"!==F.kind)break;C=function(e){return e.fetch("messages.removeChatUser",{chat_id:u.toRealId(h),user_id:D,group_id:(0,f.getOwnerGroupId)(w)})};var _=t.peers.get(h);if(!_||"Chat"!==_.kind)break;i.clearChatDataOnLeave(F),u.clearChatDataOnLeave(_);break;case"ban":if("User"!==k.kind||"UserConvo"!==F.kind)break;if(u.updateIsPeerBlacklistedByMe(k,!0),i.restrictWrite(F,"peer_blacklisted"),u.isGroupPeerId(w)){C=function(e){return e.fetch("groups.ban",{owner_id:h,group_id:(0,f.getOwnerGroupId)(w)})};break}C=function(e){return e.fetch("account.ban",{owner_id:h})};break;case"unban":if("User"!==k.kind||"UserConvo"!==F.kind)break;if(u.updateIsPeerBlacklistedByMe(k,!1),i.allowWrite(F),u.isGroupPeerId(w)){C=function(e){return e.fetch("groups.unban",{owner_id:h,group_id:(0,f.getOwnerGroupId)(w)})};break}C=function(e){return e.fetch("account.unban",{owner_id:h})};break;case"return_to_chat":C=function(e){return e.fetch("messages.addChatUser",{chat_id:u.toRealId(h),user_id:D})};break;default:(0,d.exhaustivenessCheck)(m)}return[function(){var e=(0,a.default)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.api,e.prev=1,n=!1,!C){e.next=7;break}return e.next=6,C(r);case 6:n=!e.sent;case 7:return e.abrupt("return",{type:"UserChangedConvo_RequestCompleted",hasFailed:n,userAction:m,peerId:h});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{type:"UserChangedConvo_RequestCompleted",hasFailed:!0,userAction:m,peerId:h});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedConvo_RequestCompleted":var E=r.peerId,I=r.userAction,S=r.hasFailed,O=g(I,E);t.locks.convoActions.delete(O);var A=v[I];if(S&&A)return e(t,{type:"UserChangedConvo",userAction:A,peerId:E},o),[];if(S)return[];switch(I){case"clear":case"pin":case"unpin":case"mark_read":case"mark_unread":case"unarchive":case"show_pinned_message":case"hide_pinned_message":case"ban":case"unban":return[];case"archive":var x=t.convos.get(E);if(!x||"ChatConvo"!==x.kind||!x.unreadMentions.size)return[];var R=l.resolveCmid(Math.max.apply(Math,(0,n.default)(x.unreadMentions)));return[function(){var e=(0,a.default)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storage,(n=r.get("archive-mentions-map"))&&R){e.next=4;break}return e.abrupt("return",{type:"Noop"});case 4:return n[x.peerId]=R,r.set("archive-mentions-map",n),e.abrupt("return",{type:"Noop"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];case"leave":var P=t.convos.get(E);return"ChatConvo"===(null==P?void 0:P.kind)&&i.setConvoState(P,"left"),[];case"return_to_chat":var j=t.convos.get(E);return"ChatConvo"===(null==j?void 0:j.kind)&&i.setConvoState(j,"in"),[];default:return(0,d.exhaustivenessCheck)(r)}case"UserChangedMute":var M=r.peerId,U=r.timer,T=r.userAction,B=g(r.userAction,M);if(t.locks.convoActions.has(B))return[];var q,N=t.convos.get(M);if(!N)return[];switch(T){case"mute":N.push={mode:"every-mention",disabledUntil:1/0},q=-1;break;case"unmute":N.push={mode:"everything",disabledUntil:0},q=0;break;case"mute_until":N.push={mode:"every-mention",disabledUntil:Date.now()+1e3*U},q=U;break;default:(0,d.exhaustivenessCheck)(T)}return[function(){var e=(0,a.default)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("account.setSilenceMode",{time:q,peer_id:M,sound:"unmute"===T?1:0});case 4:return n=e.sent,e.abrupt("return",{type:"UserChangedMute_RequestCompleted",hasFailed:1!==n,userAction:T,peerId:M});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserChangedMute_RequestCompleted",hasFailed:!0,userAction:T,peerId:M});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedMute_RequestCompleted":var L=r.peerId,H=r.userAction,z=r.hasFailed,G=g(H,L);t.locks.convoActions.delete(G);var W={mute:"unmute",unmute:"mute",mute_until:"unmute"}[H];return z&&W?(e(t,{type:"UserChangedMute",userAction:W,peerId:L,timer:0},o),[]):[];case"UserPinMessage":var V=r.peerId,$=r.cmid,K=r.userAction,Q=g(r.userAction,V);if(t.locks.convoActions.has(Q))return[];t.locks.convoActions.add(Q);var J=t.convos.get(V),X=t.ownerId;if(!J||"ChatConvo"!==J.kind)return[];var Y=J.pinnedMessage&&(0,p.current)(J.pinnedMessage),Z=J.persisted.get($);return"Normal"===(null==Z?void 0:Z.kind)&&i.pinMessage(J,l.toPinned(Z)),[function(){var e=(0,a.default)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.pin",{peer_id:V,conversation_message_id:$,group_id:(0,f.getOwnerGroupId)(X)});case 4:return e.abrupt("return",{type:"UserPinMessage_RequestCompleted",hasFailed:!1,userAction:K,peerId:V,cmid:$});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{type:"UserPinMessage_RequestCompleted",hasFailed:!0,userAction:K,pinnedMessage:Y,peerId:V,cmid:$});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()];case"UserPinMessage_RequestCompleted":var ee=r.peerId,te=r.hasFailed,re=r.pinnedMessage,ne=r.userAction,ae=g(ne,ee);t.locks.convoActions.delete(ae);var oe=t.convos.get(ee);return oe&&"ChatConvo"===oe.kind?(te&&(i.unpinMessage(oe),re&&i.pinMessage(oe,re)),[]):[];case"UserUnpinMessage":var se=r.peerId,ie=r.userAction,ue=g(r.userAction,se);if(t.locks.convoActions.has(ue))return[];var ce=t.convos.get(se),le=t.ownerId;if(!ce||"ChatConvo"!==ce.kind)return[];var de=(0,p.current)(i.unpinMessage(ce));return[function(){var e=(0,a.default)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.unpin",{peer_id:se,group_id:(0,f.getOwnerGroupId)(le)});case 4:return e.abrupt("return",{type:"UserUnpinMessage_RequestCompleted",hasFailed:!1,userAction:ie,peerId:se});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{type:"UserUnpinMessage_RequestCompleted",hasFailed:!0,userAction:ie,prevPinnedMessage:de,peerId:se});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()];case"UserUnpinMessage_RequestCompleted":var pe=r.peerId,fe=r.hasFailed,he=r.prevPinnedMessage,ve=r.userAction,me=g(ve,pe);t.locks.convoActions.delete(me);var ge=t.convos.get(pe);return ge&&"ChatConvo"===ge.kind?(fe&&he&&i.pinMessage(ge,he),[]):[];default:(0,d.exhaustivenessCheck)(r)}},g=function(e,t){return"".concat(h[e],"-").concat(t.toString())}},154808:(e,t,r)=>{"use strict";r.d(t,{handler:()=>u});var n=r(467846),a=r(343883),o=r.n(a),s=r(314432),i=r(21705),u=function(e,t){switch(t.type){case"UserChangedFriendship":var r=e.peers.get(t.userId);if("User"!==(null==r?void 0:r.kind)||e.locks.updateFriendshipOrMembership.has(r.id))return[];var a=r.friendship;return s.updateFriendship(r,t.change),a===r.friendship?[]:(e.locks.updateFriendshipOrMembership.add(r.id),[function(){var e=(0,n.default)(o().mark((function e(r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.api,a=!1,e.prev=2,e.next=5,n.fetch("friends.".concat(t.change),{user_id:t.userId});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a=!0;case 10:return e.abrupt("return",{type:"UserChangedFriendship_RequestCompleted",userId:t.userId,change:t.change,hasFailed:a});case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()]);case"UserChangedFriendship_RequestCompleted":e.locks.updateFriendshipOrMembership.delete(t.userId);var u=e.peers.get(t.userId);return"User"!==(null==u?void 0:u.kind)||t.hasFailed&&s.updateFriendship(u,{add:"delete",delete:"add"}[t.change]),[];default:return(0,i.exhaustivenessCheck)(t)}}},387079:(e,t,r)=>{"use strict";r.d(t,{handler:()=>u});var n=r(467846),a=r(343883),o=r.n(a),s=r(314432),i=r(21705),u=function(e,t){switch(t.type){case"UserChangedGroupMembership":var r=e.peers.get(t.groupId);if("Group"!==(null==r?void 0:r.kind)||e.locks.updateFriendshipOrMembership.has(r.id))return[];var a=r.membership;return s.updateMembership(r,t.change),a===r.membership?[]:(e.locks.updateFriendshipOrMembership.add(r.id),[function(){var e=(0,n.default)(o().mark((function e(r){var n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.api,a="groups.".concat(t.change),s=!1,e.prev=3,e.next=6,n.fetch(a,{group_id:-t.groupId});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),s=!0;case 11:return e.abrupt("return",{type:"UserChangedGroupMembership_RequestCompleted",groupId:t.groupId,change:t.change,hasFailed:s});case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()]);case"UserChangedGroupMembership_RequestCompleted":e.locks.updateFriendshipOrMembership.delete(t.groupId);var u=e.peers.get(t.groupId);return"Group"!==(null==u?void 0:u.kind)||t.hasFailed&&s.updateMembership(u,{join:"leave",leave:"join"}[t.change]),[];default:return(0,i.exhaustivenessCheck)(t)}}},182931:(e,t,r)=>{"use strict";r.d(t,{handler:()=>f});var n=r(467846),a=r(343883),o=r.n(a),s=r(980662),i=r(509727),u=r(21705),c=r(455995),l=r(837021),d={mark_important:"unmark_important",unmark_important:"mark_important"},p={delete:"delete",restore:"restore",mark_important:"mark_important",unmark_important:"mark_important"},f=function e(t,r,a){switch(r.type){case"UserChangedMessage":for(var p=r.peerId,f=r.userAction,v=r.cmids,m=r.ids,g=0;g<v.length;g+=1){var D=v[g];if(!D)return[];var y=h(f,p,D);if(t.locks.messageActions.has(y))return[];t.locks.messageActions.add(y)}var b,C=t.convos.get(p);switch(f){case"mark_important":case"unmark_important":v.forEach((function(e){if(C){var r=C.persisted.get(e);"Normal"===(null==r?void 0:r.kind)&&(r.isImportant="mark_important"===f)}var n=t.importantMessages.messages.get((0,c.getImportantMessageKey)(p,e));n&&(n.isImportant="mark_important"===f)})),b=function(e){return e.fetch("messages.markAsImportant",{message_ids:"".concat(m.join(",")),important:"mark_important"===f?1:0}).then((function(e){return Boolean(e[0])}))};break;default:(0,u.exhaustivenessCheck)(f)}return[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.api,e.prev=1,n=!1,!b){e.next=7;break}return e.next=6,b(r);case 6:n=!e.sent;case 7:return e.abrupt("return",{type:"UserChangedMessage_RequestCompleted",hasFailed:n,userAction:f,ids:m,cmids:v,peerId:p});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{type:"UserChangedMessage_RequestCompleted",hasFailed:!0,userAction:f,ids:m,cmids:v,peerId:p});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedMessage_RequestCompleted":var F=r.peerId,k=r.userAction,w=r.hasFailed,_=r.cmids,E=r.ids;_.forEach((function(e){var r=h(k,F,e);t.locks.messageActions.delete(r)}));var I=d[k];return w&&I&&e(t,{type:"UserChangedMessage",userAction:I,ids:E,peerId:F,cmids:_},a),[];case"UserDeleteMessage":var S=r.deleteType,O=r.peerId,A=r.userAction,x=r.messages,R=t.ownerId,P=t.convos.get(O);if(!P)return[];for(var j=[],M=0;M<x.length;M+=1){var U=x[M];if(!U||"Normal"!==U.kind)return[];var T=h(A,O,U.cmid);if(t.locks.messageActions.has(T))return[];t.locks.messageActions.add(T);var B=s.markDeleted(U,"spam"===S);switch(j.push(B),S){case"local":case"spam":if(i.isCasper(P)){i.deleteMessage(P,U.cmid);break}i.replaceMessage(P,B,!1);break;case"for_all":i.deleteMessage(P,U.cmid);break;default:(0,u.exhaustivenessCheck)(S)}}return[function(){var e=(0,n.default)(o().mark((function e(t){var r,n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,a=x.map((function(e){return e.id})).join(","),e.next=5,r.fetch("messages.delete",{message_ids:"".concat(a),peer_id:O,delete_for_all:"for_all"===S?1:0,spam:"spam"===S?1:0,group_id:(0,l.getOwnerGroupId)(R)});case 5:return s=e.sent,e.abrupt("return",{type:"UserDeleteMessage_RequestCompleted",hasFailed:!Boolean(null===(n=s[0])||void 0===n?void 0:n.response),userAction:A,deleteType:S,peerId:O,messages:x,deletedMessages:j});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{type:"UserDeleteMessage_RequestCompleted",hasFailed:!0,userAction:A,deleteType:S,peerId:O,messages:x,deletedMessages:j});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()];case"UserDeleteFailedMessage":var q=r.peerId,N=r.randomId,L=t.convos.get(q);return L?(i.removeQueued(L,N),[]):[];case"UserDeleteAllFailedMessage":var H=r.peerId,z=t.convos.get(H);return z?(i.allQueuedMessages(z).filter((function(e){return e.hasFailed})).forEach((function(e){i.removeQueued(z,e.randomId)})),[]):[];case"UserDeleteMessage_RequestCompleted":var G=r.peerId,W=r.userAction,V=r.messages,$=r.hasFailed,K=r.deletedMessages,Q=t.convos.get(G);return $&&Q&&K.forEach((function(e){var t=s.restoreDeleted(e);i.restoreMessage(Q,t,!1)})),V.forEach((function(e){var r=e.cmid,n=h(W,G,r);t.locks.messageActions.delete(n)})),[];case"UserRestoreMessage":var J=r.peerId,X=r.userAction,Y=r.cmid,Z=r.messageId,ee=h(X,J,Y);if(t.locks.messageActions.has(ee))return[];t.locks.messageActions.add(ee);var te=t.convos.get(J);if(!te)return[];var re=t.ownerId,ne=te.persisted.get(Y);if(ne&&"MarkedDeleted"===ne.kind){var ae=s.restoreDeleted(ne);i.restoreMessage(te,ae,!1)}return[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.restore",{message_id:Z,group_id:(0,l.getOwnerGroupId)(re)});case 4:return n=e.sent,e.abrupt("return",{type:"UserRestoreMessage_RequestCompleted",hasFailed:!Boolean(n),userAction:X,messageId:Z,peerId:J,cmid:Y});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserRestoreMessage_RequestCompleted",hasFailed:!0,userAction:X,messageId:Z,peerId:J,cmid:Y});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserRestoreMessage_RequestCompleted":var oe=r.peerId,se=r.userAction,ie=r.cmid,ue=r.hasFailed,ce=h(se,oe,ie);t.locks.messageActions.delete(ce);var le=t.convos.get(oe),de=null==le?void 0:le.persisted.get(ie);return ue&&le&&de&&"Normal"===de.kind&&e(t,{type:"UserDeleteMessage",messages:[de],deleteType:"local",peerId:oe,userAction:"delete"},a),[];default:(0,u.exhaustivenessCheck)(r)}},h=function(e,t,r){return"".concat(p[e],"-").concat(t.toString(),"-").concat(r.toString())}},425592:(e,t,r)=>{"use strict";r.d(t,{handler:()=>d});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=r(509727),u=r(527119),c=r(252229),l=r(210746),d=function(e,t){var r=t.type,a=e.viewerId;switch(r){case"UserAcceptedChatMessageRequest":var d=t.peerId;if(e.locks.changeMessageRequest.has(d))return[];e.locks.changeMessageRequest.add(d);var p=e.convos.get(d),f=(0,l.current)(p);if(void 0!==p&&"MessageRequestChatConvo"===p.kind){var h=i.fromAcceptedMessageRequest(p);e.convos.set(d,h),u.refresh(e.organisers,h)}return[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.acceptMessageRequest",{peer_id:d,user_id:a});case 4:return n=e.sent,e.abrupt("return",{type:"UserAcceptedChatMessageRequest_RequestCompleted",hasFailed:1!==n,prevConvo:f,peerId:d});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserAcceptedChatMessageRequest_RequestCompleted",hasFailed:!0,prevConvo:f,peerId:d});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserRejectedMessageRequest":var v=t.peerId;if(e.locks.changeMessageRequest.has(v))return[];e.locks.changeMessageRequest.add(v);var m=(0,l.current)(e.organisers.filters);return e.organisers.filters.messageRequest.peerIds.delete(v),e.organisers.filters.all.peerIds.delete(v),[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.rejectMessageRequest",{peer_id:v,user_id:a});case 4:return n=e.sent,e.abrupt("return",{type:"UserRejectedChatMessageRequest_RequestCompleted",hasFailed:1!==n,peerId:v,prevFilters:m});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserRejectedChatMessageRequest_RequestCompleted",hasFailed:!0,peerId:v,prevFilters:m});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserAcceptedChatMessageRequest_RequestCompleted":var g=t.prevConvo,D=t.hasFailed,y=t.peerId;return e.locks.changeMessageRequest.delete(y),D&&void 0!==g&&(e.convos.set(y,g),u.refresh(e.organisers,g)),[];case"UserRejectedChatMessageRequest_RequestCompleted":var b=t.prevFilters,C=t.hasFailed,F=t.peerId;return e.locks.changeMessageRequest.delete(F),C&&(e.organisers.filters=b),[];case"UpdateMessageRequestsCounter":return[function(){var e=(0,n.default)(o().mark((function e(t){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("account.getCounters",{filter:"message_requests"});case 4:return n=e.sent,a=n.message_requests,e.abrupt("return",{type:"UpdateMessageRequestsCounter_RequestCompleted",count:null!=a?a:0});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{type:"Noop"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()];case"UpdateMessageRequestsCounter_RequestCompleted":return c.updateCounters(e.organisers.filters,{messageRequests:t.count}),[];default:(0,s.exhaustivenessCheck)(r)}}},217698:(e,t,r)=>{"use strict";r.d(t,{handler:()=>u});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=r(215284),u=function(e,t){var r=t.type;switch(r){case"UserChangedSetting":var a=t.setting;e.locks.settings.add(a);var i=e.userSettings[t.setting];return e.userSettings[t.setting]=t.value,[function(){var e=(0,n.default)(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(r,t.setting,t.value);case 3:return n=e.sent,"transcriptAutoShow"===t.setting&&1===n&&r.stats.logEvent("type_action",{type:"type_settings_changes_item",type_settings_changes_item:{type:"general",name:"voice_transcription_autoshow",value_old:String(Number(i)),value_new:String(Number(t.value)),screen:"im_web_settings"}}),e.abrupt("return",{type:"UserChangedSetting_RequestCompleted",hasFailed:1!==n,setting:t.setting,previousValue:i});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{type:"UserChangedSetting_RequestCompleted",hasFailed:!0,setting:t.setting,previousValue:i});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserChangedSetting_RequestCompleted":var u=t.setting;return e.locks.settings.delete(u),t.hasFailed&&(e.userSettings[t.setting]=t.previousValue),[];default:(0,s.exhaustivenessCheck)(r)}};function c(e,t,r){var n=e.api,a=e.storage;switch(t){case"ctrSubmit":var o=i.Api.resolveTrackId("account.setInfo","messages_multiline_input");return n.dangerouslyAbort(o),n.fetch("account.setInfo",{name:"messages_multiline_input",value:String(Number(r))},{trackId:o});case"soundNotifications":return a.set("settings-sound-notifications-on",r),Promise.resolve(1);case"showRecommendations":var u=i.Api.resolveTrackId("account.setInfo","messages_recommendation_list_hidden");return n.dangerouslyAbort(u),n.fetch("account.setInfo",{name:"messages_recommendation_list_hidden",value:String(Number(!r))},{trackId:u});case"countOnlyNotMuted":var c=i.Api.resolveTrackId("account.setInfo","show_only_not_muted_messages");return n.dangerouslyAbort(c),n.fetch("account.setInfo",{name:"show_only_not_muted_messages",value:String(Number(r))},{trackId:c});case"autoUnarchive":var l=i.Api.resolveTrackId("account.setInfo","messages_auto_unarchive");return n.dangerouslyAbort(l),n.fetch("account.setInfo",{name:"messages_auto_unarchive",value:String(Number(r))},{trackId:l});case"transcriptAutoShow":var d=i.Api.resolveTrackId("account.setInfo","messages_transcript_auto_show");return n.dangerouslyAbort(d),n.fetch("account.setInfo",{name:"messages_transcript_auto_show",value:String(Number(r))},{trackId:d});case"darkTheme":return a.set("vkme-dark-theme",r),Promise.resolve(1);default:(0,s.exhaustivenessCheck)(t)}}},139150:(e,t,r)=>{"use strict";r.d(t,{handler:()=>c});var n=r(467846),a=r(343883),o=r.n(a),s=r(360202),i=r(21705),u=r(837021),c=function(e,t,r){switch(t.type){case"UserCreatedFolder":var a=t.name,c=t.peerIds;return e.locks.createFolder?[]:(e.locks.createFolder=!0,[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.createFolder",{name:a,included_peer_ids:c.join(",")});case 4:return n=e.sent,e.abrupt("return",{type:"UserCreatedFolder_CreateRequestCompleted",hasFailed:!1,name:a,folderId:s.resolveId(n.folder_id)});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserCreatedFolder_CreateRequestCompleted",hasFailed:!0,name:a,folderId:Math.round(100*Math.random())});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]);case"UserCreatedFolder_CreateRequestCompleted":var l=t.hasFailed;if(e.locks.createFolder=!1,l)throw new Error("Не удалось создать папку");return(0,u.insertFolder)(e,[{id:t.folderId,name:t.name}]),[];default:(0,i.exhaustivenessCheck)(t)}}},864669:(e,t,r)=>{"use strict";r.d(t,{handler:()=>u});var n=r(467846),a=r(343883),o=r.n(a),s=r(360202),i=r(21705),u=function(e,t,r){switch(t.type){case"UserDeletedFolder":var a=t.folderId;return e.locks.deleteFolder.has(a)?[]:(e.locks.deleteFolder.add(a),s.deleteFolder(e.organisers.folders,a),[function(){var e=(0,n.default)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.deleteFolder",{folder_id:a});case 4:return e.abrupt("return",{type:"UserDeletedFolder_DeleteRequestCompleted",hasFailed:!1,folderId:a});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{type:"UserDeletedFolder_DeleteRequestCompleted",hasFailed:!0,folderId:a});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()]);case"UserDeletedFolder_DeleteRequestCompleted":var u=t.hasFailed,c=t.folderId;if(e.locks.deleteFolder.delete(c),u)throw new Error("Не удалось удалить папку");return[];default:(0,i.exhaustivenessCheck)(t)}}},632828:(e,t,r)=>{"use strict";r.d(t,{handler:()=>g});var n=r(322559),a=r(621094),o=r(467846),s=r(343883),i=r.n(s),u=r(252229),c=r(21705),l=r(975474),d=r(210746),p=r(980662),f=r(314432),h=r(837021);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(e,t){switch(t.type){case"UserHideFilter":if("archive"===t.kind){var r=(0,d.current)(e),s=r.organisers,v=r.convos,g=r.ownerId;return s.filters.archive.hasMore&&(e.locks.hideFilter.archive=!0),[function(){var e=(0,o.default)(i().mark((function e(t){var r,o,u,c,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storage,o=t.api,!s.filters.archive.hasMore){e.next=9;break}return e.next=4,o.fetch("messages.getConversations",{filter:"archive",count:s.filters.archive.totalCount,group_id:(0,h.getOwnerGroupId)(g)});case 4:c=e.sent,d=c.items,u=d.reduce((function(e,t){var r,n=t.conversation,o=null===(r=(0,l.fromApiConvo)(n))||void 0===r?void 0:r.convo;return o?[].concat((0,a.default)(e),[o]):e}),[]),e.next=10;break;case 9:u=(0,a.default)(v.values());case 10:return f=u.reduce((function(e,t){if("ChatConvo"!==t.kind||!t.unreadMentions.size)return e;var r=p.resolveCmid(Math.max.apply(Math,(0,a.default)(t.unreadMentions)));return m(m({},e),{},(0,n.default)({},t.peerId,r))}),{}),r.set("archive-manually-hidden",!0),r.set("archive-mentions-map",m(m({},r.get("archive-mentions-map")||{}),f)),e.abrupt("return",{type:"UserHideFilter_Completed",kind:"archive"});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}return"all"===t.kind||"unread"===t.kind||"messageRequest"===t.kind?[]:(0,c.exhaustivenessCheck)(t.kind);case"UserHideFilter_Completed":return"archive"===t.kind?(e.locks.hideFilter.archive=!1,u.toggleArchiveVisibility(e.organisers.filters,!1),[]):"all"===t.kind||"unread"===t.kind||"messageRequest"===t.kind?[]:(0,c.exhaustivenessCheck)(t.kind);case"UserUndoHideFilter":return"archive"===t.kind?(u.toggleArchiveVisibility(e.organisers.filters,!0),[function(){var e=(0,o.default)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.storage.set("archive-manually-hidden",!1),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]):"all"===t.kind||"unread"===t.kind||"messageRequest"===t.kind?[]:(0,c.exhaustivenessCheck)(t.kind);case"UserActualizeHideFilter":if("archive"===t.kind){var D={};e.convos.forEach((function(e){"ChatConvo"===e.kind&&e.unreadMentions.size>0&&(D[e.peerId]=p.resolveCmid(Math.max.apply(Math,(0,a.default)(e.unreadMentions))))}));var y=e.organisers.filters.archive.isHidden;return[function(){var e=(0,o.default)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storage,!(n=r.get("archive-manually-hidden"))||y){e.next=4;break}return e.abrupt("return",{type:"UserHideFilter",kind:"archive"});case 4:if(n||!y){e.next=6;break}return e.abrupt("return",{type:"UserUndoHideFilter",kind:"archive"});case 6:if(Object.keys(D).length){e.next=8;break}return e.abrupt("return",{type:"Noop"});case 8:if(a=r.get("archive-mentions-map")||{},!Object.keys(D).every((function(e){return D[f.resolveId(Number(e))]===a[f.resolveId(Number(e))]}))){e.next=11;break}return e.abrupt("return",{type:"Noop"});case 11:return r.set("archive-mentions-map",m(m({},a),D)),e.abrupt("return",{type:"UserUndoHideFilter",kind:"archive"});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}return"all"===t.kind||"unread"===t.kind||"messageRequest"===t.kind?[]:(0,c.exhaustivenessCheck)(t.kind);default:(0,c.exhaustivenessCheck)(t)}}},751713:(e,t,r)=>{"use strict";r.d(t,{handler:()=>c});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=r(151225),u=r(837021),c=function(e,t){switch(t.type){case"UserHitEdit":var r=t.cmid,a=t.text,c=t.attaches,l=t.peerId,d=t.keepForwarded,p=t.keepSnippets,f=e.convos.get(l),h=e.ownerId;if(!f)return[];e.locks.edit.add(l);var v=i.ids(c).join(",");return[function(){var e=(0,n.default)(o().mark((function e(t){var n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,s=!1,e.prev=2,e.next=5,n.fetch("messages.edit",{peer_id:l,conversation_message_id:r,message:a,attachment:0===v.length?void 0:v,group_id:(0,u.getOwnerGroupId)(h),keep_forward_messages:d?1:0,keep_snippets:p?1:0});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),s=!0;case 10:return e.abrupt("return",{type:"UserHitEdit_RequestCompleted",cmid:r,peerId:l,hasFailed:s});case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()];case"UserHitEdit_RequestCompleted":var m=t.peerId;t.hasFailed;e.locks.edit.delete(m);e.convos.get(m);return[];default:return(0,s.exhaustivenessCheck)(t)}}},362156:(e,t,r)=>{"use strict";r.d(t,{handler:()=>g});var n=r(322559),a=r(467846),o=r(621094),s=r(343883),i=r.n(s),u=r(210746),c=r(21705),l=r(980662),d=r(509727),p=r(151225),f=r(215857),h=r(837021);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function e(t,r,n){switch(r.type){case"UserHitSend":var a=r.text,s=r.attaches,i=r.timestamp,v=r.peerId,m=r.expireTTL,g=r.deleteTTL,y=r.entrypoint,b=r.extra,C=r.reply,F=r.forwarded,k=t.convos.get(v),w=t.ownerId;if(!k)return[];var _=l.newQueued({peerId:v,text:a,isOut:!0,sentAt:i,authorId:t.ownerId,attaches:s,expireTTL:m,deleteTTL:g,extra:b,entrypoint:y},C,F);d.appendQueuedMessage(k,_);var E=t.locks.sendQueue.get(k.peerId);return E?(E.add(_.randomId),[]):(t.locks.sendQueue.set(k.peerId,new Set([_.randomId])),b.sticker&&(t.recentStickers=[b.sticker.id].concat((0,o.default)(t.recentStickers.filter((function(e){var t;return e!==(null===(t=b.sticker)||void 0===t?void 0:t.id)})))).slice(0,f.MAX_RECENT_STICKERS)),[D(v,_.randomId,a,p.ids(s),_.extra,y,s.geo,(0,h.getOwnerGroupId)(w),C,F)]);case"UserHitSend_RequestCompleted":var I=r.peerId,S=r.randomId,O=r.hasFailed,A=t.convos.get(I),x=t.ownerId;if(!A)return t.locks.sendQueue.delete(I),[];O&&d.updateSendingFail(A,S,O);var R=t.locks.sendQueue.get(A.peerId);if(!R)return[];R.delete(S);var P=(0,o.default)(R)[0];if(!P)return t.locks.sendQueue.delete(I),[];var j=A.queued.get(P);if(!j)return[];var M=(0,u.current)(j);return[D(I,M.randomId,M.text,p.ids(M.attaches),M.extra,M.entrypoint,M.attaches.geo,(0,h.getOwnerGroupId)(x))];case"UserHitResendFailedMessage":var U=r.randomId,T=r.peerId,B=r.entrypoint,q=t.convos.get(T),N=t.ownerId;if(!q)return[];var L=q.queued.get(U);if(!L)return[];d.updateSendingFail(q,U,!1),d.changeQueuedMessageEntrypoint(q,U,B);var H=t.locks.sendQueue.get(q.peerId);if(H)return H.add(L.randomId),[];t.locks.sendQueue.set(q.peerId,new Set([L.randomId]));var z=(0,u.current)(L);return[D(T,z.randomId,z.text,p.ids(z.attaches),z.extra,B,z.attaches.geo,(0,h.getOwnerGroupId)(N))];case"UserHitResendAllFailedMessages":var G=r.peerId,W=r.entrypoint,V=t.convos.get(G);return V?d.allQueuedMessages(V).filter((function(e){return e.hasFailed})).flatMap((function(r){return e(t,{type:"UserHitResendFailedMessage",peerId:G,randomId:r.randomId,entrypoint:W||r.entrypoint},n)})):[];case"ResendAllFailedMessages":return Array.from(t.convos.values()).flatMap((function(r){return e(t,{type:"UserHitResendAllFailedMessages",peerId:r.peerId},n)}));default:return(0,c.exhaustivenessCheck)(r)}};function D(e,t,r,n,o,s,u,c,l,d){return function(){var p=(0,a.default)(i().mark((function a(p){var f,h,v;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f=p.api,h=!1,v={},o.sticker&&(v.sticker_id=o.sticker.id,v.sticker_referrer=o.sticker.referrer),o.botPayload&&(v.payload=o.botPayload),u&&(v.lat=u.coordinates.latitude,v.long=u.coordinates.longitude),a.prev=6,a.next=9,f.fetch("messages.send",m(m({},v),{},{peer_id:e,random_id:t,message:r,reply_to:null==l?void 0:l.id,forward_messages:null==d?void 0:d.map((function(e){return e.id})).join(","),attachment:0===n.length?void 0:n.join(","),entrypoint:s,group_id:c}));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(6),h=!0;case 14:return a.abrupt("return",{type:"UserHitSend_RequestCompleted",peerId:e,randomId:t,hasFailed:h});case 15:case"end":return a.stop()}}),a,null,[[6,11]])})));return function(e){return p.apply(this,arguments)}}()}},203405:(e,t,r)=>{"use strict";r.d(t,{handler:()=>c});var n=r(467846),a=r(343883),o=r.n(a),s=r(980662),i=r(21705),u=r(837021),c=function(e,t){switch(t.type){case"UserListenedVoice":var r=t.cmid,a=t.peerId,c=e.convos.get(a),l=null==c?void 0:c.persisted.get(r),d=e.ownerId;return"Normal"===(null==l?void 0:l.kind)&&s.canChangeVoiceListenedStatus(l)?[function(){var e=(0,n.default)(o().mark((function e(t){var n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,e.prev=1,e.next=4,n.fetch("messages.markAsListened",{peer_id:a,cmid:r,group_id:(0,u.getOwnerGroupId)(d)},{retries:1});case 4:return s=e.sent,e.abrupt("return",{type:"UserListenedVoice_RequestCompleted",hasFailed:1!==s,cmid:r,peerId:a});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserListenedVoice_RequestCompleted",hasFailed:!0,cmid:r,peerId:a});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]:[];case"UserListenedVoice_RequestCompleted":if(!t.hasFailed){var p=t.cmid,f=t.peerId,h=e.convos.get(f),v=null==h?void 0:h.persisted.get(p);if(!v)return[];s.markVoiceListened(v)}return[];default:(0,i.exhaustivenessCheck)(t)}}},759568:(e,t,r)=>{"use strict";r.d(t,{handler:()=>c});var n=r(467846),a=r(343883),o=r.n(a),s=r(527119),i=r(21705),u=r(837021),c=function(e,t,r){switch(t.type){case"UserOpenedChannel":var a=t.channelId;return e.channels.get(a)?[]:[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("channels.getById",{channel_ids:a.toString()},{retries:3});case 4:return n=e.sent,e.abrupt("return",{type:"UserOpenedChannel_ChannelRequestCompleted",channelId:a,responseChannels:n.items,groups:n.groups,profiles:n.profiles,hasFailed:!1});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserOpenedChannel_ChannelRequestCompleted",channelId:a,hasFailed:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserOpenedChannel_ChannelRequestCompleted":var c=t.hasFailed,l=t.channelId,d=t.responseChannels,p=t.groups,f=t.profiles;if(c){if(i.isDev)throw new Error("Не удалось загрузить диалог");return[function(){var e=(0,n.default)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.router.replace({kind:"ChannelsListRoute"}),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(0,u.insertChannels)(e,{items:(d||[]).map((function(e){return{channel:e}})),profiles:f,groups:p,total_count:0});var h=e.channels.get(l);if(!h){if(i.isDev)throw new Error("Диалог не был найден");return[function(){var e=(0,n.default)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.router.replace({kind:"ChannelsListRoute"}),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}return s.refreshChannels(e.organisers,h),[];case"UserClosedChannel":return[];default:return(0,i.exhaustivenessCheck)(t)}}},931947:(e,t,r)=>{"use strict";r.d(t,{handler:()=>h});var n=r(467846),a=r(343883),o=r.n(a),s=r(837021),i=r(341570),u=r(314432),c=r(509727),l=r(527119),d=r(190831),p=r(21705),f=r(378399),h=function e(t,r,a){switch(r.type){case"UserOpenedConvo":var h=r.peerId,v=r.cmid,m=t.convos.get(h),g=t.locks.convosCleanup.get(h)||0;t.locks.convosCleanup.set(h,g+1);var D=(0,s.getOwnerGroupId)(t.ownerId);return m?e(t,{type:"UserOpenedConvo_ConvoRequestCompleted",peerId:h,cmid:v,hasFailed:!1},a):[function(){var e=(0,n.default)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.getConversationsById",{peer_ids:h.toString(),group_id:D},{retries:3});case 4:return n=e.sent,e.abrupt("return",{type:"UserOpenedConvo_ConvoRequestCompleted",peerId:h,cmid:v,hasFailed:!1,profiles:n.profiles,groups:n.groups,conversations:n.items,contacts:n.contacts});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserOpenedConvo_ConvoRequestCompleted",peerId:h,hasFailed:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserOpenedConvo_ConvoRequestCompleted":var y=r.peerId,b=r.conversations,C=r.profiles,F=r.cmid,k=r.groups,w=r.contacts;if(r.hasFailed){if(p.isDev)throw new Error("Не удалось загрузить диалог");return[function(){var e=(0,n.default)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.router.replace({kind:"MainRoute"}),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(0,s.insertConvos)(a,t,b||[]),(0,s.insertPeers)(t,{apiUsers:C||[],apiGroups:k||[],apiContacts:w||[]});var _=t.convos.get(y);if(!_){if(p.isDev)throw new Error("Диалог не был найден");return[function(){var e=(0,n.default)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.router.replace({kind:"MainRoute"}),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}var E=void 0!==F,I=_.isMarkedUnread&&0===_.unreadCount;I&&c.markRead(_),l.refresh(t.organisers,_);var S="ChatConvo"===_.kind&&void 0===_.members&&c.canReadMembers(_)&&!t.locks.getConversationMembers.has(y);S&&t.locks.getConversationMembers.add(y);var O=E||c.length(_).persisted<d.MESSAGES_PER_PAGE&&_.hasMore&&!t.locks.getHistory.has(_.peerId);O&&t.locks.getHistory.add(_.peerId);var A=Object.values(a.me_sticker_packs).flat(),x=_.unreadCount>0,R=!t.stickerPacks.size&&!t.locks.getStickerPacks,P=!t.locks.getStickerPacks;P&&(t.locks.getStickerPacks=!0);var j=(0,s.getOwnerGroupId)(t.ownerId);return[S&&u.isChatPeerId(y)&&function(){var e=(0,n.default)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.t0=y,e.next=5,r.fetch("messages.getConversationMembers",{peer_id:y,group_id:j},{retries:1});case 5:return e.t1=e.sent,e.abrupt("return",{type:"UserOpenedConvo_MembersRequestCompleted",peerId:e.t0,response:e.t1});case 9:e.prev=9,e.t2=e.catch(1);case 11:return e.abrupt("return",{type:"Noop"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),P&&function(){var e=(0,n.default)(o().mark((function e(t){var r,n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.api,e.prev=1,!A.length){e.next=6;break}return e.next=5,r.fetch("store.getStickers",{sticker_ids:A.join()});case 5:n=e.sent;case 6:if(!R){e.next=10;break}return e.next=9,r.fetch("store.getProducts",{type:"stickers",filters:"active",extended:1});case 9:a=e.sent;case 10:return e.next=12,r.fetchMany({"store.getFavoriteStickers":{},"messages.getRecentStickers":{group_id:j}});case 12:return s=e.sent,e.abrupt("return",{type:"UserOpenedConvo_StickersLoadRequestCompleted",favoriteStickersResponse:s["store.getFavoriteStickers"],recentStickersResponse:s["messages.getRecentStickers"],stickerPacksResponse:a,helloStickersResponse:n});case 16:e.prev=16,e.t0=e.catch(1);case 18:return e.abrupt("return",{type:"Noop"});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),I&&function(){var e=(0,n.default)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.markAsRead",{peer_id:y,mark_conversation_as_read:1,group_id:j});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",{type:"Noop"});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),O&&function(){var e=(0,n.default)(o().mark((function e(t){var r,n,a,s,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.api,e.t0=!0,e.next=e.t0===E?4:e.t0===x?7:10;break;case 4:return n=d.MESSAGES_PER_PAGE,a=-(Math.floor(d.MESSAGES_PER_PAGE/2)-1),e.abrupt("break",12);case 7:return n=Math.floor(1.25*d.MESSAGES_PER_PAGE),a=-d.MESSAGES_PER_PAGE,e.abrupt("break",12);case 10:n=d.MESSAGES_PER_PAGE,a=0;case 12:return e.prev=12,e.next=15,r.fetch("messages.getHistory",{peer_id:y,start_cmid:E?F:-1,count:n,offset:a,group_id:j},{retries:5});case 15:return i=e.sent,u=i.conversations&&(null===(s=i.conversations[0])||void 0===s?void 0:s.unread_count)||0,e.abrupt("return",{type:"UserOpenedConvo_HistoryRequestSucceed",peerId:y,hasMore:E||n+a+u===i.items.length,response:i});case 20:return e.prev=20,e.t1=e.catch(12),e.abrupt("return",{type:"UserOpenedConvo_HistoryRequestFailed",peerId:y});case 23:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}()];case"UserClosedConvo":if((g=t.locks.convosCleanup.get(r.peerId))&&g>1)return t.locks.convosCleanup.set(r.peerId,g-1),[];t.locks.convosCleanup.delete(r.peerId);var M=t.convos.get(r.peerId);return M?(c.cleanup(M),[]):[];case"UserOpenedConvo_HistoryRequestSucceed":var U=r.peerId,T=r.response,B=r.hasMore;t.locks.getHistory.delete(U);var q=t.convos.get(U);if(!q)return[];var N=T.items.map((function(e){return(0,i.fromApiMessage)(e).message}));return c.insertMessages(q,N,B),(0,s.insertPeers)(t,{apiUsers:T.profiles||[],apiGroups:T.groups||[],apiContacts:[]}),[];case"UserOpenedConvo_HistoryRequestFailed":return t.locks.getHistory.delete(r.peerId),[];case"UserOpenedConvo_MembersRequestCompleted":var L=r.peerId,H=r.response;t.locks.getConversationMembers.delete(L);var z=t.convos.get(L);if(!z||"ChatConvo"!==z.kind)return[];var G=H.items.reduce((function(e,t){var r=u.resolveId(t.member_id);return u.isUserPeerId(r)||u.isGroupPeerId(r)||u.isContactPeerId(r)?t.is_message_request||u.isContactPeerId(r)?(e.invitedIds.add(r),e):(e.memberIds.add(r),e):e}),{invitedIds:new Set,memberIds:new Set}),W=G.invitedIds,V=G.memberIds;return c.replaceMembers(z,V),z.invitedIds=W,(0,s.insertPeers)(t,{apiUsers:H.profiles||[],apiGroups:H.groups||[],apiContacts:H.contacts||[]}),[];case"UserOpenedConvo_StickersLoadRequestCompleted":var $,K;t.locks.getStickerPacks=!1;var Q=r.stickerPacksResponse,J=r.helloStickersResponse,X=r.favoriteStickersResponse,Y=r.recentStickersResponse;if(Q){var Z,ee=new Map;null===(Z=Q.items)||void 0===Z||Z.forEach((function(e){var r=(0,f.fromApiStickerPack)(e);if(r){var n=r.stickerPack,a=r.stickers;ee.set(n.id,n),a.forEach((function(e){t.stickers.set(e.id,e)}))}})),t.stickerPacks=ee}var te=function(e){var r=(0,f.fromApiSticker)(e);if(r)return t.stickers.set(r.id,r),r.id};return null==J||J.forEach(te),t.favoriteStickers=[],null===($=X.items)||void 0===$||$.forEach((function(e){var r=te(e);r&&t.favoriteStickers.push(r)})),t.recentStickers=[],null===(K=Y.items)||void 0===K||K.forEach((function(e){var r=te(e);r&&t.recentStickers.push(r)})),[];default:return(0,p.exhaustivenessCheck)(r)}}},682569:(e,t,r)=>{"use strict";r.d(t,{handler:()=>h});var n=r(322559),a=r(467846),o=r(343883),s=r.n(o),i=r(314432),u=r(21705),c=r(837021),l=r(509727),d=r(170971);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function e(t,r,n){switch(r.type){case"UserOpenedConvoProfile":var o=r.peerId,p=r.isLinkWithHistory,h=t.convos.get(o),v=t.ownerId;return h?e(t,{type:"UserOpenedConvoProfile_ConvoRequestCompleted",peerId:o,hasFailed:!1,isLinkWithHistory:p},n):[function(){var e=(0,a.default)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.getConversationsById",{peer_ids:o.toString(),group_id:(0,c.getOwnerGroupId)(v)},{retries:3});case 4:return n=e.sent,e.abrupt("return",{type:"UserOpenedConvoProfile_ConvoRequestCompleted",peerId:o,hasFailed:!1,profiles:n.profiles,groups:n.groups,conversations:n.items,contacts:n.contacts,isLinkWithHistory:p});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserOpenedConvoProfile_ConvoRequestCompleted",peerId:o,hasFailed:!0,isLinkWithHistory:p});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserOpenedConvoProfile_ConvoRequestCompleted":var m=r.peerId,g=r.conversations,D=r.profiles,y=r.groups,b=r.contacts,C=r.hasFailed,F=r.isLinkWithHistory;if(C){if(u.isDev)throw new Error("Не удалось загрузить диалог");return[(0,a.default)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{type:"Noop"});case 1:case"end":return e.stop()}}),e)})))]}(0,c.insertConvos)(n,t,g||[]),(0,c.insertPeers)(t,{apiUsers:D||[],apiGroups:y||[],apiContacts:b||[]});var k=t.convos.get(m),w=t.ownerId;if(!k){if(u.isDev)throw new Error("Диалог не был найден");return[function(){var e=(0,a.default)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.router.replace({kind:"MainRoute"}),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}var _="ChatConvo"===k.kind&&void 0===k.members&&l.canReadMembers(k)&&!t.locks.getConversationMembers.has(m);_&&t.locks.getConversationMembers.add(m);var E="ChatConvo"===k.kind&&k.acl.canSeeInviteLink;return[_&&i.isChatPeerId(m)&&function(){var e=(0,a.default)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.t0=m,e.next=5,r.fetch("messages.getConversationMembers",{peer_id:m,group_id:(0,c.getOwnerGroupId)(w)},{retries:1});case 5:return e.t1=e.sent,e.abrupt("return",{type:"UserOpenedConvoProfile_MembersRequestCompleted",peerId:e.t0,response:e.t1});case 9:e.prev=9,e.t2=e.catch(1);case 11:return e.abrupt("return",{type:"Noop"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E&&i.isChatPeerId(m)&&function(){var e=(0,a.default)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.t0=m,e.t1=F,e.next=6,r.fetch("messages.getInviteLink",{peer_id:m,visible_messages_count:F?d.VISIBLE_MESSAGES_COUNT:0,reset:0},{retries:1});case 6:return e.t2=e.sent,e.abrupt("return",{type:"UserOpenedConvoProfile_InviteLinksCompleted",peerId:e.t0,isLinkWithHistory:e.t1,response:e.t2});case 10:e.prev=10,e.t3=e.catch(1);case 12:return e.abrupt("return",{type:"Noop"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()];case"UserOpenedConvoProfile_MembersRequestCompleted":var I=r.peerId,S=r.response;t.locks.getConversationMembers.delete(I);var O=t.convos.get(I);if(!O||"ChatConvo"!==O.kind)return[];var A=S.items.reduce((function(e,t){var r=i.resolveId(t.member_id);return i.isUserPeerId(r)||i.isGroupPeerId(r)||i.isContactPeerId(r)?t.is_message_request||i.isContactPeerId(r)?(e.invitedIds.add(r),e):(e.memberIds.add(r),e):e}),{invitedIds:new Set,memberIds:new Set}),x=A.invitedIds,R=A.memberIds;return l.replaceMembers(O,R),O.invitedIds=x,(0,c.insertPeers)(t,{apiUsers:S.profiles||[],apiGroups:S.groups||[],apiContacts:S.contacts||[]}),[];case"UserOpenedConvoProfile_InviteLinksCompleted":var P=r.peerId,j=r.response.link,M=r.isLinkWithHistory,U=t.convos.get(P);return U&&"ChatConvo"===U.kind&&j?(l.replaceInviteLinks(U,f(f({},U.inviteLinks),M?{withHistory:j}:{noHistory:j})),[]):[];default:(0,u.exhaustivenessCheck)(r)}}},170971:(e,t,r)=>{"use strict";r.d(t,{VISIBLE_MESSAGES_COUNT:()=>d,handler:()=>p});var n=r(322559),a=r(467846),o=r(343883),s=r.n(o),i=r(21705),u=r(509727);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=250,p=function(e,t){switch(t.type){case"UserRequestChatInvitationLink":var r=t.peerId,n=t.isLinkWithHistory;return[function(){var e=(0,a.default)(s().mark((function e(t){var a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.api,e.prev=1,e.next=4,a.fetch("messages.getInviteLink",{peer_id:r,reset:0,visible_messages_count:n?d:0},{retries:1});case 4:return o=e.sent,e.abrupt("return",{type:"UserRequestChatInvitationLink_RequestCompleted",hasFailed:!o.link,link:o.link,isLinkWithHistory:n,peerId:r});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserRequestChatInvitationLink_RequestCompleted",hasFailed:!0,isLinkWithHistory:n,peerId:r});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserRequestChatInvitationLink_RequestCompleted":var o=t.peerId,c=t.link,p=t.isLinkWithHistory,f=t.hasFailed,h=e.convos.get(o);return!f&&h&&"ChatConvo"===h.kind&&c?(u.replaceInviteLinks(h,l(l({},h.inviteLinks),p?{withHistory:c}:{noHistory:c})),[]):[];case"UserResetChatInvitationLink":var v=t.peerId;return[function(){var e=(0,a.default)(s().mark((function e(t){var r,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.getInviteLink",{peer_id:v,reset:1,visible_messages_count:d},{retries:1});case 4:return n=e.sent,e.next=7,r.fetch("messages.getInviteLink",{peer_id:v,reset:1,visible_messages_count:0},{retries:1});case 7:return a=e.sent,e.abrupt("return",{type:"UserResetChatInvitationLink_RequestCompleted",hasFailed:!n.link||!a.link,links:{withHistory:n.link,noHistory:a.link},peerId:v});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{type:"UserResetChatInvitationLink_RequestCompleted",hasFailed:!0,peerId:v,links:{}});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()];case"UserResetChatInvitationLink_RequestCompleted":var m=t.peerId,g=t.links,D=t.hasFailed,y=e.convos.get(m);return D||"ChatConvo"!==(null==y?void 0:y.kind)?[]:g.noHistory&&g.withHistory?(u.replaceInviteLinks(y,g),[]):[];default:return(0,i.exhaustivenessCheck)(t)}}},543435:(e,t,r)=>{"use strict";r.d(t,{handler:()=>d});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=r(190831),u=r(716352),c=r(610557),l=r(837021),d=function(e,t){switch(t.type){case"UserScrolledChannelHistory":var r=t.channelId,a=t.direction,d=t.startCmid,p=t.possibleSkipped;if(!e.channels.get(r))return[];if(e.locks.getChannelHistory.has(r))return[];e.locks.getChannelHistory.add(r);var f,h=Math.min(i.POSTS_PER_PAGE,p||i.POSTS_PER_PAGE)+2;switch(a){case"backward":f=0;break;case"forward":f=1-h;break;case"around":h=i.POSTS_PER_PAGE,f=-Math.floor(h/2);break;default:(0,s.exhaustivenessCheck)(a)}return[function(){var e=(0,n.default)(o().mark((function e(t){var n,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,e.prev=1,e.next=4,n.fetch("channels.getHistory",{channel_id:r,start_cmid:Math.max(d,1),count:h,offset:f},{retries:5});case 4:i=e.sent,e.t0=a,e.next="backward"===e.t0||"around"===e.t0?8:"forward"===e.t0?10:12;break;case 8:return u=h===i.items.length,e.abrupt("break",13);case 10:return u=void 0,e.abrupt("break",13);case 12:(0,s.exhaustivenessCheck)(a);case 13:return e.abrupt("return",{type:"UserScrolledChannelHistory_RequestSucceed",channelId:r,response:i,hasMore:u});case 16:return e.prev=16,e.t1=e.catch(1),e.abrupt("return",{type:"UserScrolledChannelHistory_RequestFailed",channelId:r});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()];case"UserScrolledChannelHistory_RequestSucceed":var v=t.channelId,m=t.response,g=t.hasMore;e.locks.getChannelHistory.delete(v);var D=e.channels.get(v);if(!D)return[];var y=m.items.reverse().map((function(e){return(0,c.fromApiPost)(e)}));return u.insertPosts(D,y,g),(0,l.insertPeers)(e,{apiUsers:m.profiles||[],apiGroups:m.groups||[],apiContacts:[]}),[];case"UserScrolledChannelHistory_RequestFailed":var b=t.channelId;return e.locks.getChannelHistory.delete(b),[];default:return(0,s.exhaustivenessCheck)(t)}}},475690:(e,t,r)=>{"use strict";r.d(t,{handler:()=>p});var n=r(621094),a=r(467846),o=r(343883),s=r.n(o),i=r(21705),u=r(190831),c=r(509727),l=r(341570),d=r(837021),p=function(e,t){switch(t.type){case"UserScrolledConvoHistory":var r=t.peerId,o=t.direction,p=e.ownerId,f=e.convos.get(r);if(!f)return[];if("end"===o)return c.cleanup(f),[];if(e.locks.getHistory.has(r))return[];if("forward"===o&&!c.hasGap(f))return[];if("backward"===o&&!f.hasMore)return[];e.locks.getHistory.add(t.peerId);var h=u.MESSAGES_PER_PAGE;switch(o){case"forward":var v=f.afterGapCmid,m=-h;return[function(){var e=(0,a.default)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,e.prev=1,e.t0=r,e.next=5,n.fetch("messages.getHistory",{peer_id:r,start_cmid:v,count:h,offset:m,group_id:(0,d.getOwnerGroupId)(p)},{retries:5});case 5:return e.t1=e.sent,e.abrupt("return",{type:"UserScrolledConvoHistory_RequestSucceed",peerId:e.t0,response:e.t1});case 9:return e.prev=9,e.t2=e.catch(1),e.abrupt("return",{type:"UserScrolledConvoHistory_RequestFailed",peerId:r});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()];case"backward":var g=Math.min.apply(Math,(0,n.default)(f.persisted.keys()));return[function(){var e=(0,a.default)(s().mark((function e(t){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.api,e.prev=1,e.next=4,n.fetch("messages.getHistory",{peer_id:r,start_cmid:g,count:h,offset:0,group_id:(0,d.getOwnerGroupId)(p)},{retries:5});case 4:return a=e.sent,e.abrupt("return",{type:"UserScrolledConvoHistory_RequestSucceed",peerId:r,hasMore:h===a.items.length,response:a});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserScrolledConvoHistory_RequestFailed",peerId:r});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];default:return(0,i.exhaustivenessCheck)(o)}case"UserScrolledConvoHistoryToMessage":var D=t.peerId,y=t.cmid,b=e.convos.get(D),C=e.ownerId;return b?c.isCmidInIterator(b,y)?[]:(e.locks.getHistory.add(t.peerId),c.cleanup(b),[function(){var e=(0,a.default)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.getHistory",{peer_id:D,start_cmid:y,count:u.MESSAGES_PER_PAGE,offset:-(Math.floor(u.MESSAGES_PER_PAGE/2)-1),group_id:(0,d.getOwnerGroupId)(C)},{retries:5});case 4:return n=e.sent,e.abrupt("return",{type:"UserScrolledConvoHistory_RequestSucceed",peerId:D,hasMore:!0,response:n});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserScrolledConvoHistory_RequestFailed",peerId:D});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()]):[];case"UserScrolledConvoHistory_RequestSucceed":var F=t.peerId,k=t.response,w=t.hasMore;e.locks.getHistory.delete(F);var _=e.convos.get(F);if(!_)return[];var E=k.items.map((function(e){return(0,l.fromApiMessage)(e).message}));return c.insertMessages(_,E,w),(0,d.insertPeers)(e,{apiUsers:k.profiles||[],apiGroups:k.groups||[],apiContacts:[]}),[];case"UserScrolledConvoHistory_RequestFailed":return e.locks.getHistory.delete(t.peerId),[];default:return(0,i.exhaustivenessCheck)(t)}}},143110:(e,t,r)=>{"use strict";r.d(t,{handler:()=>i});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=function(e,t){switch(t.type){case"UserSeenHelpHint":return e.helpHints&&delete e.helpHints[t.hintId],[function(){var e=(0,n.default)(o().mark((function e(r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.api,e.prev=1,e.next=4,n.fetch("account.hideHelpHint",{hint_id:t.hintId},{retries:1});case 4:return a=e.sent,e.abrupt("return",{type:"UserSeenHelpHint_RequestCompleted",hasFailed:1!==a});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{type:"UserSeenHelpHint_RequestCompleted",hasFailed:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()];case"UserSeenHelpHint_RequestCompleted":return[];default:(0,s.exhaustivenessCheck)(t)}}},900547:(e,t,r)=>{"use strict";r.d(t,{handler:()=>l});var n=r(467846),a=r(343883),o=r.n(a),s=r(21705),i=r(509727),u=r(527119),c=r(837021),l=function(e,t,r){switch(t.type){case"UserSeenMessage":var a=t.cmid,l=t.peerId,p=e.convos.get(l);if(!p)return[];if(a<=p.inReadBy)return[];i.readInUntil(p,a),u.refresh(e.organisers,p);var f=e.readQueues.has(l);return e.readQueues.set(l,p.inReadBy),f?[]:[d(l)];case"UserSeenMessage_ThrottleTimedOut":var h=t.peerId,v=e.readQueues.get(h),m=e.ownerId;return v?[function(){var e=(0,n.default)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,e.prev=1,e.next=4,r.fetch("messages.markAsRead",{peer_id:h,start_cmid:v,mark_conversation_as_read:1,group_id:(0,c.getOwnerGroupId)(m)});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",{type:"UserSeenMessage_RequestCompleted",peerId:h,readUntilCmid:v});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()]:[];case"UserSeenMessage_RequestCompleted":var g=t.peerId,D=t.readUntilCmid,y=e.readQueues.get(g);return y?D>=y?(e.readQueues.delete(g),[]):[d(g)]:[];default:return(0,s.exhaustivenessCheck)(t)}};function d(e){return function(){var t=(0,n.default)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.sleep)(300);case 2:return t.abrupt("return",{type:"UserSeenMessage_ThrottleTimedOut",peerId:e});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}},275864:(e,t,r)=>{"use strict";r.d(t,{handler:()=>c});var n=r(467846),a=r(621094),o=r(343883),s=r.n(o),i=r(360202),u=r(21705),c=function(e,t,r){switch(t.type){case"UserUpdatedFolder":var n=t.folderId,o=t.name,s=t.addPeerIds,c=t.removePeerIds;if(e.locks.updateFolder.has(n))return[];if(function(e,t){if(new Set((0,a.default)(e).filter((function(e){return t.has(e)}))).size)return!0;return!1}(s,c))throw new Error("Peer id не может одновременно находиться в списке на добавление и на удаление");e.locks.updateFolder.add(n);var d=e.organisers.folders.find((function(e){return e.id===n}));if(!d)return[];i.setName(d,o);var p=i.removePeers(d.id,Array.from(c),e.convos),f=i.addPeers(d.id,Array.from(s),e.convos);return new Set([].concat((0,a.default)(p),(0,a.default)(f))).forEach((function(e){return i.refresh([d],e)})),[l(n,o,s,c)];case"UserUpdatedFolder_UpdateRequestCompleted":var h=t.hasFailed,v=t.folderId;if(e.locks.updateFolder.delete(v),h)throw new Error("Не удалось изменить папку");return[];default:(0,u.exhaustivenessCheck)(t)}};function l(e,t,r,o){return function(){var i=(0,n.default)(s().mark((function n(i){var u,c,l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=i.api,c=!1,l={folder_id:e,name:t},r.size&&(l.add_included_peer_ids=(0,a.default)(r).join(",")),o.size&&(l.remove_included_peer_ids=(0,a.default)(o).join(",")),n.prev=5,n.next=8,u.fetch("messages.updateFolder",l);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(5),c=!0;case 13:return n.abrupt("return",{type:"UserUpdatedFolder_UpdateRequestCompleted",hasFailed:c,folderId:e,addPeerIds:r,removePeerIds:o,name:t});case 14:case"end":return n.stop()}}),n,null,[[5,10]])})));return function(e){return i.apply(this,arguments)}}()}},227778:(e,t,r)=>{"use strict";r.d(t,{createStore:()=>c});var n=r(975066),a=r(657442),o=r(21705),s=r(577377);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.initial,u=arguments.length>3?arguments[3]:void 0,c=!1,d=o.isDev&&(0,a.devTools)(),p=[],f=r(u),h=(0,n.default)(f,2),v=h[0],m=h[1];d&&d.init(v);var g=function(e){return p.push(e),function(){p=p.filter((function(t){return t!==e}))}},D=function r(a){if(!c)throw new Error("Стор еще не был активирован. Нужно вызвать store.start().");var o=(0,s.reducer)(v,a,t),u=(0,n.default)(o,2),f=u[0],h=u[1];d&&d.send(a,f);var m=v!==f;if(v=f,l(r,h,e),m){var g,D=i(p);try{for(D.s();!(g=D.n()).done;){(0,g.value)(f)}}catch(e){D.e(e)}finally{D.f()}}};return{start:function(){c||(c=!0,l(D,m,e))},dispatch:D,subscribe:g,featureFlags:t,getState:function(){return v}}}function l(e,t,r){0!==t.length&&setTimeout((function(){var n,a=i(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;"function"==typeof o&&o(r).then(e).catch((function(e){r.logger.error("Необработанная ошибка редьюсера",e)}))}}catch(e){a.e(e)}finally{a.f()}}))}},657442:(e,t,r)=>{"use strict";function n(){return"undefined"!=typeof window&&"__REDUX_DEVTOOLS_EXTENSION__"in window?window.__REDUX_DEVTOOLS_EXTENSION__.connect({serialize:{options:{map:!0,set:!0}}}):null}r.d(t,{devTools:()=>n})},577377:(e,t,r)=>{"use strict";r.d(t,{initial:()=>oe,reducer:()=>se});var n=r(322559),a=r(621094),o=r(975066),s=r(467846),i=r(343883),u=r.n(i),c=r(210746),l=r(837021),d=r(21705),p=r(527119),f=r(252229),h=r(782597),v=r(509727),m=r(314432),g=r(980662),D=r(911615),y=r(716352),b=r(30966),C=r(233600),F=r(604850),k=r(190831),w=r(362156),_=r(751713),E=r(900547),I=r(475690),S=r(931947),O=r(103820),A=r(217698),x=r(154808),R=r(387079),P=r(338779),j=r(903975),M=r(716192),U=r(135738),T=r(203405),B=r(143110),q=r(117215),N=r(182931),L=r(581738),H=r(425592),z=r(632828),G=r(859451),W=r(682569),V=r(455995),$=r(139150),K=r(275864),Q=r(864669),J=r(687049),X=r(215857),Y=r(543435),Z=r(759568),ee=r(877185),te=r(457542),re=r(170971);function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=function(e){return[{status:"running",pts:0,viewerId:m.resolveId(),ownerId:m.resolveId(),organisers:p.empty(),channels:new Map([[y.resolveId(0),{kind:"Channel",id:y.resolveId(0),name:"",isVerified:!1,photos:{},inReadCmid:b.resolveCmid(0),unreadCount:0,isArchived:!1,notificationsDisabledUntil:0,majorSortId:0,minorSortId:0,membersCount:0,pending:{},locks:{loading:!1,cleanUp:0},history:[]}]]),convos:new Map([[m.resolveId(),{kind:"UserConvo",peerId:m.resolveId(),unreadCount:0,majorSortId:0,minorSortId:0,inReadBy:g.resolveCmid(0),outReadBy:g.resolveCmid(0),isNew:!1,folderIds:new Set,isMarkedUnread:!1,isArchived:!1,canWrite:{allowed:!1,reason:"unknown"},push:{mode:"everything",disabledUntil:0},persistedCmid:g.resolveCmid(),persisted:new Map,queuedId:g.resolveRandomId(),queued:new Map,afterGapCmid:g.resolveCmid(),unreadExpireables:new Set,hasMore:!1,entrypoint:null}]]),messagesDrafts:{},readQueues:new Map,peers:new Map([[m.resolveId(),{kind:"User",id:m.resolveId(),firstName:"...",firstNameGen:"...",firstNameAcc:"...",lastName:"...",lastNameGen:"...",lastNameAcc:"...",sex:"unknown",lastSeen:{isVisible:!1,platform:"other"},isVerified:!1,canCall:!0,followersCount:0,canChangeFriendship:!1,canMessage:!1,friendship:"unfamiliar",isBlacklisted:!1,isBlacklistedByMe:!1,isDeactivated:!1,canInviteToChats:!1}]]),onlines:new Set,typings:new Map,convosSearchIndex:C.create(),locks:{getConversations:{all:!1,unread:!1,archive:!1,messageRequest:!1},getChannels:{all:!1,unread:!1},hideFilter:{all:!1,unread:!1,archive:!1,messageRequest:!1},getHistory:new Set,getConversationMembers:new Set,sendQueue:new Map,edit:new Set,convosCleanup:new Map,updateFriendshipOrMembership:new Set,convoActions:new Set,messageActions:new Set,settings:new Set,contactList:!1,createFolder:!1,deleteFolder:new Set,updateFolder:new Set,getChannelHistory:new Set,changeMessageRequest:new Set,getStickerPacks:!1},hiddenPinnedMessages:new Map,userSettings:{ctrSubmit:!1,soundNotifications:!0,showRecommendations:!0,countOnlyNotMuted:!1,autoUnarchive:!0,transcriptAutoShow:!0,darkTheme:!1},helpHints:null,stickerPacks:new Map,stickers:new Map,favoriteStickers:[],recentStickers:[],contactList:new Map,importantMessages:{messages:new Map,hasMore:!0}},[function(){return Promise.resolve({type:"InitialData",ownerId:e})}]]};function se(e,t,r){if("TemporaryHackForResync"===t.type)return oe(e.ownerId);var n,i=(0,c.createDraft)(e);switch(t.type){case"Noop":n=[];break;case"InitialData":case"InitialData_RequestCompleted":n=ie(i,t,r);break;case"EngineBatchReceived":case"EngineBatchReceived_TypingsTimedOut":n=O.handler(i,t,r);break;case"QueueBatchReceived":n=U.handler(i,t,r);break;case"MoreConvosNeeded":case"MoreConvosNeeded_RequestCompleted":n=P.handler(i,t,r);break;case"MoreChannelsNeeded":case"MoreChannelsNeeded_RequestCompleted":n=j.handler(i,t,r);break;case"CacheUpdateReceived":n=M.handler(i,t,r);break;case"UserScrolledConvoHistory":case"UserScrolledConvoHistoryToMessage":case"UserScrolledConvoHistory_RequestSucceed":case"UserScrolledConvoHistory_RequestFailed":n=I.handler(i,t,r);break;case"UserSeenMessage":case"UserSeenMessage_ThrottleTimedOut":case"UserSeenMessage_RequestCompleted":n=E.handler(i,t,r);break;case"UserHitSend":case"UserHitSend_RequestCompleted":case"UserHitResendAllFailedMessages":case"ResendAllFailedMessages":case"UserHitResendFailedMessage":n=w.handler(i,t,r);break;case"UserHitEdit":case"UserHitEdit_RequestCompleted":n=_.handler(i,t,r);break;case"UserOpenedConvo":case"UserClosedConvo":case"UserOpenedConvo_ConvoRequestCompleted":case"UserOpenedConvo_MembersRequestCompleted":case"UserOpenedConvo_HistoryRequestSucceed":case"UserOpenedConvo_HistoryRequestFailed":case"UserOpenedConvo_StickersLoadRequestCompleted":n=S.handler(i,t,r);break;case"UserChangedFriendship":case"UserChangedFriendship_RequestCompleted":n=x.handler(i,t,r);break;case"UserChangedGroupMembership":case"UserChangedGroupMembership_RequestCompleted":n=R.handler(i,t,r);break;case"UserChangedSetting":case"UserChangedSetting_RequestCompleted":n=A.handler(i,t,r);break;case"UserListenedVoice":case"UserListenedVoice_RequestCompleted":n=T.handler(i,t,r);break;case"UserSeenHelpHint":case"UserSeenHelpHint_RequestCompleted":n=B.handler(i,t,r);break;case"UserChangedConvo":case"UserChangedConvo_RequestCompleted":case"UserPinMessage":case"UserPinMessage_RequestCompleted":case"UserUnpinMessage":case"UserUnpinMessage_RequestCompleted":case"UserChangedMute":case"UserChangedMute_RequestCompleted":n=q.handler(i,t,r);break;case"UserChangedMessage":case"UserChangedMessage_RequestCompleted":case"UserDeleteMessage":case"UserDeleteMessage_RequestCompleted":case"UserDeleteFailedMessage":case"UserDeleteAllFailedMessage":case"UserRestoreMessage":case"UserRestoreMessage_RequestCompleted":n=N.handler(i,t,r);break;case"LoadContactList":case"LoadContactList_RequestCompleted":n=L.handler(i,t,r);break;case"UserHideFilter":case"UserHideFilter_Completed":case"UserUndoHideFilter":case"UserActualizeHideFilter":n=z.handler(i,t,r);break;case"UserAcceptedChatMessageRequest":case"UserRejectedMessageRequest":case"UserAcceptedChatMessageRequest_RequestCompleted":case"UserRejectedChatMessageRequest_RequestCompleted":case"UpdateMessageRequestsCounter":case"UpdateMessageRequestsCounter_RequestCompleted":n=H.handler(i,t,r);break;case"UserChangedChatTitle":case"UserChangedChatTitle_RequestCompleted":case"UserRemovedChatPhoto":case"UserRemovedChatPhoto_RequestCompleted":case"UserChangedChatSettings":case"UserChangedChatSettings_RequestCompleted":n=G.handler(i,t,r);break;case"UserOpenedConvoProfile":case"UserOpenedConvoProfile_ConvoRequestCompleted":case"UserOpenedConvoProfile_InviteLinksCompleted":case"UserOpenedConvoProfile_MembersRequestCompleted":n=W.handler(i,t,r);break;case"LoadImportantMessages":case"LoadImportantMessages_RequestCompleted":case"UserClosedImportantMessages":n=V.handler(i,t,r);break;case"UserCreatedFolder":case"UserCreatedFolder_CreateRequestCompleted":n=$.handler(i,t,r);break;case"UserUpdatedFolder":case"UserUpdatedFolder_UpdateRequestCompleted":n=K.handler(i,t,r);break;case"UserDeletedFolder":case"UserDeletedFolder_DeleteRequestCompleted":n=Q.handler(i,t,r);break;case"InvalidateFolder":case"InvalidateFolder_RequestCompleted":n=J.handler(i,t,r);break;case"StickersAddToFavorite":case"StickersAddToFavorite__RequestCompleted":case"StickersRemoveFromFavorite":case"StickersRemoveFromFavorite__RequestCompleted":case"StickerAddToRecent":n=X.handler(i,t,r);break;case"UserScrolledChannelHistory":case"UserScrolledChannelHistory_RequestSucceed":case"UserScrolledChannelHistory_RequestFailed":n=Y.handler(i,t,r);break;case"UserOpenedChannel":case"UserClosedChannel":case"UserOpenedChannel_ChannelRequestCompleted":n=Z.handler(i,t,r);break;case"UserChangedChatMember":case"UserChangedChatMember_RequestCompleted":n=ee.handler(i,t,r);break;case"DeleteDraft":case"SetMessageText":case"SetMessageAttaches":case"SetMessageForwarded":case"SetMessageReply":case"StartEditing":case"StopEditing":n=te.handler(i,t,r);break;case"UserRequestChatInvitationLink":case"UserRequestChatInvitationLink_RequestCompleted":case"UserResetChatInvitationLink":case"UserResetChatInvitationLink_RequestCompleted":n=re.handler(i,t,r);break;default:(0,d.exhaustivenessCheck)(t)}i.convos.set(m.resolveId(),v.safeGet(e.convos,m.resolveId())),i.peers.set(m.resolveId(),m.safeGet(e.peers,m.resolveId())),i.channels.set(y.resolveId(0),y.safeGet(e.channels,y.resolveId(0)));var l=(0,c.finishDraft)(i);if(e.hiddenPinnedMessages!==l.hiddenPinnedMessages&&n.push(function(){var e=(0,s.default)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.storage.set("hidden-pinned-messages",Array.from(l.hiddenPinnedMessages.entries()).reduce((function(e,t){var r=(0,o.default)(t,2),n=r[0],a=r[1];return e[n]=a,e}),{})),e.abrupt("return",{type:"Noop"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.organisers.filters.archive.isHidden&&"Noop"!==t.type&&"UserUndoHideFilter"!==t.type&&"visible"===document.visibilityState){var p={};l.convos.forEach((function(e){"ChatConvo"===e.kind&&e.unreadMentions.size>0&&(p[e.peerId]=g.resolveCmid(Math.max.apply(Math,(0,a.default)(e.unreadMentions))))})),n.push(function(){var e=(0,s.default)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.storage,Object.keys(p).length){e.next=3;break}return e.abrupt("return",{type:"Noop"});case 3:if(n=r.get("archive-mentions-map")||{},!Object.keys(p).every((function(e){return p[m.resolveId(Number(e))]===n[m.resolveId(Number(e))]}))){e.next=6;break}return e.abrupt("return",{type:"Noop"});case 6:return r.set("archive-mentions-map",ae(ae({},n),p)),e.abrupt("return",{type:"UserUndoHideFilter",kind:"archive"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return[l,n]}var ie=function(e,t,r){switch(t.type){case"InitialData":var n=t.ownerId,i=n?(0,l.getOwnerGroupId)(n):0;return[function(){var e=(0,s.default)(u().mark((function e(t){var n,a,o,s,c,l,d,p,f,h,v,m,g,y,b,C,F,w,_,E,I;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=t.engine,p=t.api,f=t.storage,e.next=3,p.fetch("messages.getLongPollServer",{need_pts:1,lp_version:d.version,group_id:i},{retries:1/0});case 3:if((h=e.sent).pts){e.next=6;break}throw new Error("Отсутствует pts");case 6:if(d.connect(ae(ae({},h),{},{pts:h.pts})),v={"messages.getConversations":{count:k.CONVOS_PER_PAGE,group_id:i},"users.get":{},"groups.getById":{group_ids:String(i)},"account.getCounters":{filter:"all"},"account.getInfo":{fields:["messages_recommendation_list_hidden","show_only_not_muted_messages","messages_multiline_input","messages_auto_unarchive","messages_transcript_auto_show"].join(",")},"account.getHelpHints":{}},!r.me_channels){e.next=15;break}return e.next=11,p.fetchMany(ae(ae({},v),{},{"channels.get":{count:k.CHANNELS_PER_PAGE}}),{retries:1/0});case 11:m=e.sent,g=m["channels.get"],e.next=18;break;case 15:return e.next=17,p.fetchMany(v,{retries:1/0});case 17:m=e.sent;case 18:if(y=m["users.get"],b=m["groups.getById"],C=m["messages.getConversations"],F=m["account.getCounters"],w=m["account.getInfo"],_=m["account.getHelpHints"],E=y[0]){e.next=27;break}throw new Error("Не удалось получить текущего пользователя");case 27:return I=null===(n=b.groups)||void 0===n?void 0:n[0],f.identify(E.id),e.abrupt("return",{type:"InitialData_RequestCompleted",responseViewer:E,responseGroup:I,responseConvos:C,hasMoreConvos:C.items.length>=k.CONVOS_PER_PAGE,folders:{count:0,items:[]},responseChannels:g,hasMoreChannels:((null===(a=g)||void 0===a||null===(o=a.items)||void 0===o?void 0:o.length)||0)>=k.CHANNELS_PER_PAGE,unreadCount:{messages:F.messages||0,archive:F.messages_archive_unread||0,archiveMentions:F.messages_archive_mentions_count||0,archiveTotal:F.messages_archive||0,messageRequest:F.message_requests||0,businessNotify:F.business_notify||0,businessNotifyTotal:F.business_notify_all||0,messageRequests:F.message_requests||0,channelsTotal:F.channels||0},pts:h.pts,hiddenPinnedMessages:f.get("hidden-pinned-messages"),archiveManuallyHidden:!!f.get("archive-manually-hidden"),messagesDrafts:D.deleteDraftsWithoutKind(null!==(s=f.get("drafts"))&&void 0!==s?s:{}),userSettings:{ctrSubmit:Boolean(w.messages_multiline_input),soundNotifications:null===(c=f.get("settings-sound-notifications-on"))||void 0===c||c,showRecommendations:!Boolean(w.messages_recommendation_list_hidden),countOnlyNotMuted:Boolean(w.show_only_not_muted_messages),autoUnarchive:Boolean(w.messages_auto_unarchive),transcriptAutoShow:Boolean(w.messages_transcript_auto_show),darkTheme:null!==(l=f.get("vkme-dark-theme"))&&void 0!==l&&l},helpHints:ue(_)});case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];case"InitialData_RequestCompleted":e.pts=t.pts,e.hiddenPinnedMessages=new Map(Object.entries(t.hiddenPinnedMessages||{}).map((function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1];return[m.resolveId(parseInt(r)),g.resolveCmid(n)]}))),e.messagesDrafts=t.messagesDrafts;var c=(0,l.insertConvos)(r,e,t.responseConvos.items);if(e.organisers.filters.archive.isHidden=!!t.archiveManuallyHidden,f.push(e.organisers.filters,"all",c,t.hasMoreConvos),f.updateCounters(e.organisers.filters,{unread:t.unreadCount.messages,archive:t.unreadCount.archive,archiveMentions:t.unreadCount.archiveMentions,archiveTotal:t.unreadCount.archiveTotal,messageRequests:t.unreadCount.messageRequest}),(0,l.insertFolder)(e,t.folders.items),t.responseChannels){var d=(0,l.insertChannels)(e,t.responseChannels);h.push(e.organisers.channelFilters,"all",d,t.hasMoreChannels),h.updateCounters(e.organisers.channelFilters,{unread:t.unreadCount.channelsTotal,archive:0,archiveTotal:0})}(0,l.insertPeers)(e,{apiUsers:(0,a.default)(t.responseConvos.profiles||[]),apiGroups:(0,a.default)(t.responseConvos.groups||[]),apiContacts:(0,a.default)(t.responseConvos.contacts||[])});var p=(0,F.fromApiUser)(t.responseViewer).user;e.peers.set(p.id,p),e.viewerId=p.id;var v=t.responseGroup?(0,F.fromApiGroup)(t.responseGroup):void 0;return v&&e.peers.set(v.id,v),e.ownerId=v?v.id:p.id,t.userSettings&&(e.userSettings=t.userSettings),e.helpHints=t.helpHints,[function(){var e=(0,s.default)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.engine,e.next=3,r.poll();case 3:return e.t0=e.sent,e.t1={kind:"FromEngine",next:e.t0},e.abrupt("return",{type:"EngineBatchReceived",variant:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=(0,s.default)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.api,n=t.queue,e.next=3,r.fetch("queue.subscribe",{queue_ids:"onlfriends_".concat(p.id)},{retries:20});case 3:return a=e.sent,n.connect(ae({user_id:p.id},a)),e.next=7,n.poll();case 7:return e.t0=e.sent,e.abrupt("return",{type:"QueueBatchReceived",next:e.t0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()];default:return[]}};function ue(e){if(0===e.count)return null;var t=e.items.reduce((function(e,t){var r=t.id;if("im:transcript_autoshow_setting"===r)e[r]={id:r};else;return e}),{});return 0===Object.keys(t).length?null:t}},207388:(e,t,r)=>{"use strict";r.d(t,{initConfig:()=>a});var n=r(210746);function a(){(0,n.enableMapSet)(),(0,n.setAutoFreeze)(!1);var e=r(164623),t=r(859005);e.shim(),t.shim()}},679324:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{default:()=>n})},408156:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(897433),a=r(347810);function o(e,t,r){return o=(0,a.default)()?Reflect.construct:function(e,t,r){var a=[null];a.push.apply(a,t);var o=new(Function.bind.apply(e,a));return r&&(0,n.default)(o,r.prototype),o},o.apply(null,arguments)}},81944:(e,t,r)=>{"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{default:()=>n})},92993:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(897433);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.default)(e,t)}},332762:(e,t,r)=>{"use strict";function n(e){return-1!==Function.toString.call(e).indexOf("[native code]")}r.d(t,{default:()=>n})},347810:(e,t,r)=>{"use strict";function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r.d(t,{default:()=>n})},904604:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(231989),a=r(679324);function o(e,t){if(t&&("object"===(0,n.default)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.default)(e)}},897433:(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{default:()=>n})},186865:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(81944),a=r(897433),o=r(332762),s=r(408156);function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||!(0,o.default)(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return(0,s.default)(e,arguments,(0,n.default)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,a.default)(r,e)},i(e)}},816405:(e,t,r)=>{"use strict";r.d(t,{API_VERSION:()=>n});const n="5.188"},818229:(e,t,r)=>{"use strict";function n(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function a(e){return n(new Date(e.getTime()+864e5))}function o(e){return n(new Date(e.getTime()-864e5))}r.d(t,{isToday:()=>n,isTomorrow:()=>o,isYesterday:()=>a})},474235:(e,t,r)=>{"use strict";r.d(t,{initLang:()=>a,langNumeric:()=>s,langSex:()=>o,langWordNumeric:()=>i});var n;r(818229);function a(e){e.source,n=e.config}function o(e,t){if(!Array.isArray(t))return t;var r=n(),a=t[1];return r?(r.sexRules.some((function(r){return"*"===r[0]||e==r[0]&&t[r[1]]?(a=t[r[1]],!0):void 0})),a):a}function s(e,t,r){var a,o=n();if(!t||!o)return e;Array.isArray(t)?(a=t[1],e!==Math.floor(e)?a=t[o.numRules.float]:o.numRules.int.some((function(r){if("*"===r[0])return a=t[r[2]],!0;var n=r[0]?e%r[0]:e;return Array.isArray(r[1])&&-1!==r[1].indexOf(n)?(a=t[r[2]],!0):void 0}))):a=t;var s=e+"";if(r){for(var i=e.toString().split("."),u=[],c=i[0].length-3;c>-3;c-=3)u.unshift(i[0].slice(c>0?c:0,c+3));i[0]=u.join(o.numDel),s=i.join(o.numDec)}return a=(a||"%s").replace("%s",s)}function i(e,t,r){return Array.isArray(t)&&e<t.length?t[e]:s(e,r)}},540399:(e,t,r)=>{"use strict";var n=r(267810),a=r(388752),o=r(960827),s=r(539449),i=r(85045),u=r(712612);e.exports=function(e){var t,r=u(this),c=i(o(r,"length"));if(!s(e))throw new TypeError("mapperFunction must be a function");arguments.length>1&&(t=arguments[1]);var l=n(r,0);return a(l,r,c,0,1,e,t),l}},164623:(e,t,r)=>{"use strict";var n=r(404289),a=r(155559),o=r(540399),s=r(989739),i=s(),u=r(736967),c=a(i);n(c,{getPolyfill:s,implementation:o,shim:u}),e.exports=c},989739:(e,t,r)=>{"use strict";var n=r(540399);e.exports=function(){return Array.prototype.flatMap||n}},736967:(e,t,r)=>{"use strict";var n=r(404289),a=r(697272),o=r(989739);e.exports=function(){var e=o();return n(Array.prototype,{flatMap:e},{flatMap:function(){return Array.prototype.flatMap!==e}}),a("flatMap"),e}},270608:e=>{e.exports=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g},882563:(e,t,r)=>{"use strict";var n=r(340210),a=n("%Array.prototype%"),o=n("%RangeError%"),s=n("%SyntaxError%"),i=n("%TypeError%"),u=r(961727),c=Math.pow(2,32)-1,l=n("%Object.setPrototypeOf%",!0)||([].__proto__!==a?null:function(e,t){return e.__proto__=t,e});e.exports=function(e){if(!u(e)||e<0)throw new i("Assertion failed: `length` must be an integer Number >= 0");if(e>c)throw new o("length is greater than (2**32 - 1)");var t=arguments.length>1?arguments[1]:a,r=[];if(t!==a){if(!l)throw new s("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");l(r,t)}return 0!==e&&(r.length=e),r}},267810:(e,t,r)=>{"use strict";var n=r(340210),a=n("%Symbol.species%",!0),o=n("%TypeError%"),s=r(882563),i=r(960827),u=r(446864),c=r(584537),l=r(961727),d=r(852305);e.exports=function(e,t){if(!l(t)||t<0)throw new o("Assertion failed: length must be an integer >= 0");if(!u(e))return s(t);var r=i(e,"constructor");if(a&&"Object"===d(r)&&null===(r=i(r,a))&&(r=void 0),void 0===r)return s(t);if(!c(r))throw new o("C must be a constructor");return new r(t)}},420245:(e,t,r)=>{"use strict";var n=r(340210),a=r(921924),o=n("%TypeError%"),s=r(446864),i=n("%Reflect.apply%",!0)||a("%Function.prototype.apply%");e.exports=function(e,t){var r=arguments.length>2?arguments[2]:[];if(!s(r))throw new o("Assertion failed: optional `argumentsList`, if provided, must be a List");return i(e,t,r)}},940817:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%"),a=r(871978),o=r(531940),s=r(318858),i=r(173582),u=r(935625),c=r(670849),l=r(586135),d=r(852305);e.exports=function(e,t,r){if("Object"!==d(e))throw new n("Assertion failed: Type(O) is not Object");if(!c(t))throw new n("Assertion failed: IsPropertyKey(P) is not true");var p=s(e,t),f=!p||u(e);return!(p&&!p["[[Configurable]]"]||!f)&&a(i,l,o,e,t,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":r,"[[Writable]]":!0})}},377637:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%"),a=r(940817),o=r(670849),s=r(852305);e.exports=function(e,t,r){if("Object"!==s(e))throw new n("Assertion failed: Type(O) is not Object");if(!o(t))throw new n("Assertion failed: IsPropertyKey(P) is not true");var i=a(e,t,r);if(!i)throw new n("unable to create data property");return i}},428145:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%"),a=r(262428),o=r(871978),s=r(531940),i=r(253496),u=r(173582),c=r(670849),l=r(586135),d=r(195251),p=r(852305);e.exports=function(e,t,r){if("Object"!==p(e))throw new n("Assertion failed: Type(O) is not Object");if(!c(t))throw new n("Assertion failed: IsPropertyKey(P) is not true");var f=a({Type:p,IsDataDescriptor:u,IsAccessorDescriptor:i},r)?r:d(r);if(!a({Type:p,IsDataDescriptor:u,IsAccessorDescriptor:i},f))throw new n("Assertion failed: Desc is not a valid Property Descriptor");return o(u,l,s,e,t,f)}},388752:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%"),a=r(990668),o=r(420245),s=r(377637),i=r(960827),u=r(417405),c=r(446864),l=r(552409),d=r(130322);e.exports=function e(t,r,p,f,h){var v;arguments.length>5&&(v=arguments[5]);for(var m=f,g=0;g<p;){var D=d(g),y=u(r,D);if(!0===y){var b=i(r,D);if(void 0!==v){if(arguments.length<=6)throw new n("Assertion failed: thisArg is required when mapperFunction is provided");b=o(v,arguments[6],[b,g,r])}var C=!1;if(h>0&&(C=c(b)),C){var F=l(b);m=e(t,b,F,m,h-1)}else{if(m>=a)throw new n("index too large");s(t,d(m),b),m+=1}}g+=1}return m}},531940:(e,t,r)=>{"use strict";var n=r(359530),a=r(881171),o=r(852305);e.exports=function(e){return void 0!==e&&n(o,"Property Descriptor","Desc",e),a(e)}},960827:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%"),a=r(215712),o=r(670849),s=r(852305);e.exports=function(e,t){if("Object"!==s(e))throw new n("Assertion failed: Type(O) is not Object");if(!o(t))throw new n("Assertion failed: IsPropertyKey(P) is not true, got "+a(t));return e[t]}},417405:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%"),a=r(670849),o=r(852305);e.exports=function(e,t){if("Object"!==o(e))throw new n("Assertion failed: `O` must be an Object");if(!a(t))throw new n("Assertion failed: `P` must be a Property Key");return t in e}},253496:(e,t,r)=>{"use strict";var n=r(117642),a=r(359530),o=r(852305);e.exports=function(e){return void 0!==e&&(a(o,"Property Descriptor","Desc",e),!(!n(e,"[[Get]]")&&!n(e,"[[Set]]")))}},446864:(e,t,r)=>{"use strict";e.exports=r(659779)},539449:(e,t,r)=>{"use strict";e.exports=r(492575)},584537:(e,t,r)=>{"use strict";var n=r(805800)("%Reflect.construct%",!0),a=r(428145);try{a({},"",{"[[Get]]":function(){}})}catch(e){a=null}if(a&&n){var o={},s={};a(s,"length",{"[[Get]]":function(){throw o},"[[Enumerable]]":!0}),e.exports=function(e){try{n(e,s)}catch(e){return e===o}}}else e.exports=function(e){return"function"==typeof e&&!!e.prototype}},173582:(e,t,r)=>{"use strict";var n=r(117642),a=r(359530),o=r(852305);e.exports=function(e){return void 0!==e&&(a(o,"Property Descriptor","Desc",e),!(!n(e,"[[Value]]")&&!n(e,"[[Writable]]")))}},935625:(e,t,r)=>{"use strict";var n=r(340210),a=n("%Object.preventExtensions%",!0),o=n("%Object.isExtensible%",!0),s=r(144382);e.exports=a?function(e){return!s(e)&&o(e)}:function(e){return!s(e)}},961727:(e,t,r)=>{"use strict";var n=r(442215),a=r(401975),o=r(852305),s=r(335260),i=r(750285);e.exports=function(e){if("Number"!==o(e)||s(e)||!i(e))return!1;var t=n(e);return a(t)===t}},670849:e=>{"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},235640:(e,t,r)=>{"use strict";var n=r(340210)("%Symbol.match%",!0),a=r(578807),o=r(239401);e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(n){var t=e[n];if(void 0!==t)return o(t)}return a(e)}},552409:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%"),a=r(960827),o=r(85045),s=r(852305);e.exports=function(e){if("Object"!==s(e))throw new n("Assertion failed: `obj` must be an Object");return o(a(e,"length"))}},318858:(e,t,r)=>{"use strict";var n=r(340210),a=r(590064),o=n("%TypeError%"),s=r(921924)("Object.prototype.propertyIsEnumerable"),i=r(117642),u=r(446864),c=r(670849),l=r(235640),d=r(195251),p=r(852305);e.exports=function(e,t){if("Object"!==p(e))throw new o("Assertion failed: O must be an Object");if(!c(t))throw new o("Assertion failed: P must be a Property Key");if(i(e,t)){if(!a){var r=u(e)&&"length"===t,n=l(e)&&"lastIndex"===t;return{"[[Configurable]]":!(r||n),"[[Enumerable]]":s(e,t),"[[Value]]":e[t],"[[Writable]]":!0}}return d(a(e,t))}}},118256:(e,t,r)=>{"use strict";e.exports=r(772186)},586135:(e,t,r)=>{"use strict";var n=r(335260);e.exports=function(e,t){return e===t?0!==e||1/e==1/t:n(e)&&n(t)}},239401:e=>{"use strict";e.exports=function(e){return!!e}},364721:(e,t,r)=>{"use strict";var n=r(442215),a=r(401975),o=r(788641),s=r(335260),i=r(750285),u=r(701177);e.exports=function(e){var t=o(e);return s(t)||0===t?0:i(t)?u(t)*a(n(t)):t}},85045:(e,t,r)=>{"use strict";var n=r(990668),a=r(364721);e.exports=function(e){var t=a(e);return t<=0?0:t>n?n:t}},788641:(e,t,r)=>{"use strict";var n=r(340210),a=n("%TypeError%"),o=n("%Number%"),s=n("%RegExp%"),i=n("%parseInt%"),u=r(921924),c=r(346141),l=r(144382),d=u("String.prototype.slice"),p=c(/^0b[01]+$/i),f=c(/^0o[0-7]+$/i),h=c(/^[-+]0x[0-9a-f]+$/i),v=c(new s("["+["","​","￾"].join("")+"]","g")),m=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),g=new RegExp("(^["+m+"]+)|(["+m+"]+$)","g"),D=u("String.prototype.replace"),y=r(608925);e.exports=function e(t){var r=l(t)?t:y(t,o);if("symbol"==typeof r)throw new a("Cannot convert a Symbol value to a number");if("bigint"==typeof r)throw new a("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof r){if(p(r))return e(i(d(r,2),2));if(f(r))return e(i(d(r,2),8));if(v(r)||h(r))return NaN;var n=function(e){return D(e,g,"")}(r);if(n!==r)return e(n)}return o(r)}},712612:(e,t,r)=>{"use strict";var n=r(340210)("%Object%"),a=r(118256);e.exports=function(e){return a(e),n(e)}},608925:(e,t,r)=>{"use strict";var n=r(41503);e.exports=function(e){return arguments.length>1?n(e,arguments[1]):n(e)}},195251:(e,t,r)=>{"use strict";var n=r(117642),a=r(340210)("%TypeError%"),o=r(852305),s=r(239401),i=r(539449);e.exports=function(e){if("Object"!==o(e))throw new a("ToPropertyDescriptor requires an object");var t={};if(n(e,"enumerable")&&(t["[[Enumerable]]"]=s(e.enumerable)),n(e,"configurable")&&(t["[[Configurable]]"]=s(e.configurable)),n(e,"value")&&(t["[[Value]]"]=e.value),n(e,"writable")&&(t["[[Writable]]"]=s(e.writable)),n(e,"get")){var r=e.get;if(void 0!==r&&!i(r))throw new a("getter must be a function");t["[[Get]]"]=r}if(n(e,"set")){var u=e.set;if(void 0!==u&&!i(u))throw new a("setter must be a function");t["[[Set]]"]=u}if((n(t,"[[Get]]")||n(t,"[[Set]]"))&&(n(t,"[[Value]]")||n(t,"[[Writable]]")))throw new a("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}},130322:(e,t,r)=>{"use strict";var n=r(340210),a=n("%String%"),o=n("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new o("Cannot convert a Symbol value to a string");return a(e)}},852305:(e,t,r)=>{"use strict";var n=r(244963);e.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":n(e)}},442215:(e,t,r)=>{"use strict";var n=r(340210)("%Math.abs%");e.exports=function(e){return n(e)}},401975:e=>{"use strict";var t=Math.floor;e.exports=function(e){return t(e)}},772186:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%");e.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},244963:e=>{"use strict";e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}},805800:(e,t,r)=>{"use strict";e.exports=r(340210)},871978:(e,t,r)=>{"use strict";var n=r(431044),a=r(340210),o=n()&&a("%Object.defineProperty%",!0),s=n.hasArrayLengthDefineBug(),i=s&&r(659779),u=r(921924)("Object.prototype.propertyIsEnumerable");e.exports=function(e,t,r,n,a,c){if(!o){if(!e(c))return!1;if(!c["[[Configurable]]"]||!c["[[Writable]]"])return!1;if(a in n&&u(n,a)!==!!c["[[Enumerable]]"])return!1;var l=c["[[Value]]"];return n[a]=l,t(n[a],l)}return s&&"length"===a&&"[[Value]]"in c&&i(n)&&n.length!==c["[[Value]]"]?(n.length=c["[[Value]]"],n.length===c["[[Value]]"]):(o(n,a,r(c)),!0)}},659779:(e,t,r)=>{"use strict";var n=r(340210)("%Array%"),a=!n.isArray&&r(921924)("Object.prototype.toString");e.exports=n.isArray||function(e){return"[object Array]"===a(e)}},359530:(e,t,r)=>{"use strict";var n=r(340210),a=n("%TypeError%"),o=n("%SyntaxError%"),s=r(117642),i={"Property Descriptor":function(e){var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in e)if(s(e,r)&&!t[r])return!1;var n=s(e,"[[Value]]"),o=s(e,"[[Get]]")||s(e,"[[Set]]");if(n&&o)throw new a("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":r(579330)};e.exports=function(e,t,r,n){var s=i[t];if("function"!=typeof s)throw new o("unknown record type: "+t);if("Object"!==e(n)||!s(n))throw new a(r+" must be a "+t)}},881171:e=>{"use strict";e.exports=function(e){if(void 0===e)return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}},590064:(e,t,r)=>{"use strict";var n=r(340210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},750285:e=>{"use strict";var t=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!t(e)&&e!==1/0&&e!==-1/0}},579330:(e,t,r)=>{"use strict";var n=r(117642);e.exports=function(e){return n(e,"[[StartIndex]]")&&n(e,"[[EndIndex]]")&&e["[[StartIndex]]"]>=0&&e["[[EndIndex]]"]>=e["[[StartIndex]]"]&&String(parseInt(e["[[StartIndex]]"],10))===String(e["[[StartIndex]]"])&&String(parseInt(e["[[EndIndex]]"],10))===String(e["[[EndIndex]]"])}},335260:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},144382:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},262428:(e,t,r)=>{"use strict";var n=r(340210),a=r(117642),o=n("%TypeError%");e.exports=function(e,t){if("Object"!==e.Type(t))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(a(t,n)&&!r[n])return!1;if(e.IsDataDescriptor(t)&&e.IsAccessorDescriptor(t))throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}},990668:(e,t,r)=>{"use strict";var n=r(340210),a=n("%Math%"),o=n("%Number%");e.exports=o.MAX_SAFE_INTEGER||a.pow(2,53)-1},346141:(e,t,r)=>{"use strict";var n=r(921924)("RegExp.prototype.exec");e.exports=function(e){return function(t){return null!==n(e,t)}}},701177:e=>{"use strict";e.exports=function(e){return e>=0?1:-1}},606972:(e,t,r)=>{"use strict";r.d(t,{createBrowserHistory:()=>u,parsePath:()=>f});var n,a=r(392482);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));var o=function(e){return e};var s="beforeunload",i="popstate";function u(e){void 0===e&&(e={});var t=e.window,r=void 0===t?document.defaultView:t,u=r.history;function h(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,s=u.state||{};return[s.idx,o({pathname:t,search:n,hash:a,state:s.usr||null,key:s.key||"default"})]}var v=null;r.addEventListener(i,(function(){if(v)C.call(v),v=null;else{var e=n.Pop,t=h(),r=t[0],a=t[1];if(C.length){if(null!=r){var o=D-r;o&&(v={action:e,location:a,retry:function(){I(-1*o)}},I(o))}}else E(e)}}));var m=n.Pop,g=h(),D=g[0],y=g[1],b=l(),C=l();function F(e){return"string"==typeof e?e:p(e)}function k(e,t){return void 0===t&&(t=null),o((0,a.default)({pathname:y.pathname,hash:"",search:""},"string"==typeof e?f(e):e,{state:t,key:d()}))}function w(e,t){return[{usr:e.state,key:e.key,idx:t},F(e)]}function _(e,t,r){return!C.length||(C.call({action:e,location:t,retry:r}),!1)}function E(e){m=e;var t=h();D=t[0],y=t[1],b.call({action:m,location:y})}function I(e){u.go(e)}null==D&&(D=0,u.replaceState((0,a.default)({},u.state,{idx:D}),""));var S={get action(){return m},get location(){return y},createHref:F,push:function e(t,a){var o=n.Push,s=k(t,a);if(_(o,s,(function(){e(t,a)}))){var i=w(s,D+1),c=i[0],l=i[1];try{u.pushState(c,"",l)}catch(e){r.location.assign(l)}E(o)}},replace:function e(t,r){var a=n.Replace,o=k(t,r);if(_(a,o,(function(){e(t,r)}))){var s=w(o,D),i=s[0],c=s[1];u.replaceState(i,"",c),E(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return b.push(e)},block:function(e){var t=C.push(e);return 1===C.length&&r.addEventListener(s,c),function(){t(),C.length||r.removeEventListener(s,c)}}};return S}function c(e){e.preventDefault(),e.returnValue=""}function l(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,r=void 0===t?"/":t,n=e.search,a=void 0===n?"":n,o=e.hash,s=void 0===o?"":o;return a&&"?"!==a&&(r+="?"===a.charAt(0)?a:"?"+a),s&&"#"!==s&&(r+="#"===s.charAt(0)?s:"#"+s),r}function f(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}},392482:(e,t,r)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{default:()=>n})},492575:e=>{"use strict";var t,r,n=Function.prototype.toString,a="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof a&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},a((function(){throw 42}),null,t)}catch(e){e!==r&&(a=null)}else a=null;var o=/^\s*class\b/,s=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},i=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,c="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};e.exports=a?function(e){if(e===c)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{a(e,null,t)}catch(e){if(e!==r)return!1}return!s(e)}:function(e){if(e===c)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(u)return function(e){try{return!s(e)&&(n.call(e),!0)}catch(e){return!1}}(e);if(s(e))return!1;var t=i.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},578807:(e,t,r)=>{"use strict";var n,a,o,s,i=r(921924),u=r(596410)();if(u){n=i("Object.prototype.hasOwnProperty"),a=i("RegExp.prototype.exec"),o={};var c=function(){throw o};s={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=c)}var l=i("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!=typeof e)return!1;var t=d(e,"lastIndex");if(!(t&&n(t,"value")))return!1;try{a(e,s)}catch(e){return e===o}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===l(e)}},215712:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&a&&"function"==typeof a.get?a.get:null,s=n&&Map.prototype.forEach,i="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=i&&u&&"function"==typeof u.get?u.get:null,l=i&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,v=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,D=String.prototype.slice,y=String.prototype.replace,b=String.prototype.toUpperCase,C=String.prototype.toLowerCase,F=RegExp.prototype.test,k=Array.prototype.concat,w=Array.prototype.join,_=Array.prototype.slice,E=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,S=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"==typeof Symbol.iterator,x="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===A||"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function j(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||F.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-E(-e):E(e);if(n!==e){var a=String(n),o=D.call(t,a.length+1);return y.call(a,r,"$&_")+"."+y.call(y.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(t,r,"$&_")}var M=r(785137).custom,U=M&&N(M)?M:null;function T(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function B(e){return y.call(String(e),/"/g,"&quot;")}function q(e){return!("[object Array]"!==z(e)||x&&"object"==typeof e&&x in e)}function N(e){if(A)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!O)return!1;try{return O.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,a){var i=r||{};if(H(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&i.maxStringLength!==1/0:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!H(i,"customInspect")||i.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var v=i.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return W(t,i);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var b=String(t);return v?j(t,b):b}if("bigint"==typeof t){var F=String(t)+"n";return v?j(t,F):F}var E=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=E&&E>0&&"object"==typeof t)return q(t)?"[Array]":"[Object]";var S=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=w.call(Array(e.indent+1)," ")}return{base:r,prev:w.call(Array(t+1),r)}}(i,n);if(void 0===a)a=[];else if(G(a,t)>=0)return"[Circular]";function M(t,r,o){if(r&&(a=_.call(a)).push(r),o){var s={depth:i.depth};return H(i,"quoteStyle")&&(s.quoteStyle=i.quoteStyle),e(t,s,n+1,a)}return e(t,i,n+1,a)}if("function"==typeof t){var L=function(e){if(e.name)return e.name;var t=g.call(m.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),V=X(t,M);return"[Function"+(L?": "+L:" (anonymous)")+"]"+(V.length>0?" { "+w.call(V,", ")+" }":"")}if(N(t)){var Y=A?y.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(t);return"object"!=typeof t||A?Y:$(Y)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var Z="<"+C.call(String(t.nodeName)),ee=t.attributes||[],te=0;te<ee.length;te++)Z+=" "+ee[te].name+"="+T(B(ee[te].value),"double",i);return Z+=">",t.childNodes&&t.childNodes.length&&(Z+="..."),Z+="</"+C.call(String(t.nodeName))+">"}if(q(t)){if(0===t.length)return"[]";var re=X(t,M);return S&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(re)?"["+J(re,S)+"]":"[ "+w.call(re,", ")+" ]"}if(function(e){return!("[object Error]"!==z(e)||x&&"object"==typeof e&&x in e)}(t)){var ne=X(t,M);return"cause"in t&&!R.call(t,"cause")?"{ ["+String(t)+"] "+w.call(k.call("[cause]: "+M(t.cause),ne),", ")+" }":0===ne.length?"["+String(t)+"]":"{ ["+String(t)+"] "+w.call(ne,", ")+" }"}if("object"==typeof t&&u){if(U&&"function"==typeof t[U])return t[U]();if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ae=[];return s.call(t,(function(e,r){ae.push(M(r,t,!0)+" => "+M(e,t))})),Q("Map",o.call(t),ae,S)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var oe=[];return l.call(t,(function(e){oe.push(M(e,t))})),Q("Set",c.call(t),oe,S)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return K("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return K("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return K("WeakRef");if(function(e){return!("[object Number]"!==z(e)||x&&"object"==typeof e&&x in e)}(t))return $(M(Number(t)));if(function(e){if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}(t))return $(M(I.call(t)));if(function(e){return!("[object Boolean]"!==z(e)||x&&"object"==typeof e&&x in e)}(t))return $(h.call(t));if(function(e){return!("[object String]"!==z(e)||x&&"object"==typeof e&&x in e)}(t))return $(M(String(t)));if(!function(e){return!("[object Date]"!==z(e)||x&&"object"==typeof e&&x in e)}(t)&&!function(e){return!("[object RegExp]"!==z(e)||x&&"object"==typeof e&&x in e)}(t)){var se=X(t,M),ie=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,ue=t instanceof Object?"":"null prototype",ce=!ie&&x&&Object(t)===t&&x in t?D.call(z(t),8,-1):ue?"Object":"",le=(ie||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ce||ue?"["+w.call(k.call([],ce||[],ue||[]),": ")+"] ":"");return 0===se.length?le+"{}":S?le+"{"+J(se,S)+"}":le+"{ "+w.call(se,", ")+" }"}return String(t)};var L=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return L.call(e,t)}function z(e){return v.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function W(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return W(D.call(e,0,t.maxStringLength),t)+n}return T(y.call(y.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,V),"single",t)}function V(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function $(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function Q(e,t,r,n){return e+" ("+t+") {"+(n?J(r,n):w.call(r,", "))+"}"}function J(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+w.call(e,","+r)+"\n"+t.prev}function X(e,t){var r=q(e),n=[];if(r){n.length=e.length;for(var a=0;a<e.length;a++)n[a]=H(e,a)?t(e[a],e):""}var o,s="function"==typeof S?S(e):[];if(A){o={};for(var i=0;i<s.length;i++)o["$"+s[i]]=s[i]}for(var u in e)H(e,u)&&(r&&String(Number(u))===u&&u<e.length||A&&o["$"+u]instanceof Symbol||(F.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if("function"==typeof S)for(var c=0;c<s.length;c++)R.call(e,s[c])&&n.push("["+t(s[c])+"]: "+t(e[s[c]],e));return n}},204743:(e,t,r)=>{"use strict";const n=r(714552),a=r(444020),o=r(480500),s=r(92806),i=Symbol("encodeFragmentIdentifier");function u(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?a(e):e}function d(e){return Array.isArray(e)?e.sort():"object"==typeof e?d(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function p(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=p(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function v(e,t){u((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return(e,r,n)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const a="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!a&&l(r,e).includes(e.arrayFormatSeparator);r=o?l(r,e):r;const s=a||o?r.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===r?r:l(r,e);n[t]=s};case"bracket-separator":return(t,r,n)=>{const a=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!a)return void(n[t]=r?l(r,e):r);const o=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>l(t,e)));void 0!==n[t]?n[t]=[].concat(n[t],o):n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const a of e.split("&")){if(""===a)continue;let[e,s]=o(t.decode?a.replace(/\+/g," "):a,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:l(s,t),r(l(e,t),s,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=h(r[e],t);else n[e]=h(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=d(r):e[t]=r,e}),Object.create(null))}t.extract=f,t.parse=v,t.stringify=(e,t)=>{if(!e)return"";u((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const a=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[",a,"]"].join("")]:[...r,[c(t,e),"[",c(a,e),"]=",c(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[]"].join("")]:[...r,[c(t,e),"[]=",c(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),":list="].join("")]:[...r,[c(t,e),":list=",c(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:(a=null===a?"":a,0===n.length?[[c(r,e),t,c(a,e)].join("")]:[[n,c(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,c(t,e)]:[...r,[c(t,e),"=",c(n,e)].join("")]}}(t),a={};for(const t of Object.keys(e))r(t)||(a[t]=e[t]);const o=Object.keys(a);return!1!==t.sort&&o.sort(t.sort),o.map((r=>{const a=e[r];return void 0===a?"":null===a?c(r,t):Array.isArray(a)?0===a.length&&"bracket-separator"===t.arrayFormat?c(r,t)+"[]":a.reduce(n(r),[]).join("&"):c(r,t)+"="+c(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:v(f(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[i]:!0},r);const n=p(e.url).split("?")[0]||"",a=t.extract(e.url),o=t.parse(a,{sort:!1}),s=Object.assign(o,e.query);let u=t.stringify(s,r);u&&(u=`?${u}`);let l=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(l=`#${r[i]?c(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${u}${l}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[i]:!1},n);const{url:a,query:o,fragmentIdentifier:u}=t.parseUrl(e,n);return t.stringifyUrl({url:a,query:s(o,r),fragmentIdentifier:u},n)},t.exclude=(e,r,n)=>{const a=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,a,n)}},714552:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},480500:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},487496:(e,t,r)=>{"use strict";var n=r(631585),a=r(919030),o=r(209497),s=r(921924)("String.prototype.slice");e.exports=function(e){var t,r=o(this),i=a(r),u=n(i.length);arguments.length>1&&(t=arguments[1]);var c=void 0===t?"":a(t);""===c&&(c=" ");var l=n(e);if(l<=u)return i;for(var d=l-u;c.length<d;){var p=c.length,f=d-p;c+=p>f?s(c,0,f):c}var h=c.length>d?s(c,0,d):c;return h+i}},859005:(e,t,r)=>{"use strict";var n=r(404289),a=r(209497),o=r(155559),s=r(487496),i=r(433842),u=r(714563),c=o.apply(i()),l=function(e,t){a(e);var r=arguments.length>2?[t,arguments[2]]:[t];return c(e,r)};n(l,{getPolyfill:i,implementation:s,shim:u}),e.exports=l},209497:(e,t,r)=>{"use strict";e.exports=r(351078)},942632:(e,t,r)=>{"use strict";var n=r(759771),a=r(264924),o=r(996948),s=r(109657),i=r(577372),u=r(646459);e.exports=function(e){var t=o(e);return s(t)||0===t?0:i(t)?u(t)*a(n(t)):t}},631585:(e,t,r)=>{"use strict";var n=r(693470),a=r(942632);e.exports=function(e){var t=a(e);return t<=0?0:t>n?n:t}},996948:(e,t,r)=>{"use strict";var n=r(340210),a=n("%TypeError%"),o=n("%Number%"),s=n("%RegExp%"),i=n("%parseInt%"),u=r(921924),c=r(554544),l=r(994478),d=u("String.prototype.slice"),p=c(/^0b[01]+$/i),f=c(/^0o[0-7]+$/i),h=c(/^[-+]0x[0-9a-f]+$/i),v=c(new s("["+["","​","￾"].join("")+"]","g")),m=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),g=new RegExp("(^["+m+"]+)|(["+m+"]+$)","g"),D=u("String.prototype.replace"),y=r(802778);e.exports=function e(t){var r=l(t)?t:y(t,o);if("symbol"==typeof r)throw new a("Cannot convert a Symbol value to a number");if("bigint"==typeof r)throw new a("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof r){if(p(r))return e(i(d(r,2),2));if(f(r))return e(i(d(r,2),8));if(v(r)||h(r))return NaN;var n=function(e){return D(e,g,"")}(r);if(n!==r)return e(n)}return o(r)}},802778:(e,t,r)=>{"use strict";var n=r(41503);e.exports=function(e){return arguments.length>1?n(e,arguments[1]):n(e)}},919030:(e,t,r)=>{"use strict";var n=r(340210),a=n("%String%"),o=n("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new o("Cannot convert a Symbol value to a string");return a(e)}},759771:(e,t,r)=>{"use strict";var n=r(340210)("%Math.abs%");e.exports=function(e){return n(e)}},264924:e=>{"use strict";var t=Math.floor;e.exports=function(e){return t(e)}},351078:(e,t,r)=>{"use strict";var n=r(340210)("%TypeError%");e.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},577372:e=>{"use strict";var t=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!t(e)&&e!==1/0&&e!==-1/0}},109657:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},994478:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},693470:(e,t,r)=>{"use strict";var n=r(340210),a=n("%Math%"),o=n("%Number%");e.exports=o.MAX_SAFE_INTEGER||a.pow(2,53)-1},554544:(e,t,r)=>{"use strict";var n=r(340210)("RegExp.prototype.test"),a=r(155559);e.exports=function(e){return a(n,e)}},646459:e=>{"use strict";e.exports=function(e){return e>=0?1:-1}},433842:(e,t,r)=>{"use strict";var n=r(487496);e.exports=function(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:n}},714563:(e,t,r)=>{"use strict";var n=r(433842),a=r(404289);e.exports=function(){var e=n();return a(String.prototype,{padStart:e},{padStart:function(){return String.prototype.padStart!==e}}),e}},785137:()=>{}}]);try{stManager.done("dist/3bad6e117063d3681bf4f60574b483cc.493315dced2664cd8b34.js")}catch(e){}