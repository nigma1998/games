.MEConfig *,
.MEConfig *::before,
.MEConfig *::after {
  box-sizing: border-box;
}

.MEConfig * {
  scrollbar-width: none;
}

/**
* Итоговый селектор не имеет веса, поэтому перекроет только браузерные стили
*/

@supports selector(A:where(B)) {
  :where(.MEConfig) * {
    margin: 0;
    padding: 0;
  }
}

/**
* Без поддержки :where селектор без веса сгененерировать ресет под классом
* без высокой специфичности не получится.
* Универсальные селекторы менее специфичны, чем селекторы с тегами,
* но если стили ресета подключатся после основных, то все равно отработают.
* Поэтому выбираем более специфичные селекторы, но ограничиваем список элементов,
* чтобы с меньшей вероятности задеть более частые элементы
*/

@supports not (selector(A:where(B))) {
  .MEConfig p,
  .MEConfig ul,
  .MEConfig ol,
  .MEConfig h1,
  .MEConfig h2,
  .MEConfig h3,
  .MEConfig h4,
  .MEConfig h5,
  .MEConfig h6,
  .MEConfig figure {
    margin: 0;
    padding: 0;
  }
}

.MEConfig img {
  max-width: 100%;
  aspect-ratio: attr(width) / attr(height);
}

@supports selector(A:where(B)) {
  :where(.MEConfig img[height]) {
    height: auto;
  }
}

@supports not (selector(A:where(B))) {
  .MEConfig img[height] {
    height: auto;
  }
}

.MEConfig {
  --fcZIndex: 1500;
  --basefont: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue',
    Geneva, 'Noto Sans Armenian', 'Noto Sans Bengali', 'Noto Sans Cherokee',
    'Noto Sans Devanagari', 'Noto Sans Ethiopic', 'Noto Sans Georgian',
    'Noto Sans Hebrew', 'Noto Sans Kannada', 'Noto Sans Khmer', 'Noto Sans Lao',
    'Noto Sans Osmanya', 'Noto Sans Tamil', 'Noto Sans Telugu', 'Noto Sans Thai',
    sans-serif, Arial, Tahoma, verdana;
  --font: var(--palette-vk-font, var(--basefont));
  -webkit-font-smoothing: subpixel-antialiased;
  font-family: var(--font);
}

.MEConfig *::-webkit-scrollbar {
  display: none;
}

.MEConfig .simplebar-scrollbar::before {
  background-color: var(--icon_tertiary);
  width: 6px;
  border-radius: 3px;
}

.MEAppConfig {
  --historyPaddingRight: 16px;
  --historyPaddingBottom: 32px;
  --historyPaddingLeft: 16px;
  --messageFontSize: 15px;
  --messageLineHeight: 20px;
  --messageAuthorLinkLineHeight: 16px;
  --messageAuthorLinkFontSize: 13px;
  --messageAuthorLinkFontWeight: 500;
  --messageMaxWidth: 530px;
  --messageVerticalIndent: 8px;
  --messageStackVerticalIndent: 12px;
  --messageHorizontalIndent: 10px;
  --messageBorderRadius: 14px;
  --messageAttachmentIndent: 5px;
  --messageKeyboardIndent: 8px;
  --messageDateFontSize: 11px;
  --messageDateLineHeight: 12px;
  --messageDateMarginLeft: 8px;
  --attachArticleBorderRadius: 6px;
  --attachArticleWidth: 500px;
  --forwardedMessageDateLineHeight: 14px;
  --forwardedMessageDateFontSize: 12px;
  --mediaAttachBorderRadius: 12px;
  --attachWallInfoMessageFontSize: 13px;
  --attachWallInfoMessageLineHeight: 16px;
  --serviceMessageAndConvoDateFontSize: 14px;
  --serviceMessageAndConvoDateLineHeight: 18px;
  --repliedMessageFontSize: 14px;
  --repliedMessageLineHeight: 18px;
  --convoMainMaxWidth: 740px;
  --composerAttachListPadding: 4px 2px;
  --composerAttachListInnerOffset: 14px;
  --composerAttachWidth: 88px;
  --composerAttachHeight: 88px;
  --composerAttachBorderRadius: 8px;
  --composerAttachSpacing: 16px;
  --composerAttachCardIconSize: 32px;
  --composerAttachCardPadding: 8px;
  --composerAttachRemoveButtonSize: 24px;
  --composerAttachRemoveButtonOffset: -4px;
  --composerAttachRemoveButtonBorder: 2px solid #fff;
}

.FCAppConfig,
.SAKAppConfig {
  --historyPadding: 0 16px 12px 8px;
  --historyPaddingRight: 16px;
  --historyPaddingBottom: 30px;
  --historyPaddingLeft: 8px;
  --messageFontSize: 13px;
  --messageLineHeight: 16px;
  --messageAuthorLinkLineHeight: 16px;
  --messageAuthorLinkFontSize: 13px;
  --messageAuthorLinkFontWeight: 500;
  --messageMaxWidth: 260px;
  --messageVerticalIndent: 7px;
  --messageStackVerticalIndent: 10px;
  --messageHorizontalIndent: 10px;
  --messageBorderRadius: 14px;
  --mediaAttachBorderRadius: 12px;
  --messageAttachmentIndent: 4px;
  --messageKeyboardIndent: 8px;
  --messageDateFontSize: 9px;
  --messageDateLineHeight: 10px;
  --messageDateMarginLeft: 3px;
  --attachArticleBorderRadius: 6px;
  --attachArticleWidth: 260px;
  --forwardedMessageDateLineHeight: 14px;
  --forwardedMessageDateFontSize: 12px;
  --attachWallInfoMessageLineHeight: 16px;
  --attachWallInfoMessageFontSize: 13px;
  --serviceMessageAndConvoDateFontSize: 12px;
  --serviceMessageAndConvoDateLineHeight: 14px;
  --repliedMessageFontSize: 13px;
  --repliedMessageLineHeight: 16px;
  --convoMainMaxWidth: 100%;
  --composerAttachListPadding: 6px 0;
  --composerAttachListInnerOffset: 6px;
  --composerAttachWidth: 68px;
  --composerAttachHeight: 68px;
  --composerAttachBorderRadius: 6px;
  --composerAttachSpacing: 6px;
  --composerAttachCardIconSize: 20px;
  --composerAttachCardPadding: 6px 0 6px 6px;
  --composerAttachRemoveButtonSize: 20px;
  --composerAttachRemoveButtonOffset: -2px;
  --composerAttachRemoveButtonBorder: none;
}

/**
* В vkcom мы конфиктуем с классом .Popper от web_packages/palette/Popper, который ставит width и height в 0
*/

.MEConfig .Popper,
/*
  vkui может запускаться в режиме <AppRoot noLegacyClasses={true}>
  это означает что все классы имеют префикс vkui
  и отсутствуют старые классы (без префикса).
*/
.MEConfig .vkuiPopper {
  width: auto;
  height: auto;
}

[data-simplebar]{position:relative;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;align-items:flex-start}.simplebar-wrapper{overflow:hidden;width:inherit;height:inherit;max-width:inherit;max-height:inherit}.simplebar-mask{direction:inherit;position:absolute;overflow:hidden;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:auto!important;height:auto!important;z-index:0}.simplebar-offset{direction:inherit!important;box-sizing:inherit!important;resize:none!important;position:absolute;top:0;left:0;bottom:0;right:0;padding:0;margin:0;-webkit-overflow-scrolling:touch}.simplebar-content-wrapper{direction:inherit;box-sizing:border-box!important;position:relative;display:block;height:100%;width:auto;max-width:100%;max-height:100%;scrollbar-width:none;-ms-overflow-style:none}.simplebar-content-wrapper::-webkit-scrollbar,.simplebar-hide-scrollbar::-webkit-scrollbar{width:0;height:0}.simplebar-content:after,.simplebar-content:before{content:' ';display:table}.simplebar-placeholder{max-height:100%;max-width:100%;width:100%;pointer-events:none}.simplebar-height-auto-observer-wrapper{box-sizing:inherit!important;height:100%;width:100%;max-width:1px;position:relative;float:left;max-height:1px;overflow:hidden;z-index:-1;padding:0;margin:0;pointer-events:none;flex-grow:inherit;flex-shrink:0;flex-basis:0}.simplebar-height-auto-observer{box-sizing:inherit;display:block;opacity:0;position:absolute;top:0;left:0;height:1000%;width:1000%;min-height:1px;min-width:1px;overflow:hidden;pointer-events:none;z-index:-1}.simplebar-track{z-index:1;position:absolute;right:0;bottom:0;pointer-events:none;overflow:hidden}[data-simplebar].simplebar-dragging .simplebar-content{pointer-events:none;user-select:none;-webkit-user-select:none}[data-simplebar].simplebar-dragging .simplebar-track{pointer-events:all}.simplebar-scrollbar{position:absolute;left:0;right:0;min-height:10px}.simplebar-scrollbar:before{position:absolute;content:'';background:#000;border-radius:7px;left:2px;right:2px;opacity:0;transition:opacity .2s .5s linear}.simplebar-hover .simplebar-scrollbar:before,.simplebar-mouse-entered .simplebar-scrollbar:before,.simplebar-scrolling .simplebar-scrollbar:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-scrollbar.simplebar-visible:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-track.simplebar-vertical{top:0;width:11px}.simplebar-scrollbar:before{top:2px;bottom:2px;left:2px;right:2px}.simplebar-track.simplebar-horizontal{left:0;height:11px}.simplebar-track.simplebar-horizontal .simplebar-scrollbar{right:auto;left:0;top:0;bottom:0;min-height:0;min-width:10px;width:auto}[data-simplebar-direction=rtl] .simplebar-track.simplebar-vertical{right:auto;left:0}.simplebar-dummy-scrollbar-size{direction:rtl;position:fixed;opacity:0;visibility:hidden;height:500px;width:500px;overflow-y:hidden;overflow-x:scroll;-ms-overflow-style:scrollbar!important}.simplebar-dummy-scrollbar-size>div{width:200%;height:200%;margin:10px 0}.simplebar-hide-scrollbar{position:fixed;left:0;visibility:hidden;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}

.OptimizedSpinner {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

.UnreadCounter {
  min-width: 20px;
  height: 20px;
  padding: 0 6px;
  border-radius: 10px;
  font: 500 13px/20px var(--font);
  text-align: center;
  background: var(--counter_primary_background);
  color: var(--counter_primary_text);
}

/* Слегка увеличил специфичность, чтобы проповые className не перезаписывали мьют */

.UnreadCounter.UnreadCounter--muted {
  background: var(--counter_secondary_background);
  color: var(--counter_secondary_text);
}

.UnreadCounter--size-18 {
  min-width: 18px;
  height: 18px;
  /* @TODO В макете 12px + нет семиболда, поправить при переходе на VK Sans */
  font: 500 12px/18px var(--font);
  padding: 0 4px;
  border-radius: 9px;
}

.Symbols {
  display: none;
}

.METooltip {
  --tailSize: 5px;
  --tooltip_dark_border: rgba(0, 0, 0, 0.72); /* @TODO: correct token */
  --tooltip_light_background: #fff; /* @TODO: correct token */
  --tooltip_light_border: #c5d0db; /* @TODO: correct token */

  position: relative;
  animation: fadeIn 0.3s ease;
  transition: opacity 0.2s ease, visibility 0.2s ease;
  padding: 3px 9px;
  border-radius: 4px;
  font: 12.5px/18px var(--font);
  height: min-content;
  white-space: nowrap;
  max-width: none;
  color: #fff; /* @TODO: correct token */
  background: var(--tooltip_dark_background);
}

.METooltip--removed {
  visibility: hidden;
  opacity: 0;
}

/**
 * Задаем отступы самого тултипа от Поппера для хвостика
 * Например, если позиционируемся сверху (над элементом),
 * то снизу должен быть отступ для хвостика
 */

[data-position='top'] > .METooltip {
  margin-bottom: var(--tailSize);
}

[data-position='right'] > .METooltip {
  margin-left: var(--tailSize);
}

[data-position='bottom'] > .METooltip {
  margin-top: var(--tailSize);
}

[data-position='left'] > .METooltip {
  margin-right: var(--tailSize);
}

/**
 * Хвостик тултипа
 */

.METooltip::after {
  position: absolute;
  border: var(--tailSize) solid transparent;
  content: '';
}

/**
 * Отображаем хвостик, перекрашивая один из бордеров
 * для появления видимого треугольника
 */

[data-position='top'] > .METooltip::after {
  top: 100%;
  border-top-color: var(--tooltip_dark_background);
}

[data-position='right'] > .METooltip::after {
  top: calc(50% - var(--tailSize));
  right: 100%;
  border-right-color: var(--tooltip_dark_background);
}

[data-position='bottom'] > .METooltip::after {
  bottom: 100%;
  border-bottom-color: var(--tooltip_dark_background);
}

[data-position='left'] > .METooltip::after {
  top: calc(50% - var(--tailSize));
  left: 100%;
  border-left-color: var(--tooltip_dark_background);
}

/**
 * Для режима, когда тултип показывается сверху или снизу,
 * выравниваем тултип по горизонтали (когда он находится на верхней или нижней стороне)
 */

[data-position='top'][data-align='left'] > .METooltip::after,
[data-position='bottom'][data-align='left'] > .METooltip::after {
  left: 5px;
}

[data-position='top'][data-align='center'] > .METooltip::after,
[data-position='bottom'][data-align='center'] > .METooltip::after {
  left: calc(50% - var(--tailSize));
}

[data-position='top'][data-align='right'] > .METooltip::after,
[data-position='bottom'][data-align='right'] > .METooltip::after {
  right: 5px;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.MEPopper {
  display: flex;
  z-index: calc(var(--fcZIndex, 1) + 1);
}

.MEPopper--top {
  align-items: flex-end;
}

.MEPopper--right {
  justify-content: left;
  align-items: center;
}

.MEPopper--bottom {
  align-items: flex-start;
}

.MEPopper--left {
  justify-content: left;
  align-items: center;
  direction: rtl;
}

.MEPopper--alignLeft {
  justify-content: left;
}

.MEPopper--alignCenter {
  justify-content: center;
}

.MEPopper--alignRight {
  direction: rtl;
  justify-content: right;
}

.MEPopper > * {
  direction: ltr;
}

.AvatarFavorites {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(91.54deg, #70b2ff, #5c9ce6);
  border-radius: 50%;
  color: #fff; /* @TODO: correct token */
}

.MEAvatar {
  position: relative;
  text-align: center;
  border-radius: 50%;
  flex: 0 0 auto;
}

.MEAvatar__imgWrapper {
  width: 100%;
  height: 100%;
  border-radius: inherit;
  z-index: 0; /* stack for activity indicator */
}

.MEAvatar__img {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: inherit;
}

.MEAvatar__activityIndicator,
.MEAvatar__imgWrapper::after {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border-radius: inherit;
}

.MEAvatar__activityIndicator {
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff; /* @TODO: correct token */
  z-index: 1; /* pops indicator on top of underlay */
}

/* animatable underlay for indicator */

.MEAvatar__imgWrapper::after {
  content: '';
  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */
  opacity: 0;
  transition: opacity 0.14s ease;
}

.MEAvatar--withActivity .MEAvatar__imgWrapper::after {
  opacity: 1;
}

.MEAvatar__svg {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
  visibility: visible;
}

.MEAvatar__shadow {
  fill: none;
  stroke: rgba(0, 0, 0, 0.08); /* @TODO: correct token */
  stroke-width: 2px;
}

.MEAvatar__mobile {
  color: #4bb34b; /* @TODO: correct token -- designers */
  position: absolute;
  right: 3px;
  bottom: 1px;
}

.MEAvatar--size-40 .MEAvatar__mobile {
  right: 2px;
}

.MEAvatar--size-32 .MEAvatar__mobile {
  right: 1px;
  bottom: -1px;
}

.MEAvatar--size-24 .MEAvatar__mobile {
  right: 0;
  bottom: -1px;
}

.MEAvatar__online {
  position: absolute;
  right: 3px;
  bottom: 3px;
  background-color: #4bb34b; /* @TODO: correct token -- designers */
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.MEAvatar--size-32 .MEAvatar__online {
  right: 1px;
  bottom: 1px;
}

.MEAvatar--size-24 .MEAvatar__online {
  right: 0;
  bottom: 0;
}

.MEAvatar__call {
  position: absolute;
  top: 1px;
  right: -3px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: linear-gradient(135deg, #50c750, #32b332);
  display: flex;
  align-items: center;
  justify-content: center;
}

.MEAvatar--emptyCall .MEAvatar__call {
  background: linear-gradient(135deg, #b1b6bd, #99a2ad);
}

.MEAvatar--size-40 .MEAvatar__call,
.MEAvatar--size-32 .MEAvatar__call {
  top: 0;
}

.MEAvatar__callIcon {
  width: 10px;
  height: 10px;
  fill: #fff; /* @TODO: correct token */
}

@media not all and (min-resolution: 0.001dpcm) {
  @supports (-webkit-appearance: none) {
    .MEAvatar {
      transform: translate3d(0, 0, 0); /* Хак для сафари */
    }
  }
}

.AvatarNoPhoto {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff; /* @TODO: correct token */
  border-radius: 50%;
  font: 600 18px/16px var(--font);
}

.AvatarNoPhoto--color-0 {
  background: radial-gradient(circle at center 0px, #ff6952, #e6404b);
}

.AvatarNoPhoto--color-1 {
  background: radial-gradient(circle at center 0px, #ffb829, #fa7f14);
}

.AvatarNoPhoto--color-2 {
  background: radial-gradient(circle at center 0px, #ffdc50, #f2b40b);
}

.AvatarNoPhoto--color-3 {
  background: radial-gradient(circle at center 0px, #78e070, #46b864);
}

.AvatarNoPhoto--color-4 {
  background: radial-gradient(circle at center 0px, #78f1fa, #46bddb);
}

.AvatarNoPhoto--color-5 {
  background: radial-gradient(circle at center 0px, #e664fa, #a73ddb);
}

.AvatarNoPhoto--color-contact {
  background: radial-gradient(circle at center 0px, #66ccff, #3f8ae0);
}

.AvatarNoPhoto--color-ext {
  background: radial-gradient(circle at center 0px, #bac2cc, #8c97a3);
}

.AvatarNoPhoto--size-20 {
  width: 20px;
  height: 20px;
  font-size: 11px;
  line-height: 15px;
}

.AvatarNoPhoto--size-24 {
  width: 24px;
  height: 24px;
  font-size: 11px;
  line-height: 15px;
}

.AvatarNoPhoto--size-32 {
  width: 32px;
  height: 32px;
  font-size: 12px;
  line-height: 15px;
}

.AvatarNoPhoto--size-34 {
  width: 34px;
  height: 34px;
  font-size: 12px;
  line-height: 15px;
}

.AvatarNoPhoto--size-36 {
  width: 36px;
  height: 36px;
  font-size: 14px;
}

.AvatarNoPhoto--size-40 {
  width: 40px;
  height: 40px;
  font-size: 14px;
}

.AvatarNoPhoto--size-44 {
  width: 44px;
  height: 44px;
  font-size: 15px;
}

.AvatarNoPhoto--size-46 {
  width: 46px;
  height: 46px;
  font-size: 16px;
}

.AvatarNoPhoto--size-48 {
  width: 48px;
  height: 48px;
  font-size: 16px;
}

.AvatarNoPhoto--size-50 {
  width: 50px;
  height: 50px;
  font-size: 17px;
}

.AvatarNoPhoto--size-56 {
  width: 56px;
  height: 56px;
  font-size: 17px;
}

.AvatarNoPhoto--size-64 {
  width: 64px;
  height: 64px;
  font-size: 19px;
}

.AvatarNoPhoto--size-72 {
  width: 72px;
  height: 72px;
  font-size: 26px;
}

.AvatarNoPhoto--size-80 {
  width: 80px;
  height: 80px;
  font-size: 28px;
}

.AvatarNoPhoto--size-100 {
  width: 100px;
  height: 100px;
  font-size: 34px;
}

.AvatarNoPhoto--size-160 {
  width: 160px;
  height: 160px;
  font-size: 54px;
}

.AvatarNoPhoto--size-200 {
  width: 200px;
  height: 200px;
  font-size: 67px;
}

.AttachPhotos--inBubble {
  border-radius: var(--mediaAttachBorderRadius);
  overflow: hidden;
}

.AttachPhotos__link {
  max-width: 100%;
}

.AttachPhotos__link:last-child {
  margin: 0;
}

.AttachPhotos__img {
  display: block;
  width: 100%;
  border-radius: 2px;
  object-fit: cover;
}

.AttachPhotos__layoutRow {
  display: flex;
}

.AttachPhotos__layoutRow + .AttachPhotos__layoutRow {
  margin-top: 2px;
}

.AttachPhotos__link + .AttachPhotos__link {
  margin-left: 2px;
}

.AttachVideos {
  --borderRadius: var(--messageBorderRadius);

  display: flex;
  flex-direction: column;
  max-width: none;
}

.AttachVideos__item {
  --borderRadiusTop: var(--borderRadius);
  --borderRadiusBottom: var(--borderRadius);

  border-radius: var(--borderRadiusTop) var(--borderRadiusTop)
    var(--borderRadiusBottom) var(--borderRadiusBottom);
  overflow: hidden;
  position: relative;
}

.AttachVideos__item + .AttachVideos__item {
  margin-top: 2px;
}

.AttachVideos--inBubble .AttachVideos__item {
  --borderRadius: var(--mediaAttachBorderRadius);
}

.AttachVideos--inBubble .AttachVideos__item:nth-child(n + 2) {
  --borderRadiusTop: 0;
}

.AttachVideos--inBubble .AttachVideos__item:nth-last-child(n + 2) {
  --borderRadiusBottom: 0;
}

.AttachVideos__video {
  display: block;
  position: relative;
  width: 216px;
  min-width: 100%;
  height: 0;
  background: center / cover no-repeat;
}

.AttachVideos__video--restriction {
  filter: blur(26.985px); /* @TODO ?value from figma? correct token */
}

.AttachVideos__videoDuration {
  position: absolute;
  right: 0;
  bottom: 0;
  margin: 8px;
  padding: 5px 8px;
  border-radius: 3px;
  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */
  color: #fff; /* @TODO: correct token */
  font-size: 12px;
  line-height: 1;
}

.AttachVideos__videoPlay {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 50px;
  height: 50px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.5); /* @TODO: correct token */
  border-radius: 50%;
  color: #fff; /* @TODO: correct token */
}

.AttachVideos__videoResctrictionWrap {
  position: absolute;
  top: 50%;
  width: 90%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: #fff; /* @TODO: correct token */
}

.AttachVideos__videoIconRestriction {
  width: 50px;
  height: 50px;

  background-size: contain;
  display: inline-block;
}

.AttachLink {
  max-width: 0;
}

.AttachCard,
.AttachCard:hover {
  text-decoration: none;
  color: var(--text_primary);
  display: flex;
  justify-content: stretch;
  border-radius: var(--messageBorderRadius);
  max-width: none;
}

.AttachCard--withBackground {
  color: var(--background_content);
}

.AttachCard__pic {
  flex: 0 0 auto;
  width: calc(4 * var(--messageLineHeight));
  height: calc(4 * var(--messageLineHeight));
  border-radius: var(--messageBorderRadius) 0 0 var(--messageBorderRadius);
}

.AttachCard__picPlaceholder {
  display: flex;
  justify-content: center;
  align-items: center;
  background: var(--placeholder_icon_background_opaque);
  color: var(--placeholder_icon_foreground_secondary);
}

.AttachCard__img {
  object-fit: cover;
  border-radius: inherit;
  width: 100%;
  height: 100%;
}

.AttachCard--inBubble .AttachCard__pic {
  width: calc(3.5 * var(--messageLineHeight));
  height: calc(3.5 * var(--messageLineHeight));
  border-radius: calc(
    var(--messageBorderRadius) - var(--messageAttachmentIndent)
  ); /* Радиус сообщения минус внутренний отступ для аттача */
}

.AttachCard__main {
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 1 auto;
  overflow: hidden;
  padding: 0 calc(0.5 * var(--messageLineHeight));
  border-radius: 0 var(--messageBorderRadius) var(--messageBorderRadius) 0;
}

.AttachCard__content {
  min-height: calc(3 * var(--messageLineHeight));
}

/**
 * Перебиваем специфичность в vkcom «[dir] h2»
 */

.AttachCard__title.AttachCard__title {
  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);
  white-space: nowrap;
  overflow: hidden;
  max-width: 100%;
  text-overflow: ellipsis;
  margin: 0;
  padding: 0;
}

.AttachCard--withLongTitle .AttachCard__title {
  white-space: normal;
  word-wrap: break-word;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.AttachCard__caption {
  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);
  white-space: nowrap;
  overflow: hidden;
  max-width: 100%;
  text-overflow: ellipsis;
}

.AttachCard__meta {
  color: var(--text_secondary);
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  white-space: nowrap;
  overflow: hidden;
  max-width: 100%;
  text-overflow: ellipsis;
  margin-right: 4ch;
}

.AttachCard--withBackground .AttachCard__meta {
  color: rgba(255, 255, 255, 0.72); /* @TODO: correct token */
}

.AttachMiniCard {
  display: grid;
  align-items: center;
  grid-template-areas:
    'icon title'
    'icon meta';
  grid-template-columns: auto 1fr;
  grid-template-rows: 1fr 1fr;
  text-decoration: none;
  color: var(--text_primary);
  margin-right: calc(0.5 * var(--messageHorizontalIndent));
}

.AttachMiniCard__icon {
  width: 40px;
  height: 40px;
  border-radius: calc(var(--messageBorderRadius) - 4px);
  background-color: var(--background_highlighted); /* @TODO: correct token */
  grid-area: icon;
  margin-right: calc(0.8 * var(--messageHorizontalIndent));
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--im_attach_tint); /* @TODO: correct token */
}

.AttachMiniCard__icon--isOut {
  background-color: var(--background_content); /* @TODO: correct token */
}

.AttachMiniCard__title {
  grid-area: title;
  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  align-self: end;
}

.AttachMiniCard__meta {
  grid-area: meta;
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  color: var(--text_secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.AttachDoc {
  max-width: none;
  text-decoration: none;
  color: var(--text_primary);
  display: grid;
  align-items: center;
  grid-template-areas:
    'icon title'
    'icon meta';
  grid-template-columns: auto 1fr auto;
  grid-template-rows: 1fr 1fr;
  padding: 0 calc(0.5 * var(--messageHorizontalIndent)) 0 0;
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
}

.AttachDoc__icon {
  width: 40px;
  height: 40px;
  border-radius: calc(var(--messageBorderRadius) - 4px);
  background-color: var(--background_highlighted); /* @TODO: correct token */
  grid-area: icon;
  margin-right: calc(0.8 * var(--messageHorizontalIndent));
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--im_attach_tint); /* @TODO: correct token */
}

.AttachDoc__icon--isOut {
  background-color: var(--background_content); /* @TODO: correct token */
}

.AttachDoc__title {
  grid-area: title;
  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  align-self: end;
}

.AttachDoc__meta {
  grid-area: meta;
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  color: var(--text_secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  align-self: start;
}

.AttachDocPreview {
  display: block;
  padding-right: 0;
  position: relative;
}

.AttachDocPreview img {
  border-radius: calc(
    var(--messageBorderRadius) - 0.25 * var(--messageLineHeight)
  );
}

.AttachDocPreview__play {
  align-items: center;
  background-color: rgba(0, 0, 0, 0.4);
  border-radius: 100%;
  color: white;
  display: flex;
  height: 48px;
  justify-content: center;
  left: 50%;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  transition: 0.25s background-color ease-in-out;
  width: 48px;
}

.AttachDocPreview:hover .AttachDocPreview__play {
  background-color: rgba(0, 0, 0, 0.5);
}

.AttachDocPreviewMeta {
  background-color: rgba(0, 0, 0, 0.4);
  border-radius: 6px;
  color: var(--white);
  font: 11px / 14px var(--font);
  padding: 3px 6px;
  position: absolute;
  text-decoration: none;
  white-space: nowrap;
}

.AttachDocPreviewMeta--rounded {
  border-radius: 10px;
}

.AttachAudioPlaylist__icon {
  width: 100%;
  height: 100%;
  border-radius: calc(var(--messageBorderRadius) - 4px);
  background-color: var(--background_highlighted); /* @TODO: correct token */
  grid-area: icon;
  margin-right: calc(0.8 * var(--messageHorizontalIndent));
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--im_attach_tint); /* @TODO: correct token */
}

.AttachAudioPlaylist__icon--isOut {
  background-color: var(--background_content); /* @TODO: correct token */
}

/* wrapper */

.AttachArticle {
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: black;
  border-radius: var(--attachArticleBorderRadius);
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center center;
  position: relative;
  overflow: hidden;
  text-decoration: none;
}

.AttachArticle:hover {
  text-decoration: none;
}

.AttachArticle::before {
  content: '';
  padding-bottom: 56.25%; /* Так аттачу статьи задается высота (по аналогии с подходом в vk.com) */
}

.AttachArticle::after {
  z-index: 1;
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
}

.AttachArticle--withoutImage::after {
  box-shadow: inset 0 0 50px white;
}

.AttachArticle--compact.AttachArticle--withoutImage::after {
  box-shadow: inset 0 0 45px rgba(255, 255, 255, 0.7);
}

.AttachArticle--notAvailable {
  background-color: var(--light_blue_40);
}

.AttachArticle--notAvailable:hover {
  cursor: default;
}

.AttachArticle--notAvailable::after {
  box-shadow: none;
}

.AttachArticle--compact.AttachArticle--notAvailable::after {
  box-shadow: none;
}

.MessageText + .AttachArticle {
  margin-top: var(--messageVerticalIndent);
}

/* content */

.AttachArticle__content {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  overflow: hidden;
}

/* notAvailable caption */

.AttachArticle__notAvailableCaption {
  z-index: 2;
  color: var(--white);
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 8px;
}

.AttachArticle--compact .AttachArticle__notAvailableCaption {
  font-size: 14px;
}

/* title */

.AttachArticle__title {
  z-index: 2;
  color: var(--white);
  font-weight: 900;
  font-size: 19px;
  line-height: 120%;
  padding: 0 40px;
  text-align: center;
}

.AttachArticle--compact .AttachArticle__title {
  font-size: 15px;
  font-weight: 700;
  line-height: 110%;
  padding: 0 20px;
}

.AttachArticle--compact .AttachArticle__title {
  padding: 0 10px;
}

.AttachArticle--compact.AttachArticle--forwarded .AttachArticle__title {
  font-size: 14px;
}

/* author */

.AttachArticle__author {
  z-index: 2;
  font-size: 16px;
  color: var(--white);
  margin-top: 10px;
  margin-bottom: 32px;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
  padding: 0 30px;
}

.AttachArticle--compact .AttachArticle__author {
  font-size: 12px;
  margin-top: 6px;
  margin-bottom: 14px;
}

.AttachArticle--compact.AttachArticle--forwarded .AttachArticle__author {
  margin-bottom: 10px;
}

/* read button */

/* дублирование (здесь и далее) для повышения специфичности селектора в vk.com */

.AttachArticle__readBtn.AttachArticle__readBtn {
  z-index: 2;
}

/** Специфичность для vkcom */
.AttachMiniApp.AttachMiniApp {
  display: flex;
  text-decoration: none;
}
.AttachMiniApp__cover {
  position: relative;
  user-select: none;
}
.AttachMiniApp__cover,
.AttachMiniApp__coverImage {
  width: 40px;
  min-width: 40px;
  height: 40px;

  display: block;
  box-sizing: border-box;
  border-radius: 10px;
}
.AttachMiniApp__cover::before {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;
  pointer-events: none;

  border-radius: 10px;
  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.08) inset;
}
.AttachMiniApp__fields {
  margin-left: 8px;

  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: flex-start;

  overflow: hidden;
}
/** Специфичность для vkcom */
.AttachMiniApp__fields .AttachMiniApp__fieldsTitle,
.AttachMiniApp__fields .AttachMiniApp__fieldsDescription {
  font-style: normal;
  color: var(--text_primary);

  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  margin: 0;
}
.AttachMiniApp__fieldsTitle {
  font-size: 13px;
  font-weight: 500;
  line-height: 16px;
}
.AttachMiniApp__fieldsDescription {
  font-size: 12px;
  font-weight: normal;

  line-height: 14px;
  margin-top: 2px;
  opacity: 0.4;
}

.EmptyConvoList {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1 0 auto;
  padding: 0 24px;
  font: 13px/16px var(--font);
  color: var(--text_secondary);
  text-align: center;
  letter-spacing: -0.078px;
}

.EmptyConvoList__icon {
  color: var(--placeholder_icon_foreground_primary);
  margin-bottom: 12px;
}

.EmptyConvoList__link {
  color: var(--text_link);
  margin-top: 8px;
  background: none;
  outline: none;
  border: 0;
  cursor: pointer;
}

.EmptyConvoList__link:hover {
  text-decoration: underline;
}

.NoResults {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  flex-direction: column;
  font: 13px/16px var(--font);
  flex: 1 0 auto;
}

.NoResults__text {
  padding: 16px 0 0;
  color: var(--content_placeholder_text);
  white-space: pre-wrap;
}

.NoResults__icon {
  color: var(--content_placeholder_icon);
}

.TypingIndicator {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  vertical-align: middle;
}

.TypingIndicator--text .TypingIndicator__particle,
.TypingIndicator--text::before,
.TypingIndicator--text::after {
  width: 4px;
  height: 4px;
  margin-right: 3px;
  background: currentColor;
  border-radius: 3px;
  backface-visibility: hidden;
  animation: TypingAnimationText 1s linear infinite;
}

.TypingIndicator--text::before,
.TypingIndicator--text::after {
  content: '';
  display: block;
}

.TypingIndicator.TypingIndicator--text::before {
  animation-delay: calc(-1 / 6 * 1s);
}

.TypingIndicator.TypingIndicator--text::after {
  animation-delay: calc(1 / 6 * 1s);
}

@keyframes TypingAnimationText {
  0%,
  66.7%,
  100% {
    opacity: 0.4;
  }
  33.3% {
    opacity: 1;
  }
}

.TypingIndicator--voice .TypingIndicator__particle,
.TypingIndicator--voice::before,
.TypingIndicator--voice::after {
  width: 3px;
  height: 12px;
  margin-right: 3px;
  border-radius: 2px;
  background: currentColor;
  transform: scaleY(0.45);
  animation: TypingAnimationVoice 1s linear infinite;
}

.TypingIndicator--voice::before,
.TypingIndicator--voice::after {
  content: '';
  display: block;
}

.TypingIndicator::before {
  animation-delay: calc(-1 / 6 * 1s);
}

.TypingIndicator::after {
  animation-delay: calc(1 / 6 * 1s);
}

@keyframes TypingAnimationVoice {
  0%,
  66.7%,
  100% {
    opacity: 0.4;
    transform: scaleY(0.67);
  }
  33.3% {
    opacity: 1;
    transform: scaleY(1);
  }
}

.TypingIndicator--file {
}

.TypingIndicator--file .TypingIndicator__particle {
  width: 20px;
  height: 6px;
  border-radius: 2px;
  overflow: hidden;
  animation: none;
  position: relative;
  background: none;
}

.TypingIndicator--file .TypingIndicator__particle::before {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: currentColor;
  opacity: 0.3;
}

.TypingIndicator--file .TypingIndicator__particle::after {
  content: '';
  display: block;
  width: 50%;
  height: 100%;
  border-radius: 2px;
  background: currentColor;
  animation: TypingAnimationFile 1s linear infinite;
}

@keyframes TypingAnimationFile {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}

.ConvoTitle {
  color: var(--text_primary);
  font-family: var(--font);
  font-size: inherit;
  line-height: inherit;
  font-weight: inherit;
}

.ConvoTitle__icon {
  margin-left: 5px;
}

.ConvoTitle__verifiedIcon {
  color: var(--accent);
}

.ConvoTitle__mutedIcon {
  color: var(--icon_tertiary);
}

/* Однострочник с транкейтом */

.ConvoTitle--singleLine {
  display: flex;
  align-items: center;
  overflow: hidden;
  max-width: 100%;
}

.ConvoTitle--singleLine .ConvoTitle__title {
  flex: 0 1 auto;
  overflow: hidden;
  /* @TODO: заменить на fade(), когда будет поддержка */
  text-overflow: ellipsis;
  white-space: nowrap;
}

.ConvoTitle--singleLine .ConvoTitle__icon {
  flex: 0 0 auto;
}

/* Многострочник */

.ConvoTitle--multiLine .ConvoTitle__title {
  display: inline;
  vertical-align: top;
}

.ConvoTitle--multiLine .ConvoTitle__icon {
  display: inline-block;
  vertical-align: middle;
  margin-top: -4px;
}

.CasperIcon__container {
  display: inline-block;
  flex: 0 0 auto;
  cursor: pointer;
}

.CasperIcon__icon {
  color: var(--dynamic_blue);
}

.CasperIcon__tooltip {
  display: inline-block;
  white-space: pre;
  text-align: center;
}

.IconNote {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  flex-direction: column;
  font: 13px/16px var(--font);
  flex: 1 0 auto;
}

.IconNote__content {
  margin: 16px 0 0 0;
  color: var(--content_placeholder_text);
}

.IconNote__actions {
  margin-top: 12px;
}

.IconNote__icon {
  color: var(--content_placeholder_icon);
}

.EmojiPicker {
  position: relative;
  height: 100%;
  width: 100%;
  contain: strict;
  padding: 0 20px 0 8px;

  --emojiSize: 28px;
}

.StickerPicker .simplebar-vertical {
  margin-top: 8px;
}

.EmojiPicker .simplebar-content-wrapper {
  scroll-padding-top: 76px;
}

.EmojiPickerSection {
  position: relative;
}

.EmojiPickerSection__header {
  position: sticky;
  top: 0;
  z-index: 1;
  display: flex;
  padding: 12px 0 12px 0;
  background-color: var(--background_content);
}

.EmojiPickerSection__headerTitle {
  font: 600 11px/14px var(--font);
  letter-spacing: 0.01em;
  text-transform: uppercase;
  color: var(--text_secondary);
}

.EmojiPickerSection__content {
  contain: size paint style;
  display: flex;
  flex-wrap: wrap;
}

.EmojiItem {
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: transparent;
  cursor: pointer;
  width: calc(var(--emojiSize) + 4px);
  height: calc(var(--emojiSize) + 4px);
  border-radius: 8px;
  transition: background-color var(--stickerEmojiMenuTransition);
}

.EmojiItem__loader {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.EmojiItem:hover,
.EmojiItem[data-active='true'] {
  background-color: var(--background_highlighted);
}

.Emoji {
  width: 16px;
  height: 16px;
  vertical-align: -3px;
  display: inline-block;
  overflow: hidden;
}

.ConvoMain {
  background-color: var(--background_page);
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;

  --convoHeaderHeight: 47px;
}

.ConvoMain__header {
  display: flex;
  flex-shrink: 0;
  align-items: center;
  height: var(--convoHeaderHeight);
  border-bottom: 1px solid var(--separator_common);
  box-sizing: content-box;
  background-color: var(--background_content);
  padding: 0 16px 0 8px;
  position: relative;
}

.ConvoMain__banners {
  width: 100%;
}

.ConvoMain__history {
  position: relative;
  flex: 1 1 auto;
  overflow: hidden;
}

.ConvoMain__history .ConvoHistory__flow,
.ConvoSearchHistory .ConvoHistory__flow {
  width: 100%;
  max-width: var(--convoMainMaxWidth);
  margin: auto;
}

.ConvoMain__composer {
  position: relative;
  width: 100%;
  max-width: var(--convoMainMaxWidth);
  margin: auto;
  padding: 0 16px 16px;
}

.ConvoMain__searchTab {
  height: 100%;
  overflow: scroll;
}

/* стили таргет ноды для портала searchTab'а */

.ConvoMain__searchTab > div,
.ConvoMain__searchTab > div > div {
  height: 100%;
}

.ConvoMain__attachments {
  width: 560px;
}

.ConvoMain__convoPicker {
  width: 500px;
  height: 450px;
}

.ConvoMain__stickerPicker {
  width: 438px;
  height: 438px;
  border: 1px solid var(--separator_common);
  border-radius: 8px;
  overflow: hidden;
}

.ConvoHeader {
  display: flex;
  align-items: center;
  flex-grow: 1;
  width: 100%;
}

.ConvoHeader__action {
  display: flex;
  align-items: center;
  justify-content: center;
  border: 0;
  outline: none;
  background: none;
  width: 24px;
  height: 24px;
  cursor: pointer;
  color: var(--icon_outline_secondary);
  opacity: 0.72;
  transition: opacity 200ms ease;
}

.ConvoHeader__action:hover {
  opacity: 1;
}

.ConvoHeader__back {
  margin-right: 8px;
}

.ConvoHeader__info {
  flex-grow: 1;
  display: flex;
  align-items: center;
  width: fit-content;
  margin-right: auto;
}

.ConvoHeader__info--interactive {
  text-decoration: none;
  cursor: pointer;
}

.ConvoHeader__avatar {
  flex-shrink: 0;
  isolation: isolate;
  margin-right: 8px;
}

.ConvoHeader__infoContainer {
  flex-grow: 1;
  display: flex;
  flex-flow: column;
  align-items: flex-start;
  justify-content: flex-start;
  width: 0;
}

.ConvoHeader__title {
  font: 500 13px/16px var(--font);
}

.ConvoHeader__status {
  border: 0;
  outline: none;
  background: none;
  color: var(--text_secondary);
  font: 13px/16px var(--font);
  cursor: inherit;
}

.ConvoHeader__infoAnchor {
  width: 0;
  padding: 0;
  margin: 0;
  border: 0;
  background: none;
  overflow: hidden;
}

.ConvoHeader__controls {
  display: flex;
  gap: 12px;
}

.ConvoHeader__info + .ConvoHeader__controls {
  margin-left: 8px;
}

.ConvoHeader__search {
  display: flex;
  align-items: center;
  flex-grow: 1;
  font: 13px/16px var(--font);
  background: var(--background_content);
}

.ConvoHeader__search[hidden] {
  /**
   * Для такого большого блока стоит добавить анимацию,
   * но пока будем просто его прятать
   */
  display: none;
}

.ConvoHeader__searchIcon {
  grid-area: icon;
  width: 16px;
  height: 16px;
  color: var(--icon_outline_secondary);
}

.ConvoHeader__searchInput {
  grid-area: input;
  padding: 0 8px;
  border: 0;
  font: 13px/18px var(--font);
  color: var(--text_primary);
  background: transparent;
  width: 100%;
}

.ConvoHeader__searchDate {
  grid-area: calendar;
  width: 20px;
  height: 20px;
  margin-right: 16px;
  z-index: 10;
}

.ConvoHeader__searchButtons {
  grid-area: buttons;
  display: flex;
  gap: 8px;
}

.ConvoHeader__searchInputContainer {
  position: relative;
  flex-grow: 1;
}

.ConvoHeader__searchInputSpinner {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  width: fit-content;
  margin-right: 16px;
}

.Calendar .DropdownReforged__trigger {
  display: block;
}

.DropdownReforged__trigger {
  display: flex;
}

.DropdownReforged {
  display: flex;
  align-items: center;
}

.DropdownReforged__contentWrapper {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
  transition: opacity 0.14s linear 0.1s, transform 0.14s linear 0.1s;
}

.DropdownReforged__contentWrapper--appear {
  pointer-events: none;
  transform: translateY(5px);
  opacity: 0;
}

.DropdownReforged__contentWrapper--appear-active {
  opacity: 1;
  transform: none;
}

.DropdownReforged__contentWrapper--exit {
  opacity: 1;
  transform: none;
}

.DropdownReforged__contentWrapper--exit-active {
  transform: translateY(5px);
  opacity: 0;
  transition: opacity 0.1s linear 0.1s, transform 0.1s linear 0.1s;
}

.ConvoHistory {
  background-color: var(--background_page);
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 0;
}

.ConvoHistory__wrapper {
  position: relative;
  display: flex;
  flex-flow: column;
  width: 100%;
  height: 100%;
  overscroll-behavior: none;
  overflow-x: hidden;
}

.ConvoHistory__selectToggler {
  width: 20px;
  height: 20px;
  border: 1px solid var(--selection_off_icon);
  border-radius: 50%;
  position: absolute;
  left: -66px;
  bottom: 9px;
}

.ConvoHistory__selectToggler:hover {
  cursor: pointer;
}

.ConvoHistory__selectToggler--out {
  left: 0;
}

.ConvoHistory__selectToggler--active {
  border: none;
  color: var(--control_foreground);
}

.ConvoHistory__wrapper .simplebar-content {
  display: flex;
  flex-flow: column;
  height: 100%;
}

.ConvoHistory__dateStack {
  position: relative;
  width: 100%;
}

.ConvoHistory__content {
  flex: 1 1 auto;
  display: flex;
  position: relative;
  flex-direction: column;
}

.ConvoHistory__contentHeader {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  flex: 1;
  overflow: visible;
}

.ConvoHistory__contentFooter {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  bottom: 0;
}

.ConvoHistory__flow {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: flex-end;
  margin-top: auto;
  padding: 0 var(--historyPaddingRight) var(--historyPaddingBottom)
    var(--historyPaddingLeft);
}

.ConvoHistory__frameWrapper {
  contain: layout style;
  width: 100%;
}

.ConvoHistory__messageWrapper {
  position: relative;
  contain: layout style;
  padding-top: calc(var(--messageVerticalIndent) * 0.5);
  transition: opacity 200ms ease;
  max-width: var(--messageMaxWidth);
}

.ConvoHistory__messageWrapper--out {
  justify-content: flex-end;
}

.ConvoHistory__messageWrapper--fullWidth {
  width: 100%;
  max-width: 100%;
}

.ConvoHistory__messageWrapper:not(.ConvoHistory__separator--date):not(.ConvoHistory__separator--unread):last-child {
  padding-bottom: calc(var(--messageVerticalIndent) * 0.5);
}

.ConvoHistory__flowStack--searchable {
  cursor: pointer;
  transition: 0.2s background-color cubic-bezier(0, 0.5, 0, 1);
}

.ConvoHistory__flowStack--searchable:hover {
  background-color: var(--background_hover);
}

.ConvoHistory__messageWrapper--cached {
  contain: layout style;
}

.ConvoHistory__messageActions {
  position: absolute;
  bottom: 5px;
}

.ConvoHistory__messageWrapper:last-child .ConvoHistory__messageActions {
  bottom: 8px;
}

.ConvoHistory__messageActions--compact {
  bottom: 1.5px;
}

.ConvoHistory__messageWrapper:last-child
  .ConvoHistory__messageActions--compact {
  bottom: 5px;
}

.ConvoHistory__messageActions--inMessage {
  right: -22px;
}

.ConvoHistory__messageActions--outMessage {
  left: -22px;
}

.ConvoHistory__messageActions:hover,
.ConvoMessage:hover + .ConvoHistory__messageActions,
.ConvoHistory__messageActions:focus,
.ConvoMessage:focus + .ConvoHistory__messageActions {
  opacity: 1;
}

.ConvoHistory__messageWrapper--highlighted {
  position: relative;
  opacity: 1;
}

.ConvoHistory__messageWrapper--highlighted .ConvoMessage {
  --messageHighlightFromColor: var(--im_bubble_incoming_alternate);
  --messageHighlightToColor: var(--im_bubble_incoming_highlighted);

  animation: messageHighlight 3000ms ease 1 50ms;
}

.ConvoHistory__messageWrapper--highlighted .ConvoMessage.ConvoMessage--out {
  --messageHighlightFromColor: var(--im_bubble_outgoing);
  --messageHighlightToColor: var(--im_bubble_outgoing_highlighted);
}

.ConvoHistory__messageWrapper--highlighted
  .ConvoMessage.ConvoMessage--expiring {
  --messageHighlightFromColor: var(--im_bubble_incoming_expiring);
  --messageHighlightToColor: var(--im_bubble_incoming_expiring_highlighted);
}

.ConvoHistory__messageWrapper--highlighted
  .ConvoMessage.ConvoMessage--out.ConvoMessage--expiring {
  --messageHighlightFromColor: var(--im_bubble_outgoing_expiring);
  --messageHighlightToColor: var(--im_bubble_outgoing_expiring_highlighted);
}

.ConvoHistory__messageWrapper--highlighted:before {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  width: 100vw;
  transform: translateX(-50%);
  opacity: 0;
  background: var(--background_highlighted);
  animation: messageHighlightBackground 3000ms ease 1;
}

.ConvoHistory__separator {
  display: flex;
  align-items: center;
  gap: 1ch;
  padding: var(--messageVerticalIndent) 0 var(--messageVerticalIndent) 4px;
  color: var(--text_tertiary);
  font-size: 12px;
  font-weight: 400;
  width: 100%;
}

.ConvoHistory__separator {
  box-sizing: border-box;
}

.ConvoHistory__separator::before,
.ConvoHistory__separator::after {
  flex: 1 1 0;
  display: block;
  content: '';
  height: 1px;
}

.ConvoHistory__separator--unread {
  opacity: 1;
}

.ConvoHistory__separator--unread::before {
  background: var(--separator_alternate);
}

.ConvoHistory__separator--unread::after {
  background: var(--separator_alternate);
}

.ConvoHistory__separator--date {
  position: sticky;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1;
  top: 0;
  padding-top: calc(var(--messageVerticalIndent) * 0.875);
  padding-bottom: calc(var(--messageVerticalIndent) * 0.875);
  max-width: 100%;
}

.ConvoHistory__separatorDateWrapper {
  position: relative;
  font-size: var(--serviceMessageAndConvoDateFontSize);
  line-height: var(--serviceMessageAndConvoDateLineHeight);
  font-weight: 400;
  padding: 3px 12px 5px;
  color: var(--text_subhead);
  margin: auto;
  letter-spacing: -0.004em;
}

.ConvoHistory__separator--dateActive:not(.ConvoHistory__separator--forceInactiveDate)
  .ConvoHistory__separatorDateWrapper::after {
  box-shadow: inset 0 0 0 1px var(--separator_common);
}

.ConvoHistory__separator--dateActive[hidden]
  .ConvoHistory__separatorDateWrapper {
  opacity: 0;
  box-shadow: none;
}

.ConvoHistory__spinnerWrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 32px;
  height: 100%;
  width: 100%;
  background: transparent;
}

.ConvoHistory__spinner {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  transition: opacity 260ms ease;
}

.ConvoHistory__spinner--hidden {
  opacity: 0;
}

.VirtualScrollItem {
  position: relative;
  width: 100%;
  display: flex;
}

.VirtualScrollItem::before {
  content: '';
  position: absolute;
  top: 0;
  left: -50vw;
  right: -50vw;
  height: 100%;
  z-index: -1;
}

.VirtualScrollItem--canBeSelected:hover {
  cursor: pointer;
}

.VirtualScrollItem--selected::before {
  background: var(--background_highlighted);
}

.VirtualScrollItem--out {
  justify-content: flex-end;
  -webkit-justify-content: flex-end;
}

/**
  Стили для дебаг-компонента
  @TODO: удалить после оптимизации
 */

.ConvoHistory__debug {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  z-index: 1;
  opacity: 0.3;
  overflow: hidden;
  pointer-events: none;
}

.ConvoHistory__debugItem {
  position: absolute;
  width: 100%;
  background: #1b7a1b;
  color: #0a0a0a;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ConvoHistory__debugItem::before {
  content: '';
  display: block;
  position: absolute;
  height: 1px;
  bottom: 0;
  left: 0;
  right: 0;
  background: #0a0a0a;
}

.ConvoHistory__debugItem--focused {
  background: #f2b40b;
}

@keyframes messageHighlightBackground {
  0% {
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes messageHighlight {
  0% {
    background: var(--messageHighlightFromColor);
  }
  10% {
    background: var(--messageHighlightToColor);
  }
  90% {
    background: var(--messageHighlightToColor);
  }
  100% {
    background: var(--messageHighlightFromColor);
  }
}

.ConvoStack {
  width: 100%;
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
  flex-shrink: 0;
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
}

.ConvoStack--out {
  justify-content: flex-end;
}

/* Создаем дополнительный отступ между stack'ами */

.ConvoStack--out + .ConvoStack:not(.ConvoStack--out),
.ConvoStack:not(.ConvoStack--out) + .ConvoStack--out {
  margin-top: calc(
    var(--messageStackVerticalIndent) - var(--messageVerticalIndent)
  );
}

.ConvoStack__author {
  flex: 0 0 auto;
  padding: 2px 0 calc(var(--messageVerticalIndent) * 0.5);
  margin-right: 8px;
  position: sticky;
  bottom: 0;
}

.ConvoStack__content {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  width: 100%;
}

.ConvoStack--centered .ConvoStack__content {
  flex: 1 1 auto;
  max-width: none;
}

.ConvoStack--out .ConvoStack__content {
  align-items: flex-end;
}

.ConvoStack--selecting {
  margin-left: 28px;
}

.ConvoHistoryPlaceholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  margin: 0 10px;
  padding: 20px 10px;
  color: var(--text_placeholder);
}

.ConvoHistoryPlaceholder__description {
  max-width: 100%;
  margin-top: 8px;
  text-align: center;
  white-space: pre-wrap;
}

.ConvoHistoryPlaceholderUserInfo {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.ConvoHistoryPlaceholderUserInfo__photoWrap {
  margin-bottom: 11px;
}

.ConvoHistoryPlaceholderUserInfo__savedAs {
  font-size: 15px;
  color: var(--text_tertiary);
  margin-bottom: 15px;
  font-weight: 300;
}

.ConvoHistoryPlaceholderUserInfo__icon {
  color: var(--content_placeholder_icon);
  margin: 0 0 19px;
}

.ConvoHistoryPlaceholderUserInfo__photo {
  width: 72px;
  height: 72px;
  border-radius: 50%;
}

.ConvoHistoryPlaceholderUserInfo__name {
  font-size: 20px;
  line-height: 24px;
  margin-bottom: 9px;
  text-align: center;
}

.ConvoHistoryPlaceholderUserInfo__description {
  font-size: 16px;
  color: var(--text_subhead);
  font-weight: 300;
  line-height: 23px;
  text-align: center;
  margin-bottom: 18px;
}

.ConvoHistoryPlaceholderUserInfo__additionalInfo {
  display: flex;
  column-gap: 10px;
  align-items: center;
  margin-bottom: 8px;
  font: 13px/16px var(--font);
  color: var(--text_secondary);
}

.ConvoHistoryPlaceholderUserInfo__mutualFriends {
  margin-bottom: 28px;
}

.ConvoHistoryPlaceholderUserInfo__mutualFriends .vkuiUsersStack__text {
  color: var(--text_secondary);
  font: 13px/16px var(--font);
}

.ConvoHistoryPlaceholderUserInfo--s
  .ConvoHistoryPlaceholderUserInfo__photoWrap {
  margin-bottom: 12px;
}

.ConvoHistoryPlaceholderUserInfo--s .ConvoHistoryPlaceholderUserInfo__name {
  font-size: 16px;
  line-height: 22px;
  margin-bottom: 8px;
}

.ConvoHistoryPlaceholderUserInfo--s .ConvoHistoryPlaceholderUserInfo__savedAs {
  font: 13px/16px var(--font);
  margin-bottom: 10px;
  margin-top: -7px;
}

.ConvoHistoryPlaceholderUserInfo--s
  .ConvoHistoryPlaceholderUserInfo__description {
  font-size: 14px;
  line-height: 20px;
}

.ConvoHistoryPlaceholderUserInfo--s
  .ConvoHistoryPlaceholderUserInfo__additionalInfo {
  margin-bottom: 0;
}

.ConvoHistoryPlaceholderUserInfo--s
  .ConvoHistoryPlaceholderUserInfo__mutualFriends {
  margin-bottom: 0;
  margin-top: 8px;
}

.AvatarSimple {
  position: relative;
  text-align: center;
  border-radius: 50%;
  overflow: hidden;
  display: flex;
}

.AvatarSimple--size-20 {
  width: 20px;
  height: 20px;
}

.AvatarSimple--size-24 {
  width: 24px;
  height: 24px;
}

.AvatarSimple--size-32 {
  width: 32px;
  height: 32px;
}

.AvatarSimple--size-40 {
  width: 40px;
  height: 40px;
}

.AvatarSimple--size-44 {
  width: 44px;
  height: 44px;
}

.AvatarSimple--size-46 {
  width: 46px;
  height: 46px;
}

.AvatarSimple--size-48 {
  width: 48px;
  height: 48px;
}

.AvatarSimple--size-64 {
  width: 64px;
  height: 64px;
}

.AvatarSimple--size-80 {
  width: 80px;
  height: 80px;
}

.AvatarSimple__img {
  width: 100%;
  height: auto;
}

.ConvoHistoryPlaceholderActions {
  display: grid;
  grid-gap: 10px;
  grid-auto-flow: column;
  margin-top: 16px;
}

.ConvoHistoryPlaceholderActions__button:hover {
  text-decoration: none;
}

.ConvoMessage {
  position: relative;
  box-sizing: border-box;
  width: fit-content;
  max-width: 100%;
  background: var(--im_bubble_incoming_alternate);
  border-radius: var(--messageBorderRadius);
  padding: var(--messageVerticalIndent) var(--messageHorizontalIndent);
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  color: var(--text_primary);
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  letter-spacing: -0.007em;
}

.ConvoMessage::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: 0;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--accent);
  box-shadow: 0 0 0 2px var(--background_content);
  z-index: 0;
  transform: scale(0);
  transition: transform 200ms ease;
}

.ConvoMessage--out {
  background: var(--im_bubble_outgoing);
}

.ConvoMessage--selected {
  background: var(--im_bubble_incoming_highlighted);
}

.ConvoMessage--selected.ConvoMessage--out {
  background: var(--im_bubble_outgoing_highlighted);
}

.ConvoMessage--expiring {
  background: var(--im_bubble_incoming_expiring);
}

.ConvoMessage--expiring.ConvoMessage--out {
  background: var(--im_bubble_outgoing_expiring);
}

.ConvoMessage--noBackground {
  background: transparent;
  padding: 0;
}

.ConvoMessage--withGift {
  max-width: 224px;
  background: var(--im_bubble_gift_background);
  color: var(--im_bubble_gift_text);
  text-align: center;
}

.ConvoMessage--withArticle {
  width: var(--attachArticleWidth);
}

.ConvoMessage__statusIcon {
  position: absolute;
  right: 0;
  bottom: 0;
  width: 8px;
  height: 8px;
  background: var(--background_content);
  box-shadow: 0 0 0 1px var(--background_content);
  border-radius: 50%;
  z-index: 1;
}

/**
 * Часики
 */

.ConvoMessage__statusIcon--sending {
  color: var(--icon_secondary);
}

/**
 * Ошибка
 */

.ConvoMessage__statusIcon--failed {
  color: var(--destructive);
}

/**
 * Отметка непрочитанности
 */

.ConvoMessage--unread::after {
  transform: scale(1);
}

.ConvoMessage--sending.ConvoMessage--unread::after {
  display: none;
}

/**
 * Автор сообщения
 */

.ConvoMessage__author {
  max-width: 100%;
  margin: 0 0 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ConvoMessage__authorLink {
  display: block;
  color: var(--im_text_name);
  line-height: var(--messageAuthorLinkLineHeight);
  font-size: var(--messageAuthorLinkFontSize);
  font-weight: var(--messageAuthorLinkFontWeight);
  text-decoration: none;
}

.ConvoMessage__sentFromPrefix {
  color: var(--text_secondary);
  font-size: 12px;
}

.ConvoMessage__sentFromLink {
  color: var(--im_text_name);
  font: 500 13px / 16px var(--font);
  cursor: pointer;
  text-decoration: none;
}

.ConvoMessage__sentFromLink:hover {
  text-decoration: underline;
}

/**
 * Иконка исчезающего сообщения, показывается у исчезающих сообщений и у сообщений в каспер чатах за минуту до исчезания
 */

.ConvoMessage__bomb {
  --padding-horizontal: 5px;

  position: absolute;
  bottom: 4px;
  left: calc(100% - 6px);
  padding: 3px var(--padding-horizontal);
  background: var(--modal_card_background);
  color: var(--icon_tertiary);
  border: 0.5px solid var(--image_border);
  border-radius: 10px;
  cursor: pointer;
  font: 500 12px / 16px var(--font);
  outline: 0;
  text-align: center;
  font-variant-numeric: tabular-nums;
}

.ConvoMessage--out .ConvoMessage__bomb {
  left: auto;
  right: calc(100% - 6px);
}

.ConvoMessage__bomb--soon {
  color: var(--destructive); /* @TODO: correct token -- designers */
}

.ConvoMessage__bomb--blink {
  animation: blink-animation 1s linear infinite;
}

@keyframes blink-animation {
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/**
 * Тело сообщения
 */

.ConvoMessage__content {
  position: relative;
  word-wrap: break-word;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  width: 100%;
}

.ConvoMessage--withReply .ConvoMessage__content {
  min-width: 140px;
}

.ConvoMessage__text {
  flex: 1 1 auto;
  max-width: 100%;
}

.ConvoMessage--wideAttach .ConvoMessage__text {
  min-width: 100%;
}

/**
 * Контейнер для аттачей
 */

.ConvoMessage__attachments {
  max-width: none;
  margin-top: var(--messageVerticalIndent);
  margin-left: calc(
    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)
  );
  margin-right: calc(
    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)
  );
  margin-bottom: calc(
    var(--messageAttachmentIndent) - var(--messageVerticalIndent)
  );
}

.ConvoMessage--withDate .ConvoMessage__attachment {
  /* Компенсируем отступ, которые появляется из-за даты */
  margin-bottom: calc(
    0.5 * var(--messageAttachmentIndent) - var(--messageVerticalIndent) -
      var(--messageDateLineHeight)
  );
}

.ConvoMessage--withAuthor .ConvoMessage__attachments {
  margin-top: calc(var(--messageVerticalIndent) - 2px);
}

.ConvoMessage--attachOnly .ConvoMessage__attachments {
  margin-top: calc(
    var(--messageAttachmentIndent) - var(--messageVerticalIndent)
  );
}

.ConvoMessage--noDate .ConvoMessage__attachments {
  margin-bottom: calc(
    var(--messageAttachmentIndent) - var(--messageVerticalIndent)
  );
}

.ConvoMessage--attachOnly .ConvoMessage__reply + .ConvoMessage__text {
  margin-top: var(--messageVerticalIndent);
}

.ConvoMessage__attachments + .ConvoMessage__forwardedMessages {
  margin-top: calc(
    var(--messageVerticalIndent) + var(--messageAttachmentIndent)
  );
}

.ConvoMessage__info {
  flex: 1 0 auto;
  align-self: flex-end;
  justify-self: end;
  padding: 3px 6px;
  margin: 0 calc(-2 / 3 * var(--messageHorizontalIndent))
    calc(-0.5 * var(--messageVerticalIndent)) var(--messageDateMarginLeft);
}

.ConvoMessage--floatDate .ConvoMessage__info {
  position: absolute;
  bottom: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.25); /* @TODO: correct token */
  border-radius: 8px;
}

.ConvoMessage--important .ConvoMessage__info {
  margin-left: calc(var(--messageDateMarginLeft) + var(--messageDateFontSize));
}

.ConvoMessage--noBackground .ConvoMessage__info {
  margin: 0 calc(1 / 3 * var(--messageHorizontalIndent))
    calc(0.5 * var(--messageVerticalIndent)) 1ch;
}

.ConvoMessage--separateDate .ConvoMessage__info {
  margin-top: calc(0.5 * (var(--messageVerticalIndent) - 1px));
}

.ConvoMessage--insetDate .ConvoMessage__info {
  margin-top: calc(-1 * var(--messageDateLineHeight) - 1px);
}

.ConvoMessage--floatDate .ConvoMessage__date {
  color: var(--background_content);
}

.ConvoMessage__empty {
  color: var(--text_secondary);
}

.ConvoMessage__link,
.ConvoMessage__link:hover {
  text-decoration: none;
  color: var(--text_link);
  cursor: pointer;
}

.ConvoMessage--separateDate .ConvoMessage__content {
  flex-direction: column;
}

.ConvoMessage__reply {
  max-width: 100%;
}

.ConvoMessageBottomInfo {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 2px;
}

.ConvoMessageBottomInfo__date {
  text-align: right;
  font: 400 var(--messageDateFontSize) / var(--messageDateFontSize) var(--font);
  color: var(--text_secondary);
  white-space: nowrap;
}

.ConvoMessageBottomInfo__importantIcon {
  width: var(--messageDateFontSize) !important;
  height: var(--messageDateFontSize) !important;
  display: flex;
  justify-content: center;
  align-items: center;
}

.ConvoMessageBottomInfo__importantIcon svg {
  width: var(--messageDateFontSize) !important;
  height: var(--messageDateFontSize) !important;
  color: var(--counter_primary_background);
}

.PeerTitle {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-family: var(--font);
  font-size: inherit;
  line-height: inherit;
  font-weight: inherit;
  flex: 1 1 auto;
  overflow: hidden;
  max-width: 100%;
}

.PeerTitle__title {
  flex: 0 1 auto;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.PeerTitle--vkAdmin .PeerTitle__title {
  color: var(--dynamic_green);
}

.PeerTitle__icon {
  margin-left: 5px;
}

.PeerTitle__verifiedIcon {
  flex: 0 0 auto;
  color: var(--accent);
}

.PeerTitle--vkAdmin .PeerTitle__verifiedIcon {
  display: none;
}

.PeerTitle__adminIcon {
  flex: 0 0 auto;
  color: var(--accent);
}

.PeerInfoPopper__popper {
  background: var(--modal_card_background);
  border-radius: 8px;
  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);
  position: relative;
  z-index: 100;
  margin: 8px 0;
  opacity: 1;
  transition: opacity 0.14s linear 0.3s, transform 0.14s linear 0.3s;
}

.PeerInfoPopper__popper--appear {
  pointer-events: none;
  transform: translateY(-10px);
  opacity: 0;
}

.PeerInfoPopper__popper--appear-active {
  opacity: 1;
  transform: none;
}

.PeerInfoPopper__popper--exit {
  opacity: 1;
  transform: none;
}

.PeerInfoPopper__popper--exit-active {
  transform: translateY(-10px);
  opacity: 0;
  transition: opacity 0.1s linear 0.1s, transform 0.1s linear 0.1s;
}

.PeerInfo {
  display: grid;
  min-width: 240px;
  max-width: 400px;
  padding: 12px 20px 12px 12px;
  gap: 0 12px;
  grid-template-areas:
    'avatar title'
    'avatar status'
    'avatar followers'
    'avatar mutual'
    'avatar actions';
}

.PeerInfo__title {
  grid-area: title;
  overflow: hidden;
}

.PeerInfo__link {
  color: var(--text_link);
  text-decoration: none;
  overflow: hidden;
}

.PeerInfo__link:hover {
  text-decoration: underline;
}

.PeerInfo__name {
  font-size: 14px;
  line-height: 18px;
  letter-spacing: -0.004em;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

.PeerInfo__verified {
  display: inline-block;
  color: var(--accent);
}

.PeerInfo__avatar {
  grid-area: avatar;
}

.PeerInfo__status {
  grid-area: status;
  margin-top: 4px;
  font: 13px / 16px var(--font);
  color: var(--text_subhead);
}

.PeerInfo__mutual {
  grid-area: mutual;
  display: flex;
  white-space: nowrap;
  align-items: center;
  margin-top: 12px;
  color: var(--text_secondary);
}

.PeerInfo__followers {
  grid-area: followers;
  display: flex;
  white-space: nowrap;
  align-items: center;
  margin-top: 4px;
  color: var(--text_secondary);
}

.PeerInfo__actions {
  grid-area: actions;
  margin-top: 12px;
}

.PeerInfoActions {
  display: grid;
  gap: 8px;
  grid-auto-flow: column;
  justify-items: start;
  justify-content: start;
  position: relative;
}

.PeerInfoActions__callDropdown {
  position: absolute;
  z-index: 1;
  top: 100%;
  left: 50%;
  margin-top: 4px;
  max-width: initial;
  background: var(--modal_card_background);
  border-radius: 8px;
  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);
  pointer-events: none;
  padding: 8px 0;
  transform: translate(-50%, 10px);
  opacity: 0;
  transition: transform 0.3s 0.2s ease, opacity 0.2s 0.3s ease-in;
}

.PeerInfoActions__callDropdown--visible {
  transform: translate(-50%, 0);
  opacity: 1;
  pointer-events: all;
  transition: transform 0.3s ease, opacity 0.2s ease-out;
}

.PeerInfoActions__callDropdownList {
  display: flex;
  flex-flow: column nowrap;
  max-width: initial;
}

.PeerInfoActions__buttonIcon {
  transform: translateY(1px);
}

.PeerInfoActions__callDropdownAction {
  padding: 8px 12px;
  background: var(--modal_card_background);
  border: none;
  outline: none;
  box-shadow: none;
  cursor: pointer;
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  justify-content: start;
}

.PeerInfoActions__callDropdownAction:hover {
  background: var(--background_hover);
}

.PeerInfoActions__callDropdownIcon {
  margin-right: 8px;
}

.PeerInfoActions__callDropdownText {
  font-size: 14px;
  line-height: 18px;
  color: var(--text_primary);
  white-space: nowrap;
}

.PeerInfoActions__callDropdownIcon {
  color: var(--accent);
}

.Reply {
  position: relative;
  flex: 0 1 128px;
  padding: calc(0.5 * var(--messageVerticalIndent))
    var(--messageHorizontalIndent);
  white-space: nowrap;
}

.Reply::before {
  position: absolute;
  top: 6px;
  bottom: 6px;
  left: 0;
  width: 2px;
  border-radius: 2px;
  background: var(--accent);
  content: '';
}

.Reply__author {
  color: var(--text_link);
  line-height: var(--messageAuthorLinkLineHeight);
  font-size: var(--messageAuthorLinkFontSize);
  font-weight: var(--messageAuthorLinkFontWeight);
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0 0 2px;
}

.Reply__authorLink {
  color: var(--text_link);
  text-decoration: none;
}

.Reply__content {
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: var(--repliedMessageFontSize);
  line-height: var(--repliedMessageLineHeight);
}

.MessagePreview {
  padding-right: 0.5ch; /* Оставляем небольшой запас для того, чтобы эмоджи не обрезались */
}

.MessagePreview__attach {
  color: var(--text_link);
}

mark.highlighted {
  color: unset;
  background-color: var(--im_bubble_outgoing_highlighted);
}

.AttachGift {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-flow: column;
}

.AttachGift__image {
  width: 208px;
  height: 208px;
  border-radius: calc(var(--messageBorderRadius) - 4px);
  background: #fff; /* @TODO: correct token */
  margin: calc(8px - var(--messageVerticalIndent))
    calc(8px - var(--messageHorizontalIndent)) var(--messageVerticalIndent);
  max-width: none;
  color: var(--text_secondary);
}

.AttachGift__title {
  display: inline-flex;
  align-items: center;
}

.AttachGift__title--withMessage {
  margin-bottom: 4px;
}

.AttachGift__titleIcon {
  margin-right: 4px;
  flex-shrink: 0;
}

.MessageText {
  word-break: break-word;
}

.MessageText__link {
  text-decoration: none;
  color: var(--text_link);
  padding: 1px 0; /* Без дырок между строк */
  word-break: break-all;
}

.MessageText__link:hover {
  opacity: 0.9;
}

.MessageText__pseudoLink {
  color: var(--text_link);
}

.AttachWall {
  position: relative;
  margin-top: var(--messageVerticalIndent);
  padding: 0 0 0 8px;
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
}

.AttachWall::before {
  border-radius: 1px 1px 0 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  width: 2px;
  content: '';
  background-color: var(--im_reply_separator);
  opacity: 0.24;
}

.AttachWall__link {
  text-decoration: none;
  color: var(--text_link);
  cursor: pointer;
}

.AttachWall__link:hover {
  text-decoration: underline;
}

.AttachWall__link--post {
  border: 1px solid var(--text_link);
  width: 100%;
  border-radius: 4px;
  padding: 4px 30px;
  font: 500 13px / 16px var(--font);
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: var(--messageHorizontalIndent);
}

.AttachWall__link--post:hover {
  text-decoration: none;
}

.AttachWall__link--text {
  padding: 1px 0;
}

.AttachWall__info {
  font-weight: 400;
  line-height: var(--attachWallInfoMessageLineHeight);
  font-size: var(--attachWallInfoMessageFontSize);
  letter-spacing: 0.005em;
  color: var(--text_primary);
  opacity: 0.4;
}

.AttachWall__info--with-message {
  margin-top: 6px;
}

.AttachWall__header {
  display: grid;
  align-items: center;
  grid-template-areas:
    'avatar title'
    'avatar date';
  grid-template-columns: auto 1fr auto;
  grid-template-rows: 1fr 1fr;
}

.AttachWall__avatar {
  grid-area: avatar;
  margin-right: calc(0.8 * var(--messageHorizontalIndent));
}

.AttachWall__titleLink {
  grid-area: title;
  color: var(--text_link);
  line-height: var(--messageAuthorLinkLineHeight);
  font-size: var(--messageAuthorLinkFontSize);
  font-weight: var(--messageAuthorLinkFontWeight);
  text-decoration: none;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.AttachWall__date {
  grid-area: date;
  color: var(--text_secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: var(--forwardedMessageDateLineHeight);
  font-size: var(--forwardedMessageDateFontSize);
}

.AttachWall__message {
  display: block;
  margin-top: 4px;
}

.AttachWall__attaches {
  max-width: none;
  display: grid;
  grid-template-columns: 100%;
  gap: calc(0.5 * var(--messageVerticalIndent));
  margin-top: 4px;
}

.AttachMarket__priceOld {
  text-decoration: line-through;
  padding-left: 5px;
}

.AttachGeo {
  --borderRadius: var(--messageBorderRadius);

  display: flex;
  flex-direction: column;
  max-width: none;
}

.AttachGeo--inBubble {
  --borderRadius: var(--mediaAttachBorderRadius);
}

.AttachGeo__mapImage {
  object-fit: cover;
  border-radius: var(--borderRadius);
}

.AttachVoice {
  max-width: 100%;
  padding: 0 4px;
}

.AttachVoice__player {
  display: flex; /* fallback */
  display: grid;
  grid-template:
    'icon track button' 20px
    'icon duration .' auto
    / min-content auto min-content;
  align-items: center;
  cursor: pointer;
}

.AttachVoice__play {
  grid-area: icon;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 32px;
  height: 32px;
  background: none;
  border: 0;
  color: var(--accent);
  margin-right: calc(0.8 * var(--messageHorizontalIndent));
  outline: none;
  cursor: pointer;
}

.AttachVoice__playIcon {
  transition: all 0.14s;
}

.AttachVoice__play:active .AttachVoice__playIcon {
  transform: scale(0.88);
  opacity: 0.88;
}

.AttachVoice__track {
  grid-area: track;
  height: 12px;
  position: relative;
}

.AttachVoice__track:empty::before {
  content: 'This is a very long text that should take the whole available space so the maximum available space for the wave can be observed and used for the wave that is supposed to take all this space. Probably this should be even longer. Or maybe even a bit longer';
  display: block;
  color: transparent;
  max-width: 100%;
}

.AttachVoice__svg {
  display: block;
  height: 12px;
  max-width: 100%;
}

.AttachVoice__svg--shadow {
  position: absolute;
  top: 0;
  left: 0;
}

.AttachVoice__path,
.AttachVoice__progress {
  stroke-linejoin: round;
  stroke-linecap: round;
  fill: none;
  stroke: var(--accent);
}

.AttachVoice--active .AttachVoice__path,
.AttachVoice--active .AttachVoice__progress {
  transition: clip-path 0.25s linear;
}

.AttachVoice--active .AttachVoice__path {
  stroke: var(--accent);
  opacity: 0.4;
}

.AttachVoice__asrButton {
  grid-area: button;
  margin-left: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 32px;
  height: 20px;
  border: 0;
  background: none;
  border-radius: 8px;
  color: var(--accent);
  position: relative; /* for background pseudo */
  isolation: isolate; /* stack for background pseudo */
  cursor: pointer;
}

.AttachVoice__asrButton::before {
  content: '';
  border-radius: inherit;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--accent);
  opacity: 0.12;
  transition: opacity 0.14s;
  z-index: -1;
}

.AttachVoice__asrButton:hover::before,
.AttachVoice__asrButton:focus::before {
  opacity: 0.24;
}

.AttachVoice__asrButton--processing {
  /* @TODO: анимация для состояния, когда для голосового ещё не сгенерирована транскрипция на сервере */
}

.AttachVoice__duration {
  grid-area: duration;
  font: 11px / 14px var(--font); /* @TODO разобраться с относительным размером */
  color: var(--accent);
}

.AttachVoice__transcript {
  margin-top: var(--messageVerticalIndent);
  padding-left: 12px;
  position: relative; /* anchors pseudo border */
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  color: var(--text_primary);
}

.AttachVoice__transcript::before {
  content: '';
  width: 2px;
  height: 100%;
  border-radius: 1px;
  background-color: var(--im_reply_separator);
  opacity: 0.24;
  position: absolute;
  top: 0;
  left: 2px;
}

/**
 * Автопоказанная транскрипция с обрезанием по длине
 *
 * Механика работы:
 * -- строка текста переменной длины
 * -- "буй" двигающийся с текстом, пока есть место
 * -- к "бую" выше крепится кнопка, которая скрыта overflow
 * -- когда текст заполняет все доступное место, "буй" уходит вниз
 *    и вытягивает кнопку во вьюпорт
 * -- скрипт следит за видимостью кнопки и включает класс
 *    красивого фейда текста под нее
 */

.AttachVoice__collapseContainer {
  --lineHeight: var(--messageLineHeight);
  --buttonWidth: 20px;

  height: var(--lineHeight);
  overflow: hidden;
}

.AttachVoice__collapseContainer::after {
  content: '';
  display: block;
  clear: both;
}

.AttachVoice__collapseContent {
  float: left;
  max-width: 100%;
  height: var(--lineHeight);
  white-space: nowrap;
  overflow: hidden;
}

.AttachVoice__collapseContent--long {
  color: transparent;
  background: linear-gradient(
    to right,
    var(--text_primary),
    var(--text_primary) calc(100% - var(--buttonWidth) - 5px - 25px),
    transparent calc(100% - var(--buttonWidth) - 5px)
  );
  background-clip: text;
  -webkit-background-clip: text;
}

.AttachVoice__collapseBuoy {
  float: right;
  width: 1px;
  height: 1px;
  position: relative; /* for control */
}

.AttachVoice__collapseControl {
  background: none;
  border: 0;
  padding: 0;
  margin: 0;
  display: flex;
  align-items: center;
  color: var(--icon_secondary);
  height: var(--lineHeight);
  opacity: 0.72;
  transition: opacity 0.14s;
  cursor: pointer;
}

.AttachVoice__collapseControl:hover {
  opacity: 1;
}

.AttachVoice__collapseControl--buoyed {
  position: absolute;
  top: calc(-1 * var(--lineHeight));
  right: 0;
}

.AttachVoice__collapseControl--floated {
  float: right;
  margin-left: 4px;
}

.AttachVoice__transcriptEditedLabel {
  color: var(--text_subhead);
}

.AttachVoice__transcriptStub {
  background: inherit;
  background-clip: inherit;
  -webkit-background-clip: inherit;
  opacity: 0.4;
}

.AttachVoice__transcriptSettingButton {
  padding: 0;
  border: 0;
  background: none;
  font: inherit;
  margin: 4px 0 0;
  color: var(--text_link);
  cursor: pointer;
}

.AttachAudio {
  display: grid;
  align-items: center;
  grid-template-areas:
    'button title title'
    'button artist duration';
  grid-template-columns: auto 1fr auto;
  grid-template-rows: 1fr 1fr;
  padding: 4px;
}

.AttachAudio__play {
  grid-area: button;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border: 0;
  background: var(--accent);
  margin-right: calc(0.8 * var(--messageHorizontalIndent));
  color: var(--white); /* @TODO: correct token */
  outline: none;
  cursor: pointer;
  padding: 4px 7px 7px 9px;
}

.AttachAudio--playing .AttachAudio__play {
  padding: 4px 8px;
}

.AttachAudio__title {
  grid-area: title;
  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  align-self: end;
}

.AttachAudio__artist {
  grid-area: artist;
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  height: var(--messageLineHeight);
  color: var(--text_secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.AttachAudio__duration {
  position: relative;
  grid-area: duration;
  font: 12px / calc(var(--messageLineHeight) - 2px) var(--font);
  height: var(--messageLineHeight);
  color: var(--text_secondary);
  text-align: right;
  white-space: nowrap;
}

/**
 * Трик, который решает 2 задачи:
 * 1. Создаёт экологичный отступ между артистом и временем записи
 * 2. Выравнивает артиста и длительность записи по базовой линии
 */

.AttachAudio__duration::before,
.AttachAudio__durationIn::before {
  content: '\00a0\00a0';
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  visibility: hidden;
}

/**
 * - В атрибуте data-filler лежит строка вида «-000:00», которая представляет
 * из себя максимальную по длине строку, которая может отрендериться в блоке.
 * - Логика основана на том, что ноль во всех используемых шрифтах будет самым
 * широким символом.
 * - Нужно для того, чтобы аттач отрендерился с такой минимальной шириной, 
 * с которой мы можем менять содержимое блока с длительностью так, чтобы текст 
 * всегда влазил и выглядил хорошо
 */

.AttachAudio__duration::after {
  content: attr(data-filler);
  visibility: hidden;
}

.AttachAudio__durationIn {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

.AttachAudio__playIcon {
  transition: all 0.14s;
}

.AttachWallHistory {
  display: grid;
  align-items: center;
  grid-template-areas:
    'icon title'
    'icon meta';
  grid-template-columns: auto 1fr;
  grid-template-rows: 1fr 1fr;
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  white-space: nowrap;
  text-decoration: none;
  color: var(--text_primary);
  margin-right: calc(0.5 * var(--messageHorizontalIndent));
}

.AttachWallHistory__icon {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background: var(--accent);
  grid-area: icon;
  margin-right: calc(0.8 * var(--messageHorizontalIndent));
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--button_primary_foreground);
}

.AttachWallHistory__title {
  grid-area: title;
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  align-self: end;
}

.AttachWallHistory__meta {
  grid-area: meta;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--text_secondary);
}

.AttachSticker__static {
  width: 100%;
  height: 100%;
}

.AttachSticker--size-64 {
  width: 64px;
  height: 64px;
}

.AttachSticker--size-72 {
  width: 72px;
  height: 72px;
}

.AttachSticker--size-96 {
  width: 96px;
  height: 96px;
}

.AttachSticker--size-124 {
  width: 124px;
  height: 124px;
}

.AttachSticker--size-128 {
  width: 128px;
  height: 128px;
}

.AttachActiveCall {
}

.AttachActiveCall__info {
  overflow: hidden;
}

.AttachActiveCall__title,
.AttachActiveCall__description {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

.AttachActiveCall__title {
  font: 13px / 16px var(--font);
  font-weight: 500;
}

.AttachActiveCall__description {
  font: 12px / 14px var(--font);
  opacity: 0.4;
}

.AttachActiveCall__join {
  cursor: pointer;
}

/* Полноразмерный */

.AttachActiveCall--full {
  display: flex;
}

.AttachActiveCall--full .AttachActiveCall__info {
  display: flex;
  margin-right: auto;
}

.AttachActiveCall__userList {
  margin-right: 8px;
}

.AttachActiveCall--full .AttachActiveCall__infoWrapper {
  overflow: hidden;
}

.AttachActiveCall--full .AttachActiveCall__join {
  margin-left: 32px;
}

/* Компактный */

.AttachActiveCall--compact {
  min-width: 175px;
}

.AttachActiveCall--compact .AttachActiveCall__infoWrapper {
  display: flex;
  align-items: center;
  height: 24px;
  margin-top: 6px;
}

.AttachActiveCall--compact .AttachActiveCall__userList {
  margin-right: 6px;
}

.AttachActiveCall--compact .AttachActiveCall__join {
  margin-top: 8px;
}

.Attachments {
  max-width: none;
  display: grid;
  grid-template-columns: 100%;
  gap: calc(0.5 * var(--messageVerticalIndent));
}

.AttachGraffiti {
  cursor: default;
}

.AttachInviteLink {
  color: var(--text_primary);
  display: flex;
  justify-content: stretch;
  border-radius: calc(
    var(--messageBorderRadius) - var(--messageAttachmentIndent)
  ); /* Радиус сообщения минус внутренний отступ для аттача */
  max-width: none;
  cursor: pointer;
  outline: none;
  border: none;
  background-color: transparent;
  transition: background-color 160ms ease;
}

.AttachInviteLink__ghostButton {
  position: absolute;
  opacity: 0;
  z-index: -1;
}

.AttachInviteLink:focus-within {
  box-shadow: 0 0 0 4px var(--background_hover);
  background-color: var(--background_hover);
}

.AttachInviteLink__picture {
  flex: 0 0 auto;
  width: calc(3.5 * var(--messageLineHeight));
  height: calc(3.5 * var(--messageLineHeight));
  border-radius: calc(
    var(--messageBorderRadius) - var(--messageAttachmentIndent)
  ); /* Радиус сообщения минус внутренний отступ для аттача */
}

.AttachInviteLink__img {
  object-fit: cover;
  border-radius: inherit;
  width: 100%;
  height: 100%;
}

.AttachInviteLink__main {
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 1 auto;
  overflow: hidden;
  padding: 0 calc(0.5 * var(--messageLineHeight));
  border-radius: 0 var(--messageBorderRadius) var(--messageBorderRadius) 0;
}

.AttachInviteLink__content {
  min-height: calc(3 * var(--messageLineHeight));
}

.AttachInviteLink__title {
  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);
  white-space: nowrap;
  overflow: hidden;
  max-width: 100%;
  text-overflow: ellipsis;
  margin: 0;
  padding: 0;
}

.AttachInviteLink__meta {
  color: var(--text_secondary);
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  white-space: nowrap;
  overflow: hidden;
  max-width: 100%;
  text-overflow: ellipsis;
  margin-right: 4ch;
  margin-bottom: 4px;
}

.AttachDonutLink {
  display: flex;
  flex-direction: row;
  padding: 6px 4px;
  padding-right: 8px;
  gap: 8px;
  text-decoration: none;
  border-radius: 12px;
  color: var(--text_primary);
  font-size: var(--messageFontSize);
  line-height: var(--messageLineHeight);
  position: relative;
  overflow: hidden;
}

.AttachDonutLink__overlay {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  text-decoration: none;
  cursor: pointer;
}

.AttachDonutLink__avatarContainer {
  position: relative;
  height: fit-content;
  z-index: 0;
}

.AttachDonutLink__avatarIcon {
  position: absolute;
  right: -1px;
  bottom: -1px;
}

.AttachDonutLink__content {
  display: flex;
  flex-direction: column;
}

.AttachDonutLink__content .AttachDonutLink__peerTitle {
  font-weight: 500;
}

.AttachDonutLink__text,
.AttachDonutLink__donorsCount {
  color: var(--text_secondary);
  margin-top: 4px;
  font-size: 14px;
  line-height: 17px;
}

/* @todo: убрать завязку на внешний класс */

.FCApp .AttachDonutLink__text,
.FCApp .AttachDonutLink__donorsCount {
  font-size: 13px;
  line-height: 15px;
}

.AttachDonutLink .AttachDonutLink__content .AttachDonutLink__button {
  margin-top: 8px;
  width: fit-content;
  text-decoration: none;
}

.AttachDonutLink .AttachDonutLink__content .AttachDonutLink__button:hover {
  text-decoration: none;
}

.ForwardedMessage {
  position: relative;
  margin-top: var(--messageVerticalIndent);
  padding: 0 0 0 var(--messageHorizontalIndent);
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  width: fit-content;
}

.ForwardedMessage + .ForwardedMessage {
  padding-top: var(--messageHorizontalIndent);
}

.ForwardedMessage .ForwardedMessage {
  margin-left: calc(-0.5 * var(--messageHorizontalIndent));
}

.ForwardedMessage::before {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  width: 2px;
  content: '';
  background-color: var(--im_reply_separator);
  opacity: 0.24;
}

.ForwardedMessage:first-of-type::before {
  border-radius: 1px 1px 0 0;
}

.ForwardedMessage:last-of-type::before {
  border-radius: 0 0 1px 1px;
}

.ForwardedMessage__header {
  display: grid;
  align-items: center;
  grid-template-areas:
    'avatar title'
    'avatar date';
  grid-template-columns: auto 1fr auto;
  grid-template-rows: 1fr 1fr;
  margin: 0 0 calc(0.5 * var(--messageVerticalIndent));
}

.ForwardedMessage__avatar {
  grid-area: avatar;
  margin-right: calc(0.8 * var(--messageHorizontalIndent));
}

.ForwardedMessage__title {
  color: var(--text_link);
  grid-area: title;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ForwardedMessage__titleLink {
  color: var(--text_link);
  text-decoration: none;
  line-height: var(--messageAuthorLinkLineHeight);
  font-size: var(--messageAuthorLinkFontSize);
  font-weight: var(--messageAuthorLinkFontWeight);
}

.ForwardedMessage__link,
.ForwardedMessage__link:hover {
  text-decoration: none;
  color: var(--text_link);
  cursor: pointer;
}

.ForwardedMessage__date {
  grid-area: date;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: var(--forwardedMessageDateLineHeight);
  font-size: var(--forwardedMessageDateFontSize);
}

.ForwardedMessage__empty {
  color: var(--text_secondary);
}

.ForwardedMessage__text:empty + .ForwardedMessage__attachments {
  padding-top: calc(0.5 * var(--messageVerticalIndent));
}

.BotKeyboard--full {
  padding: 8px;
  border-top: 1px solid var(--separator_alternate);
  max-height: 210px;
  overflow-y: auto;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
}

.BotKeyboard--inline {
  padding-top: 8px;
  margin-left: calc(
    var(--messageKeyboardIndent) - var(--messageHorizontalIndent)
  );
  margin-right: calc(
    var(--messageKeyboardIndent) - var(--messageHorizontalIndent)
  );
  display: flex;
  flex-direction: column;
  width: 100%;
}

.BotKeyboard__row {
  display: flex;
  margin-bottom: 8px;
}

.BotKeyboard--inline .BotKeyboard__row {
  display: grid;
  gap: 8px;
  grid-template-columns: 1fr 1fr;
}

.BotKeyboard--inline .BotKeyboard__button:last-child:nth-child(odd) {
  grid-column: 1/3;
}

.BotKeyboard__row:last-child {
  margin-bottom: 0;
}

.BotKeyboard__button {
  text-overflow: ellipsis;
  overflow: hidden;
  width: 100%;
}

.BotKeyboard__button:not(:last-child) {
  margin-right: 8px;
}

.BotButton__linkButton,
.BotButton__linkButton:hover {
  text-decoration: none;
}

.BotButton__vkpay {
  display: flex;
  align-items: center;
}

.BotTemplateList {
  width: 100%;
  margin-top: 4px;
  margin-bottom: 4px;
}

.BotTemplateList--compact {
  width: 310px;
}

.BotTemplateList__wrapper {
  display: flex;
}

.BotTemplateList__item {
  flex-shrink: 0;
  margin-right: 4px;
}

.HorizontalScroll {
  --bordersBackground: var(--background_content);
  position: relative;
  overflow: hidden;
}

.HorizontalScroll__in {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 20px;
  margin-bottom: -20px;
}

.HorizontalScroll__in::-webkit-scrollbar {
  display: none;
}

.HorizontalScroll__in-wrapper {
  transition: transform 0.2s;
}

.HorizontalScroll__leftBorder,
.HorizontalScroll__rightBorder {
  position: absolute;
  width: 20px;
  opacity: 0;
  height: 100%;
  will-change: opacity;
  transition: opacity 0.15s;
  top: 0;
  z-index: 1;
}

.HorizontalScroll__leftBorder {
  left: 0;
  background: linear-gradient(90deg, var(--bordersBackground), transparent 70%);
}

.HorizontalScroll__rightBorder {
  right: 0;
  background: linear-gradient(
    -90deg,
    var(--bordersBackground),
    transparent 70%
  );
}

.HorizontalScroll__leftBorder--active,
.HorizontalScroll__rightBorder--active {
  opacity: 1;
}

.HorizontalScroll__arrow {
  position: absolute;
  cursor: pointer;
  user-select: auto;
  top: 0;
  height: 100%;
  opacity: 0;
  z-index: 3;
  display: flex;
  flex-direction: column;
  justify-content: center;
  transition: opacity 0.15s;
}

.HorizontalScroll--ios .HorizontalScroll__arrow,
.Gallery--ios .HorizontalScroll__arrow {
  transition-timing-function: var(--ios-easing);
}

.HorizontalScroll--android .HorizontalScroll__arrow,
.HorizontalScroll--vkcom .HorizontalScroll__arrow,
.Gallery--android .HorizontalScroll__arrow,
.Gallery--vkcom .HorizontalScroll__arrow {
  transition-timing-function: var(--android-easing);
}

.HorizontalScroll:hover .HorizontalScroll__arrow,
.Gallery:hover .HorizontalScroll__arrow {
  opacity: 0.72;
}

.HorizontalScroll:hover .HorizontalScroll__arrow:hover,
.Gallery:hover .HorizontalScroll__arrow:hover {
  opacity: 1;
}

.HorizontalScroll__arrow-icon {
  background-color: var(--modal_card_background);
  color: var(--icon_secondary);
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.12), 0 0 10px rgba(0, 0, 0, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.HorizontalScroll__arrow-left {
  left: 0;
}

.HorizontalScroll__arrow-left .HorizontalScroll__arrow-icon {
  transform: rotate(180deg);
}

.HorizontalScroll__arrow-right {
  right: 0;
}

.HorizontalScroll__arrow-left:hover
  ~ .HorizontalScroll__in
  .HorizontalScroll__in-wrapper {
  transform: translateX(8px);
}

.HorizontalScroll__arrow-right:hover
  ~ .HorizontalScroll__in
  .HorizontalScroll__in-wrapper {
  transform: translateX(-8px);
}

.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-left {
  padding-left: 12px;
}

.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-right {
  padding-right: 12px;
}

.HorizontalScroll__arrow--size-s .HorizontalScroll__arrow-icon {
  width: 24px;
  height: 24px;
}

.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-left {
  padding-left: 16px;
}

.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-right {
  padding-right: 16px;
}

.HorizontalScroll__arrow--size-m .HorizontalScroll__arrow-icon {
  width: 40px;
  height: 40px;
}

.BotTemplateControls {
  padding: 8px;
  border-radius: 14px;
  background: var(--im_bubble_incoming_alternate);
  overflow: hidden;
  width: 260px;
  text-decoration: none;
  min-height: 118px;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.BotTemplateControls__photo {
  margin: -8px -8px 0 -8px;
  width: 260px;
  height: 158px;
  background-size: cover;
  margin-bottom: 8px;
}

.BotTemplateControls__title {
  margin-bottom: 4px;
}

.BotTemplateControls__description {
  margin-bottom: 8px;
  color: var(--text_subhead);
}

.BotTemplateControls__button:not(:last-child) {
  margin-bottom: 8px;
}

.BotTemplateControls__link,
.BotTemplateControls__link:hover {
  text-decoration: none;
  color: inherit;
}

.MessageActionsDropdown__modalPanel {
  min-width: 460px;
  max-width: 560px;
}

.MessageActionsDropdown__modalPanel .ModalBody--standard {
  padding: 25px;
}

.MessageActionsDropdown__modalPanel .ModalFooter {
  padding-left: 9px;
}

.MessageActionsDropdown--opened {
  opacity: 1;
}

.MessageActionsDropdown--closed {
  opacity: 0;
}

.ActionsMenu {
  position: relative;
  contain: content;
  display: flex;
  flex-direction: column;
  z-index: 1;
  padding: 4px;
  background-color: var(--background_content);
  border-radius: 10px;
  min-width: 100px;
  max-width: 320px;
  border: 0.5px solid var(--background_highlighted);
  box-shadow: 0px 0px 2px var(--background_highlighted),
    0px 8px 24px var(--background_highlighted);

  --menuTitleFontSize: 15px;
  --menuTitleLineHeight: 20px;
}

.ActionsMenu--dropdown {
  margin-top: -8px;
}

.ActionsMenuAction {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  height: 32px;
  padding: 0px 8px 0px 12px;
  background-color: var(--background_content);
  border: 0;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 160ms ease;
  outline: none;
}

.ActionsMenuAction:hover,
.ActionsMenuAction:focus,
.ActionsMenuAction--active {
  background-color: var(--background_hover);
}

.ActionsMenuAction__icon {
  display: flex;
  width: 20px;
  height: 20px;
  align-items: center;
  justify-content: center;
  color: var(--icon_tertiary);
}

.ActionsMenuAction--primary .ActionsMenuAction__icon {
  color: var(--accent);
}

.ActionsMenuAction--danger .ActionsMenuAction__icon,
.ActionsMenuAction--danger .ActionsMenuAction__title {
  color: var(--destructive);
}

.ActionsMenuAction--warning .ActionsMenuAction__icon {
  color: var(--dynamic_orange);
}

.ActionsMenuAction__title {
  flex: 1 1 auto;
  white-space: nowrap;
  text-align: left;
  overflow: hidden;
  text-overflow: ellipsis;
  font: 500 var(--menuTitleFontSize) / var(--menuTitleLineHeight) var(--font);
  letter-spacing: -0.01em;
  color: var(--header_text);
}

.ActionsMenuAction__separator {
  border-top: 1px solid var(--separator_alternate);
  margin: 4px 12px;
}

.MessageActionsButton {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 6px;
  outline: none;
  background: var(--background_content);
  cursor: pointer;
  color: var(--icon_outline_secondary);
  border-radius: 50%;
  box-shadow: 0 0 2px var(--background_highlighted),
    0 8px 24px var(--background_highlighted);
  border: 0.5px solid var(--background_highlighted);
  transition: opacity 180ms ease, box-shadow 180ms ease;
}

.RE_ModalView {
}

.RE_ModalView--hidden {
  display: none;
}

.RE_ModalBackdrop {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  isolation: isolate;
  overflow-y: auto;
}

.RE_ModalBackdrop--tinted {
  background-color: rgba(0, 0, 0, 0.72);
}

/* Элемент, обрабатывающий клики */

.RE_ModalBackdrop__flesh {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  cursor: pointer;
  z-index: -1;
}

.RE_ModalBackdrop__container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100%;
  padding: 50px;
  visibility: hidden; /* пропускаем клик клик до шторки */
}

.RE_ModalBackdrop__container > * {
  visibility: visible;
}

.RE_ModalPanel {
  display: grid;
  grid-auto-rows: auto 1fr auto;
  background: var(--modal_card_background);
  border-radius: 8px;
  overflow: hidden;
}

/* обесцениваем селектор, чтобы ширину можно было легко оверайдить */

:where(.RE_ModalPanel) {
  width: fit-content;
}

.RE_ModalHeader {
  display: flex;
  align-items: center;
  min-width: 0;
  height: 54px;
  position: relative; /* anchors absolute children */
  background: var(--background_light);
  border-bottom: 1px solid var(--separator_alternate);
}

.RE_ModalHeader__back {
  background: none;
  border: 0;
  margin: 0;
  display: flex;
  align-items: center;
  height: 100%;
  width: 20%;
  padding: 0 12px 0 3px;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  font-size: 14px;
  color: var(--text_primary);
  cursor: pointer;
  isolation: isolate;
}

.RE_ModalHeader__back::before {
  content: '';
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  background: linear-gradient(
    to right,
    var(--separator_common) 50%,
    var(--background_light)
  );
  z-index: -1;
  opacity: 0;
  transition: opacity 0.14s;
}

.RE_ModalHeader__backIcon {
  color: var(--icon_secondary);
}

.RE_ModalHeader__back:hover::before,
.RE_ModalHeader__back:focus::before {
  opacity: 1;
}

.RE_ModalHeader__title {
  margin: 0;
  padding: 0 15px;
  font-size: 14px;
  line-height: 16px;
  font-weight: normal;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--text_primary);
}

.RE_ModalHeader__back + .RE_ModalHeader__title {
  width: 60%;
  margin: auto;
  text-align: center;
}

.RE_ModalHeader__container {
  max-height: 100%;
}

.RE_ModalHeader__close {
  margin: 0;
  padding: 0;
  border: 0;
  background: none;
  outline: none;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 44px;
  position: absolute;
  top: 0;
  right: 0;
  color: var(--icon_medium);
  opacity: 0.7;
  transition: opacity 0.2s;
}

.RE_ModalHeader__close:hover,
.RE_ModalHeader__close:focus {
  opacity: 1;
}

.RE_ModalBody {
  font-size: 13px;
  line-height: 18px;
  color: var(--text_primary);
}

.RE_ModalBody--standard {
  padding: 25px;
}

.RE_ModalBody--scrollable {
  max-height: 100%;
  overflow: auto;
  overscroll-behavior: none;
}

.RE_ModalFooter {
  display: flex;
  padding: 14px 25px;
  border-top: 1px solid var(--separator_common);
  background-color: var(--modal_card_background);
}

.RE_ModalFooter__hint {
  align-self: center;
  flex-grow: 1;
  font-size: 13px;
  color: var(--text_subhead);
}

.RE_ModalFooter__content {
  flex-grow: 1;
  display: flex;
  align-items: center;
  height: 24px;
}

.RE_ModalFooter__actions {
  display: flex;
  gap: 8px;
  margin-left: auto;
}

.ConvoMessageDeleted {
  position: relative;
  box-sizing: border-box;
  width: fit-content;
  max-width: 100%;
  background: var(--im_bubble_incoming_alternate);
  border-radius: var(--messageBorderRadius);
  padding: calc(var(--messageVerticalIndent) + 1px)
    var(--messageHorizontalIndent);
  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);
  color: var(--text_primary);
}

.ConvoMessageDeleted--out {
  background: var(--im_bubble_outgoing);
}

.ConvoMessageDeleted__restoreButton {
  color: var(--text_link);
  text-decoration: none;
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ConvoMessageDeleted__restoreButton:hover {
  text-decoration: underline;
}

.ServiceMessage {
  color: var(--text_subhead);
  font-weight: 400;
  font-size: var(--serviceMessageAndConvoDateFontSize);
  line-height: var(--serviceMessageAndConvoDateLineHeight);
  box-sizing: border-box;
  padding: 3px 12px 5px;
  text-align: center;
  word-break: break-word;
  letter-spacing: -0.004em;
}

.ServiceMessage__highlight {
  font-weight: 500;
}

.ServiceMessage__link {
  text-decoration: none;
  color: inherit;
  font-weight: 500;
  transition: opacity 0.2s ease;
}

.ServiceMessage__link:hover {
  opacity: 0.8;
}

.ServiceMessage--selecting {
  margin-left: -28px;
}

.ServiceMessageAttach__photo {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 15px;
}

.ServiceMessageAttach__photo-image {
  display: flex;
  align-items: flex-start;
  justify-content: center;
  overflow: hidden;
  border-radius: 50%;
}

.ServiceMessageAttach__photo--size-s .ServiceMessageAttach__photo-image {
  width: 75px;
  height: 75px;
}

.ServiceMessageAttach__photo--size-m .ServiceMessageAttach__photo-image {
  width: 130px;
  height: 130px;
}

.ServiceMessageAttach__photo-image img {
  max-width: 100%;
  height: 100%;
  width: 100%;
  object-fit: cover;
}

.ExpiredMessage {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
}

.ExpiredMessage__container {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 9.5px 12px 8.5px 12px;
  border: 0.5px solid var(--snippet_border);
  border-radius: 18px;
}

.ExpiredMessage__icon {
  margin-right: 9px;
  color: var(--icon_tertiary);
}

.ExpiredMessage__text {
  font-size: 12px;
  line-height: 14px;
  letter-spacing: 0.005em;
  color: var(--text_secondary);
}

.ConvoHistoryTyping {
  display: flex;
  align-items: center;
  /**
   * Тайпинг не должен влиять на высоту истории,
   * компонент встраивается в область нижнего паддинга истории,
   * поэтому использует переменные
   */
  min-height: var(--historyPaddingBottom);
  padding: 0 var(--historyPaddingRight) 0 var(--historyPaddingLeft);
  white-space: nowrap;
  color: var(--text_tertiary);
  width: 100%;
  max-width: var(--convoMainMaxWidth);
}

.ConvoHistoryTyping__indicator {
  flex: 0 0 32px;
  width: 32px; /* Ширина аватарки автора стека сообщений */
  margin-right: 8px;
}

.ConvoHistoryTyping__text {
  width: min-content;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ConvoBannerMessage {
  display: flex;
  align-items: center;
  min-height: var(--convoBannerHeight);
  padding: 8px 0;
  width: 100%;
  align-items: center;
}
.ConvoBannerMessage--compact {
  padding: 7px 0;
}
.ConvoBannerMessage__icon {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  margin-right: 12px;
  flex: 0 0 auto;
}
.ConvoBannerMessage__content {
  display: flex;
  align-items: center;
  grid-area: content;
  justify-content: space-between;
  overflow: hidden;
  flex: 1 1 auto;
}
.ConvoBannerMessage__content--center {
  justify-content: center;
}
.ConvoBannerMessage__content--column {
  flex-direction: column;
  align-items: flex-start;
}
.ConvoBannerMessage__message {
  display: flex;
  justify-content: center;
  flex-flow: column;
}
.ConvoBannerMessage__message--wrapText {
  white-space: normal;
}
.ConvoBannerMessage__title {
  font: 500 13px/16px var(--font);
  color: var(--text_primary);
}
.ConvoBannerMessage__text {
  font: 400 13px/16px var(--font);
  color: var(--text_primary);
  padding-top: 2px;
}
.ConvoBannerMessage__title + .ConvoBannerMessage__text {
  line-height: 16px;
  padding-top: 0;
}
.ConvoBannerMessage__buttons {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
}
.ConvoBannerMessage__warningButton {
  font: 400 13px/16px var(--font);
  color: var(--destructive);
  border: none;
  background: none;
  cursor: pointer;
}
.ConvoBannerMessage__warningButton:hover {
  text-decoration: underline;
}
.ConvoBannerMessage__close {
  align-self: center;
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  background: none;
  border: 0;
  outline: none;
  color: var(--icon_secondary);
  opacity: 0.7;
  cursor: pointer;
  transition: opacity 200ms ease;
  margin-left: 12px;
}
.ConvoBannerMessage__close:hover {
  opacity: 1;
}

.ConvoBannerWrapper {
  --convoBannerHeight: 52px;
  --convoBannerPadding: 0 16px;
  --convoBannerBackground: var(--background_content);

  display: flex;
  justify-self: center;
  align-items: center;
  position: relative;
  width: 100%;
  box-shadow: 0 2px 4px var(--background_highlighted);
  transition: opacity 320ms ease, min-height 0ms linear,
    visibility 0ms 320ms linear;
  opacity: 1;
}

.ConvoBannerWrapper[hidden] {
  opacity: 0;
  height: 0;
  min-height: 0;
  visibility: hidden;
  z-index: 1;
  overflow: visible;
}

.ConvoBannerWrapper[hidden] .ConvoBannerWrapper__content {
  position: absolute;
  top: 0;
}

.ConvoBannerWrapper--compact {
  --convoBannerHeight: 48px;
  --convoBannerPadding: 0 14px;
}

.ConvoBannerWrapper--spam {
  --convoBannerBackground: var(--field_background);
}

.ConvoBannerWrapper__content {
  position: relative;
  width: 100%;
  min-height: var(--convoBannerHeight);
  padding: var(--convoBannerPadding);
  background: var(--convoBannerBackground);
}

.ConvoBannerWrapper__content::before {
  content: '';
  display: block;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: var(--separator_common);
}

.ConvoPinnedMessage {
  height: var(--convoBannerHeight);
  display: flex;
  align-items: center;
  width: 100%;
  background-color: var(--background_content);
  cursor: pointer;
}

.ConvoPinnedMessage__icon {
  padding: 0;
  margin: 0;
  text-decoration: none;
  width: 16px;
  height: 16px;
  flex: 0 0 auto;
  color: var(--icon_outline_secondary);
}

.ConvoPinnedMessage__content {
  display: flex;
  padding: 0 10px;
  overflow: hidden;
  flex-direction: column;
  justify-content: center;
  flex: 1 1 auto;
}

.ConvoPinnedMessage__info {
  height: 16px;
  margin-bottom: 2px;
  display: flex;
  justify-content: flex-start;
  align-items: center;
}

.ConvoPinnedMessage__authorLink {
  font: 500 13px / 16px var(--font);
  color: var(--text_link);
  text-decoration: none;
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ConvoPinnedMessage__authorLink:hover {
  text-decoration: underline;
}

.ConvoPinnedMessage__date {
  font: 500 12px / 14px var(--font);
  color: var(--text_secondary);
  opacity: 0.7;
  margin-left: 4px;
  white-space: nowrap;
}

.ConvoPinnedMessage__text {
  font: 400 12px / 14px var(--font);
  color: var(--text_primary);
  height: 16px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.ConvoPinnedMessage__text--hidden {
  color: var(--text_secondary);
  opacity: 0.7;
}

.ConvoPinnedMessage__unpinButton {
  font: 400 12px / 14px var(--font);
  padding: 6px 12px;
  background-color: var(--button_secondary_background);
  border: none;
  color: var(--button_secondary_foreground);
  border-radius: 4px;
  display: flex;
  cursor: pointer;
  justify-content: center;
  align-items: center;
  margin-right: 16px;
}

.ConvoPinnedMessage__unpinButton:hover {
  background-color: var(--button_secondary_background_highlighted);
}

.ConvoPinnedMessage__close {
  display: flex;
  flex: 0 0 auto;
  align-items: center;
  background: none;
  border: 0;
  outline: none;
  color: var(--icon_secondary);
  opacity: 0.7;
  cursor: pointer;
  transition: opacity 200ms ease;
}

.ConvoPinnedMessage__close:hover {
  opacity: 1;
}

.DropArea {
  z-index: 1;
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  /* Минус MessengerDemo__header (24px) */
  height: 100%;
  width: 100%;
  background-color: var(--background_content);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.DropArea--hidden {
  display: none;
}

.Composer .DropArea {
  /* Минус MessengerDemo__header (24px) */
  height: calc(100vh - var(--convoHeaderHeight) - 24px);
}

/* @todo убрать привязку на внешний класс */

/* Если на проде, то MessengerDemo__header нет */

.MEApp:only-child .Composer .DropArea {
  height: calc(100vh - var(--convoHeaderHeight));
}

.DropTarget {
  --margin: 12px;

  position: relative;
  width: calc(100% - var(--margin) * 2);
  height: calc(100% - var(--margin) * 2);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: var(--margin);
  transition: background-color 0.2s ease;
}

.DropTarget__area {
  pointer-events: none;
  display: grid;
  grid-template:
    'icon' 56px
    'info' auto / auto;
  grid-gap: var(--margin);
}

.DropTarget__icon {
  grid-area: icon;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--icon_outline_secondary);

  transition: color 0.2s ease;
}

.DropTarget__info {
  grid-area: info;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.DropTarget__infoTitle {
  font-weight: 600;
  font-size: 20px;
  line-height: 24px;

  transition: color 0.2s ease;
}

.DropTarget__infoText {
  margin-top: 8px;
  font-weight: 400;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  color: var(--text_secondary);
  white-space: pre-wrap;
}

.DropTarget__border {
  position: absolute;
  top: 0;
  left: 0;
  border-radius: 8px;
  overflow: hidden;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.DropTarget__border rect {
  fill: none;
  stroke: var(--activity_indicator_tint);
  stroke-width: 2.5;
  stroke-dasharray: 6.5;

  transition: stroke 0.2s ease, stroke-width 0.2s ease;
}

.DropTarget--hovered rect {
  stroke: var(--accent);
  stroke-width: 4.5;
}

.DropTarget--hovered .DropTarget__infoTitle,
.DropTarget--hovered .DropTarget__icon {
  color: var(--accent);
}

.DropTarget + .DropTarget {
  margin-top: 0;
}

.ComposerSelecting {
  display: flex;
  align-items: center;
  height: 44px;
  padding-left: 12px;
  padding-right: 20px;
  background-color: var(--background_content);
  width: 100%;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.08), 0 4px 16px rgba(0, 0, 0, 0.08);
  border-radius: 12px;
}

.ComposerSelecting__controls {
  display: flex;
  gap: 12px;
}

.ComposerSelecting__selectedCount {
  margin-right: auto;
  font-size: 14px;
  font-weight: 500;
  display: flex;
  align-items: center;
}

.ComposerSelecting__selectedCount button {
  margin-right: 8px;
}

.ComposerSelecting__action {
  display: flex;
  align-items: center;
  justify-content: center;
  border: 0;
  outline: none;
  background: none;
  width: 24px;
  height: 24px;
  cursor: pointer;
  color: var(--button_outline_border);
  opacity: 0.72;
  transition: opacity 200ms ease;
}

.ComposerSelecting__action:hover {
  opacity: 1;
}

.ComposerSelecting__button svg {
  color: var(--button_outline_border);
}

.ActionsMenu__delete .ActionsMenu__actionIcon,
.ActionsMenu__delete .ActionsMenu__actionText,
.ActionsMenu__spam .ActionsMenu__actionIcon,
.ActionsMenu__spam .ActionsMenu__actionText {
  color: var(--destructive);
}

.ActionsMenu__mark_important .ActionsMenu__actionIcon,
.ActionsMenu__unmark_important .ActionsMenu__actionIcon {
  color: var(--accent);
}

.Composer {
  display: grid;
  grid-template-areas:
    'editing'
    'reply'
    'attaches'
    'stickerPanel'
    'inputPanel';

  background-color: var(--background_content);
  width: 100%;
  height: 100%;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.08), 0 4px 16px rgba(0, 0, 0, 0.08);
  border-radius: 12px;
}

.Composer__inputPanel {
  grid-area: inputPanel;
  padding: 4px 6px;
  display: grid;
  grid-template-areas: 'clip input stickerEmojiMenu send';
  grid-template-columns: auto 1fr auto auto;
}

.Composer__stickersPanel {
  grid-area: stickerPanel;
}

.Composer__editing {
  grid-area: editing;
  position: relative;
}

.Composer__editing.Composer--hasAttaches,
.Composer__reply.Composer--hasAttaches {
  margin-bottom: -18px;
}

.Composer__reply {
  grid-area: reply;
  position: relative;
}

.Composer__editing,
.Composer__reply {
  padding: 18px 6px 18px 12px;
}

.Composer__clip,
.Composer__remove-record {
  grid-area: clip;
  align-self: flex-end;
}

.Composer__input {
  grid-area: input;
  cursor: text;
  align-self: center;
  max-width: 100%;
  max-height: 220px;
  padding: 0 6px;
  /* Для верхних отступов используем margin, чтобы при переполнении композера не было видно крайних строк наполовину */
  margin: 8px 0;
  min-height: 20px;
  overflow: auto;
  background-color: transparent;
  font-size: 15px;
  line-height: 20px;
  color: var(--text_primary);
  box-shadow: none;
}

.Composer__input:focus {
  outline: none;
}

.Composer__input:empty::before {
  content: attr(placeholder);
  color: var(--text_placeholder);
}

.Composer__input:empty:focus::before {
  content: '';
}

.Composer__input--hidden {
  display: none;
}

.Composer__stickerEmojiMenu {
  grid-area: stickerEmojiMenu;
  align-self: flex-end;
}

.Composer__send {
  grid-area: send;
  align-self: flex-end;
}

.Composer__attaches {
  grid-area: attaches;
  overflow: hidden;
}

.MEComposer__attaches {
  position: relative;
  padding: 12px 0;
}

.MEComposer__attaches::after,
.Composer__editing:not(.Composer--hasAttaches)::after,
.Composer__reply:not(.Composer--hasAttaches)::after {
  position: absolute;
  left: 50%;
  bottom: 0;
  width: 100%;
  height: 1px;
  content: '';
  background-color: var(--separator_alternate);
  transform: translateX(-50%);
}

.Composer__autocompleteWarning {
  z-index: 1;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  /* Высота + 1 пиксель border-top */
  max-height: 201px;
  transform: translateY(-100%);
  border-top: 1px solid var(--separator_common);
  background: var(--background_content);
  overflow-y: auto;
}

.Composer__button {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  border: 0;
  background: none;
  color: var(--icon_outline_medium);
  cursor: pointer;
  opacity: 0.72;
  height: 36px;
  width: 36px;
}

.Composer__button:hover {
  opacity: 1;
}

/* TODO delete ME-30105 */

.Composer__button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.Composer__button--submit {
  color: var(--accent);
}

/**
 * Тултипы для кнопок врапятся вокруг иконок <i>, чтобы
 * создавать дополнительное расстояние между кончиком тултипа
 * и элементом, не изменяя родительского элемента.
 */

.Composer__buttonIcon {
  --offset: calc((100% - 30px) / 2);

  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 30px;
  top: var(--offset);
  left: 0;
  right: 0;
  bottom: var(--offset);
}

.Composer__button--submitIcon,
.Composer__button--editIcon,
.Composer__button--micIcon,
.Composer__button--loadingIcon {
  opacity: 0;
  transform: scale(0);
  transition: transform 0.2s;
}

.Composer__button--submit .Composer__button--submitIcon,
.Composer__button--edit .Composer__button--editIcon,
.Composer__button--mic .Composer__button--micIcon,
.Composer__button--loading .Composer__button--loadingIcon {
  opacity: 1;
  transform: scale(1);
}

.Composer__button--stopRecording,
.Composer__button--startRecording {
  opacity: 1;
  color: var(--destructive);
  background-color: var(--white);
  min-width: 24px;
  width: 24px;
  max-width: 24px;
  min-height: 24px;
  height: 24px;
  max-height: 24px;
  border-radius: 50%;
  padding: 0;
  transition: all 0.2s ease;
}

.Composer__button--startRecording .Composer__button:disabled,
.Composer__remove-record .Composer__button:disabled {
  pointer-events: none;
}

.Composer__button--stopRecording i,
.Composer__button--startRecording i {
  opacity: 0.72;
}

.Composer__button--stopRecording:hover i,
.Composer__button:not(:disabled).Composer__button--startRecording:hover i {
  opacity: 1;
}

.Composer__voice {
  grid-area: input;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 4px;
}

.StickersPanel {
  max-width: none;
  padding: 12px 0 8px 0;
  position: relative;
  background-color: var(--background_content);
}

.StickersPanel::before {
  content: '';
  left: 8px;
  right: 8px;
  height: 1px;
  position: absolute;
  top: 0;
  background-color: var(--separator_alternate);
}

.StickersPanel__list {
  display: inline-flex;
  max-width: none;
  margin: 0 8px;
}

.StickersPanel__listItem {
  padding: 4px;
  border-radius: 4px;
  margin-right: 6px;
  cursor: pointer;
}

.StickersPanel__listItem:hover {
  background: var(--content_tint_background);
}

.StickersPanel__listItem:last-child {
  margin-right: 0;
}

.StickersPanel__listItem:first-child {
}

.ComposerAutocomplete {
  z-index: 1;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  max-height: 200px;
  transform: translateY(-100%);
  border-top: 1px solid var(--separator_common);
  background: var(--background_content);
  overflow-y: auto;
}

.ComposerAutocompleteSuggestion__item {
  display: grid;
  align-content: space-between;
  grid-template-areas:
    'avatar name'
    'avatar screenName';
  grid-template-columns: auto 1fr;
  grid-template-rows: 1fr 1fr;
  padding: 5px 15px;
  cursor: pointer;
}

.ComposerAutocompleteSuggestion__item:hover {
  background-color: var(--background_hover);
}

.ComposerAutocompleteSuggestion__item[aria-selected='true'] {
  background-color: var(--background_highlighted);
}

.ComposerAutocompleteSuggestion__avatar {
  grid-area: avatar;
  padding-right: 10px;
}

.ComposerAutocompleteSuggestion__name {
  grid-area: name;
  font-size: 14px;
  font-weight: 500;
  color: var(--text_link);
}

.ComposerAutocompleteSuggestion__screenName {
  grid-area: screenName;
  font-size: 13px;
  color: var(--text_secondary);
}

.ComposerAutocompleteSuggestion--all {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--white);
  width: 40px;
  height: 40px;
  border-radius: 40px;
  background: var(--dynamic_blue);
}

.ComposerAutocompleteSuggestion--online {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--white);
  width: 40px;
  height: 40px;
  border-radius: 40px;
  background: var(--dynamic_green);
}

.ComposerMassMentionWarning {
  padding: 5px 15px;
}

.ComposerMassMentionWarning__image {
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 40px;
  background: var(--dynamic_red);
}

.ComposerMassMentionWarning__caption {
  font-size: 14px;
  color: var(--black);
  margin-bottom: 5px;
}

.ComposerMassMentionWarning__description {
  font-size: 12px;
  color: var(--text_secondary);
}

.ComposerMassMentionWarning__actions {
  display: flex;
  align-items: center;
  height: 100%;
}

.ComposerMassMentionWarning__action {
  color: var(--icon_tertiary);
  border: none;
  background: none;
}

.ComposerMassMentionWarning__action:hover {
  color: var(--icon_outline_secondary);
  cursor: pointer;
}

.CardInline {
  display: flex;
}

.CardInline__image {
  display: flex;
  align-items: flex-start;
  justify-content: center;
  margin-right: 10px;
}

.CardInline__content {
  flex-grow: 1;
}

.CardInline__actions {
  margin-left: 10px;
}

.ComposerEditing {
  position: relative;
  display: grid;
  grid-template-areas:
    'title close'
    'content close';
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  width: 100%;
  padding-left: 8px;
  gap: 2px;
  overflow: hidden;
}

.ComposerEditing::before {
  position: absolute;
  top: calc(0.25 * var(--messageVerticalIndent));
  bottom: calc(0.25 * var(--messageVerticalIndent));
  left: 0;
  width: 2px;
  border-radius: 2px;
  background: var(--accent);
  content: '';
}

.ComposerEditing__title {
  grid-area: title;
  color: var(--text_link);
  font: 500 13px / 16px var(--font);
  overflow: hidden;
  text-overflow: ellipsis;
}

.ComposerEditing__content {
  grid-area: content;
  font: 400 14px / 18px var(--font);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  letter-spacing: -0.004em;
}

.ComposerEditing__close {
  grid-area: close;
  align-self: center;
}

.ComposerReply {
  position: relative;
  display: grid;
  grid-template-areas:
    'title close'
    'content close';
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  width: 100%;
  padding-left: 8px;
  gap: 2px;
  overflow: hidden;
}

.ComposerReply::before {
  position: absolute;
  top: calc(0.25 * var(--messageVerticalIndent));
  bottom: calc(0.25 * var(--messageVerticalIndent));
  left: 0;
  width: 2px;
  border-radius: 2px;
  background: var(--accent);
  content: '';
}

.ComposerReply__title {
  grid-area: title;
  color: var(--text_link);
  font: 500 13px / 16px var(--font);
  overflow: hidden;
  text-overflow: ellipsis;
}

.ComposerReply__content {
  grid-area: content;
  font: 400 14px / 18px var(--font);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  letter-spacing: -0.004em;
}

.ComposerReply__close {
  grid-area: close;
  align-self: center;
}

.ComposerForwarded {
  position: relative;
  display: grid;
  grid-template-areas:
    'title close'
    'content close';
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  width: 100%;
  padding-left: 8px;
  gap: 2px;
  overflow: hidden;
}

.ComposerForwarded::before {
  position: absolute;
  top: calc(0.25 * var(--messageVerticalIndent));
  bottom: calc(0.25 * var(--messageVerticalIndent));
  left: 0;
  width: 2px;
  border-radius: 2px;
  background: var(--im_forward_line_tint);
  content: '';
}

.ComposerForwarded__title {
  grid-area: title;
  display: flex;
  align-items: flex-end;
  color: var(--text_link);
  font: 500 13px / 16px var(--font);
  overflow: hidden;
  text-overflow: ellipsis;
}

.ComposerForwarded__name {
  overflow: hidden;
  text-overflow: ellipsis;
}

.ComposerForwarded__date {
  margin-left: 6px;
  font: 400 11px / 14px var(--font);
  color: var(--text_secondary);
  letter-spacing: 0.01em;
}

.ComposerForwarded__content {
  font: 400 14px / 18px var(--font);
  grid-area: content;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  letter-spacing: -0.004em;
}

.ComposerForwarded__close {
  grid-area: close;
  align-self: center;
}

.Clip__ActionsMenu {
  width: 150px;
  margin-bottom: 7px;
  margin-left: -6px;
}

.Clip__ActionsMenu .ActionsMenu__actionIcon {
  margin-right: 14px;
  color: var(--control_foreground);
}

.Clip__input {
  display: none;
}

.VoiceRecording {
  display: grid;
  grid-template:
    'icon track duration' 32px
    / min-content auto min-content;
  align-items: center;
  grid-gap: 10px;
  background-color: var(--im_toolbar_voice_msg_background);
  width: 100%;
  border-radius: 20px;
  padding-left: 4px;
  padding-right: 12px;
}

.VoiceRecording__adornment,
.VoiceRecording__buttons {
  grid-area: icon;
}

.VoiceRecording__buttons {
  display: flex;
}

.VoiceRecording__track {
  grid-area: track;
  height: 21px;
  position: relative;
}

.VoiceRecording__svg {
  display: block;
  height: 21px;
  max-width: 100%;
}

.VoiceRecording__svg--shadow {
  position: absolute;
  top: 0;
  left: 0;
}

.VoiceRecording__duration {
  grid-area: duration;
  font: 12px / 16px var(--font); /* @TODO разобраться с относительным размером */
  color: var(--white);
}

.VoiceRecording__play {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  width: 24px;
  height: 24px;
  border: 0;
  border-radius: 50%;
  color: var(--im_toolbar_voice_msg_background);
  background-color: var(--white);
  outline: none;
  cursor: pointer;
}

.VoiceRecording__play_withMargin {
  margin-left: 8px;
}

.VoiceRecording__play i {
  opacity: 0.72;
}

.VoiceRecording__play:hover i {
  opacity: 1;
}

.VoiceRecording__path,
.VoiceRecording__progress {
  stroke-linejoin: round;
  stroke-linecap: round;
  fill: none;
  stroke: var(--white);
}

.VoiceRecording--active .VoiceRecording__path,
.VoiceRecording--active .VoiceRecording__progress {
  transition: clip-path 0.25s linear;
}

.VoiceRecording--active .VoiceRecording__path {
  stroke: var(--white);
  opacity: 0.4;
}

.StickerEmojiMenu {
  position: relative;

  --tabsMenuHeight: 44px;
  --stickerEmojiMenuTransition: 160ms;
  --tabItemSize: 22px;
}

.StickerEmojiMenu__menu {
  position: absolute;
  isolation: isolate;
  z-index: 1;
  width: 438px;
  height: 438px;
  border: 1px solid var(--separator_common);
  background-color: var(--background_content);
  border-radius: 8px;
  contain: strict;
  bottom: 52px;
  right: 14px;
  transition: opacity 200ms linear, transform 200ms linear;
}

.StickerEmojiMenu__menu--enter {
  pointer-events: none;
  transform: translateY(5px);
  opacity: 0;
}

.StickerEmojiMenu__menu--enter-active {
  opacity: 1;
  transform: none;
}

.StickerEmojiMenu__menu--exit {
  opacity: 1;
  transform: none;
}

.StickerEmojiMenu__menu--exit-active,
.StickerEmojiMenu__menu--exit-done {
  transform: translateY(5px);
  opacity: 0;
}

.StickerEmojiMenu__menu--exit-done {
  display: none;
}

.StickerEmojiMenu__content {
  position: relative;
  height: calc(100% - var(--tabsMenuHeight));

  transition: transform var(--stickerEmojiMenuTransition);
}

.StickerEmojiMenu__content--sticker {
  transform: translateY(-100%);
}

.StickerEmojiMenu__picker {
  width: 100%;
  height: 100%;
}

.StickerEmojiMenu__footer {
  position: relative;
  height: var(--tabsMenuHeight);
  box-shadow: 0px 0px 2px var(--background_highlighted),
    0px -8px 16px var(--background_highlighted);
  display: flex;
  align-items: center;
  justify-content: center;
}

.TabsList {
  width: 100%;
  padding: 4px;
  display: flex;
  align-items: center;
  background-color: var(--background_content);
}

.TabsList__scrollableWrapper {
  position: relative;
  flex: 1 1 auto;
  display: flex;
  overflow-x: auto;
  align-items: center;
  white-space: nowrap;
  scroll-behavior: smooth;
}

.TabsList__chevron {
  position: sticky;
  height: calc(var(--tabItemSize) + 14px);
  padding: 0 calc(var(--tabItemSize) * 0.5 - 6px);
  background-color: var(--background_content);
  color: var(--icon_outline_medium);
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  opacity: 0;
  visibility: hidden;
  z-index: 2;
  transition: opacity var(--stickerEmojiMenuTransition);
}

.TabsList__chevron--active {
  opacity: 1;
  visibility: visible;
}

.TabsList__chevron::before {
  content: '';
  position: absolute;
  height: 100%;
  width: 100%;
  pointer-events: none;
  background-color: var(--background_content);
  transition: background-color var(--stickerEmojiMenuTransition);
  z-index: -1;
}

.TabsList__chevron:hover::before {
  background-color: var(--background_hover);
}

.TabsList__chevron::after {
  content: '';
  position: absolute;
  width: 50%;
  height: 100%;
  pointer-events: none;
  background: linear-gradient(
    90deg,
    var(--background_content),
    transparent 70%
  );
}

.TabsList__chevron--left {
  left: 0;
  margin-right: calc(-1 * var(--tabItemSize));
}

.TabsList__chevron--left::after {
  left: 100%;
}

.TabsList__chevron--right {
  right: 0;
  margin-left: calc(-1 * var(--tabItemSize));
}

.TabsList__chevron--right::after {
  right: 100%;
  transform: rotate(180deg);
}

.TabItem {
  position: relative;
  display: inline-flex;
  user-select: none;
  align-items: center;
  justify-content: center;
  flex: 0 0 auto;
  height: calc(var(--tabItemSize) + 14px);
  width: calc(var(--tabItemSize) + 14px);
  color: var(--icon_outline_medium);
  cursor: pointer;
  z-index: 1;
}

.TabItem__loader {
  position: absolute;
  top: 4px;
  left: 4px;
  border-radius: 8px;
}

.TabItem::before {
  content: '';
  position: absolute;
  top: 4px;
  left: 4px;
  height: calc(var(--tabItemSize) + 6px);
  width: calc(var(--tabItemSize) + 6px);
  background-color: var(--attach_picker_tab_inactive_background);
  border-radius: 8px;
  z-index: -1;
  opacity: 0;
  transition: opacity var(--stickerEmojiMenuTransition);
  border: 1px solid var(--separator_alternate);
}

.TabItem:hover::before {
  opacity: 1;
}

.TabItem--active::before {
  opacity: 1;
}

.TabItem--active {
  color: var(--accent);
}

.TabItem img {
  width: var(--tabItemSize);
  height: auto;
  pointer-events: none;
}

.StickerPicker {
  position: relative;
  height: 100%;
  width: 100%;
  contain: strict;
  padding: 0 20px 0 8px;

  --stickerSize: 128px;
  --stickerGapHorizontal: 4px;
  --stickerGapVertical: 12px;
}

.StickerPicker .simplebar-vertical {
  margin-top: 8px;
}

.StickerPackSection {
  position: relative;
}

.StickerPackSection__header {
  position: sticky;
  top: 0;
  z-index: 1;
  display: flex;
  padding: 12px 0 12px 0;
  background-color: var(--background_content);
}

.StickerPackSection__header::before {
  content: '';
  position: absolute;
  pointer-events: none;
  width: 100%;
  height: 6px;
  bottom: -6px;
  background: linear-gradient(
    180deg,
    var(--background_content),
    transparent 70%
  );
}

.StickerPackSection__headerTitle {
  font: 500 13px/16px var(--font);
  color: var(--text_secondary);
}

.StickerPackSection__content {
  contain: size paint style;
  display: flex;
  flex-wrap: wrap;
  gap: var(--stickerGapVertical) var(--stickerGapHorizontal);
}

.StickerItem {
  position: relative;
  user-select: none;
  z-index: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: transparent;
  cursor: pointer;
  width: calc(var(--stickerSize) + 4px);
  height: calc(var(--stickerSize) + 4px);
  border-radius: 8px;
  transition: background-color var(--stickerEmojiMenuTransition);
}

.StickerItem:hover {
  background-color: var(--background_highlighted);
}

.StickerItem canvas {
  pointer-events: none;
}

.StickerItem img,
.StickerItem__animationWrapper {
  height: var(--stickerSize);
  width: var(--stickerSize);
  pointer-events: none;
}

.StickerItem__loader {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.StickerItem__favoriteIconWrapper {
  position: absolute;
  right: 4px;
  top: 4px;
  width: 24px;
  height: 24px;
  opacity: 0;
  cursor: pointer;
  transition: opacity var(--stickerEmojiMenuTransition);
}

.StickerItem__favoriteIconWrapper:hover {
  opacity: 1;
}

.StickerItem__favoriteIcon {
  position: absolute;
  top: 2px;
  left: 2px;
  color: var(--counter_secondary_background);
}

.StickerItem__favoriteIcon--active {
  color: var(--accent);
}

.StickerItem__favoriteIconBackground {
  position: absolute;
  z-index: 1;
  color: var(--button_commerce_foreground);
}

.SkeletonLoader {
  overflow: hidden;
  contain: strict;
  animation: load 1s linear infinite alternate;
}

@keyframes load {
  0% {
    background-color: hsl(200, 20%, 85%);
  }
  100% {
    background-color: hsl(200, 20%, 95%);
  }
}

.ComposerAttaches {
  /*
   * Внутри композера есть горизонтальный скролл, в котором
   * присутствует z-index.
   * Применяем изоляцию, чтобы бэкдроп модалок (к примеру)
   * перекрывал.
   */
  isolation: isolate;
}

.ComposerAttaches__list {
  display: flex;
  list-style: none;
  padding: var(--composerAttachListPadding);
  margin: 0;
}

.ComposerAttaches__list::before,
.ComposerAttaches__list::after {
  flex-shrink: 0;
  content: 'a'; /* ff hack* */
  display: block;
  width: var(--composerAttachListInnerOffset);
  height: 100%;
  color: transparent; /* ff hack */
  overflow: hidden; /* ff hack */
  /*
   * there should be a pseudo element and it can't
   * be empty thanks to the haters at firefox:
   * https://bugzilla.mozilla.org/show_bug.cgi?id=748518
   */
}

.ComposerAttaches__item {
  position: relative;
  user-select: none;
}

.ComposerAttaches__item + .ComposerAttaches__item {
  margin-left: var(--composerAttachSpacing);
}

.ComposerAttaches__remove {
  margin: 0;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--composerAttachRemoveButtonSize);
  height: var(--composerAttachRemoveButtonSize);
  color: #fff; /* @TODO: correct token */
  background: var(--icon_secondary);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
  border-radius: 50%;
  border: var(--composerAttachRemoveButtonBorder);
  position: absolute;
  top: var(--composerAttachRemoveButtonOffset);
  right: var(--composerAttachRemoveButtonOffset);
  cursor: pointer;
}

.ComposerAttaches__loader {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.72);
  border-radius: var(--composerAttachBorderRadius);
}

.ComposerDraggableAttach {
  width: var(--composerAttachWidth);
  min-width: var(--composerAttachWidth);
  max-width: var(--composerAttachWidth);
  height: var(--composerAttachHeight);
  min-height: var(--composerAttachHeight);
  cursor: grab;
  transition: opacity 0.1s ease;
}

.ComposerDraggableAttach--hovering {
  animation: ComposerDraggableAttachHovering 0.4s ease infinite;
}

.ComposerDraggableAttach--moving {
  z-index: 4;
  position: fixed;
  cursor: grabbing;
}

.ComposerDraggableAttach--next,
.ComposerDraggableAttach--returning {
  transition: transform 0.2s ease;
}

.ComposerDraggableAttach--waiting {
  opacity: 0.4;
}

@keyframes ComposerDraggableAttachHovering {
  0% {
    transform: translateX(0) rotate(0);
  }
  50% {
    transform: translateX(2px) rotate(1deg);
  }
  100% {
    transform: translateX(-2px) rotate(-1deg);
  }
}

.Loader {
  --regularSize: 42px;

  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  border-radius: 50%;
  color: #fff;
}

.Loader--regular {
  width: var(--regularSize);
  height: var(--regularSize);
}

.Loader--retry {
  background-color: rgba(255, 255, 255, 0.4);
}

.Loader__progress {
  pointer-events: none;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  border-radius: 50%;
  box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.4) inset;
}

.Loader__progress circle {
  fill: transparent;
  stroke: #fff;
  stroke-width: 4;
  stroke-linecap: round;
  transform-origin: 50% 50%;
  transform: rotate(-90deg);
  transition: stroke-dashoffset 0.1s ease;
}

.Loader__button {
  cursor: pointer;
  padding: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  border: none;
  color: inherit;
}

.ComposerAttachPhoto {
  display: flex;
  justify-content: center;
  width: var(--composerAttachWidth);
  height: var(--composerAttachHeight);
  border-radius: var(--composerAttachBorderRadius);
  position: relative; /* anchors pseudo element */
  overflow: hidden;
}

.ComposerAttachPhoto__img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.ComposerAttachPhoto::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border: 0.5px solid rgba(0, 0, 0, 0.08);
  border-radius: inherit;
}

.ComposerAttachVideo {
  display: flex;
  justify-content: center;
  width: var(--composerAttachWidth);
  height: var(--composerAttachHeight);
  border-radius: var(--composerAttachBorderRadius);
  position: relative; /* anchors positioned children */
  overflow: hidden;
}

.ComposerAttachVideo__img {
  max-width: none;
}

.ComposerAttachVideo::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border: 0.5px solid rgba(0, 0, 0, 0.08);
  border-radius: inherit;
}

.ComposerAttachVideo__videoDuration {
  display: flex;
  align-items: center;
  /* Ширина контейнера минус 5px слева и справа */
  max-width: calc(100% - 10px);
  padding: 4px 6px;
  font-size: 11px;
  line-height: 14px;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #fff; /* @TODO: correct token */
  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */
  border-radius: 6px;
  position: absolute;
  left: 5px;
  bottom: 5px;
}

.ComposerAttachVideo__videoPlay {
  margin-right: 4px;
}

.ComposerAttachDoc {
  position: relative;
}

.ComposerAttachCard {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: space-between;
  width: var(--composerAttachWidth);
  height: var(--composerAttachHeight);
  border-radius: var(--composerAttachBorderRadius);
  background: var(--im_bubble_incoming);
  font-size: 13px;
  line-height: 16px;
  padding: var(--composerAttachCardPadding);
  position: relative;
  overflow: hidden;
  cursor: inherit;
}

.ComposerAttachCard__icon {
  width: var(--composerAttachCardIconSize);
  height: var(--composerAttachCardIconSize);
  color: var(--icon_secondary);
}

.ComposerAttachCard__text {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.ComposerAttachCard--overflow {
  white-space: nowrap;
  color: transparent;
  width: 100%;
  background: linear-gradient(
    to right,
    var(--text_primary),
    var(--text_primary) calc(100% - 15px),
    transparent calc(100% - 3px)
  );
  background-clip: text;
  -webkit-background-clip: text;
}

.ComposerAttachCard--overflowEllipsis {
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.ComposerAttachCard__main {
  font-weight: 500;
}

.ComposerAttachCard__secondary {
  opacity: 0.4;
}

.ComposerAttachCardIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  width: 36px;
  height: 36px;
  border-radius: 4px;
  background-color: var(--dynamic_gray);
  color: var(--white);
  box-shadow: 0 0 0.5px 0.5px rgba(0, 0, 0, 0.08);
}

.ComposerAttachCardIcon::after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  font-weight: 600;
  font-family: var(--font);
  font-size: 12px;
  line-height: 18px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  content: attr(data-ext);
  opacity: 0;
}

.ComposerAttachCardIcon--pdf::after {
  /* TODO: Нужен корректный токен */
  background-color: #e64646;
}

.ComposerAttachCardIcon--xls::after {
  background-color: var(--dynamic_green);
}

.ComposerAttachCardIcon--css::after,
.ComposerAttachCardIcon--html::after {
  /* TODO: Нужен корректный токен */
  background-color: #000;
}

.ComposerAttachCardIcon--doc::after {
  background-color: var(--dynamic_blue);
}

.ComposerAttachCardIcon--ppt::after {
  background-color: var(--dynamic_orange);
}

.ComposerAttachCardIcon--pdf::after,
.ComposerAttachCardIcon--xls::after,
.ComposerAttachCardIcon--css::after,
.ComposerAttachCardIcon--html::after,
.ComposerAttachCardIcon--doc::after,
.ComposerAttachCardIcon--ppt::after {
  opacity: 1;
}

.ModalInterface {
}

.ComposerBlocked {
  display: flex;
  width: 100%;
  padding: 10px;
  justify-content: center;
  align-items: center;
}

.ComposerBlocked__info {
  display: flex;
  width: 100%;
  align-items: center;
}

.ComposerBlocked__info_big {
  padding-left: 10px;
}

.ComposerBlocked__icon {
  color: var(--dynamic_orange);
  margin-right: 10px;
}

.ComposerBlocked__button .ComposerBlocked__icon {
  color: var(--icon_outline_medium);
  margin-right: 5px;
}

.ComposerBlocked__message {
  font-weight: normal;
}

.ComposerBlocked .FCComposer__button {
  /* Сбрасываем настройки кнопки */
  flex: none;
  width: auto;
  height: auto;
}

.ComposerBlocked__button:hover .ComposerBlocked__message {
  text-decoration: underline;
}

.UserChatInvite__modal {
  position: absolute;
  width: 464px;
  height: calc(100% - 174px);
}

.UserChatInvite__convoPicker {
  padding-top: 13px;
  height: 100%;
}

.UserChatInvite__footer {
  width: 100%;
}

.UserChatInvite__createChatButton {
  display: flex;
  align-items: center;
  padding: 0 20px;
  height: 56px;
  min-height: 56px;
  color: var(--text_link);
  font-family: var(--font);
  font-size: 14px;
  font-weight: 500;
  transition: background-color linear 160ms;
  cursor: pointer;
}

.UserChatInvite__createChatButton:hover {
  text-decoration: underline;
}

.UserChatInvite__createChatButtonBubble {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: var(--background_page);
  margin-right: 12px;
}

.UserChatInvite__error {
  padding: 12px;
}

.UserChatInvite__tint {
  position: absolute;
  top: 56px;
  left: 0;
  bottom: 0;
  width: 100%;
  background: var(--background_content);
  opacity: 0.3;
}

.PeerPickerListItem {
  display: flex;
  align-items: center;
}

.PeerPickerListItem__avatar {
  width: 40px;
  height: 40px;
  margin-right: 12px;
}

.PeerPickerListItem__content {
  min-width: 0;
}

.PeerPickerListItem__name {
  font-size: 15px;
  line-height: 20px;
}

.PeerPickerListItem__info {
  font-size: 13px;
  line-height: 16px;
  color: var(--text_secondary);
  margin-top: 3px;
}

.PeerPickerListItem__item {
  width: 100%;
  cursor: pointer;
  transition: background-color linear 160ms;
  user-select: none;
}

.PeerPickerListItem__item:hover {
  background: var(--background_hover);
}

.PickerItem {
  display: flex;
  align-items: center;
  min-width: 0;
  padding: 0 20px;
}

.PickerItem__button {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  width: 24px;
  height: 24px;
}

.PickerItem__content {
  min-width: 0;
  flex-grow: 1;
}

.PickerItem__button {
  border: none;
  background: none;
  cursor: pointer;
  /* @todo Нужен более темный синий цвет #3f8ae0 */
  color: var(--blue_200);
  border-radius: 50%;
}

.PickerItem--left .PickerItem__button {
  order: 0;
  margin-right: 16px;
}

.PickerItem--right .PickerItem__button {
  order: 1;
  margin-left: 16px;
}

.PickerItem--disabled .PickerItem__button {
  color: var(--button_muted_foreground);
}

.PickerItem__arrow {
  color: var(--icon_tertiary);
}

.PeerPickerList__content {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
}

.PeerPickerList__error {
  width: 160px;
}

.PickerList {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  overflow: hidden;
  /*
    По-умолчанию принимает высоту 0, и затем принимает максимальный размер через flex-grow
    В противном случае будет тянуться от размера содержимого
   */
  height: 0;
}

/*
  FixedSizeList имеет особенность в своем поведении – при смене пропсов компонента виртуального
  списка, он повторно рендерит список, и поскольку разметка на выходе неизменна, всё должно быть
  визуально идентично, но фактически теряется состояние :hover у элемента списка под мышкой

  Проблема в том, что каждое изменение пропсов списка вызывает, внимание, установку pointer-events: none на
  контейнер виртуального списка (div) через style, и сразу же снимается. Это приводит к тому, что браузер
  отменяет состояние :hover у элемента под мышкой (поскольку pointer-events: none), а обратно в :hover
  не переводит посколоку мы еще не двигали мышкой. Поэтому получается визуальный артефакт.

  Поведение (с pointer-events) актуально только для сценария изменения высоты списка, изменение
  других пропсов не изменяет стиль контейнера и поэтому обычно эта проблема не проявляется.

  Поскольку компонент списка пикера должен поддерживать адаптивный размер без визуальных артефактов, форсируем
  использование pointer-events: initial, то есть дефолтного поведения элемента чтобы мы работали с ожидаемым
  поведением и :hover элемента под мышкой не сбрасывался

  Критически важно для плавной работы виртуального списка в случае изменения видимой высоты списка
 */

.PickerList__list > div {
  pointer-events: initial !important;
}

.PickerList__item {
  display: flex;
}

.PickerList__container {
  flex-grow: 1;
  min-height: 0;
}

.PickerSearchInput {
  position: relative;
  margin: 7px 22px;
}

.PickerSearchInput__icon {
  position: absolute;
  color: var(--text_tertiary);
  transform: translateX(10px) translateY(8px);
}

.PickerSearchInput__input {
  width: 100%;
  height: 32px;
  background: var(--field_background);
  color: var(--text_primary);
  border-radius: 8px;
  border: none;
  font-size: 14px;
  padding: 0 10px 0 34px;
}

.PickerSearchInput__input::placeholder {
  color: var(--text_tertiary);
}

.ConvoPicker {
  min-width: 310px;
  min-height: 200px;
}

.PeerChipsSearchInput {
  border-bottom: 1px solid var(--input_border);
}

.PeerChipsSearchInput__content {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-end;
  color: #c1c1c1;
  padding: 4px 16px;
}

.PeerChipsSearchInput__item {
  display: flex;
  padding: 4px 8px;
  margin: 4px;
}

.PeerChipsSearchInput__itemContent {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 15px;
}

.PeerChipsSearchInput__input {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border: none;
  height: 28px;
  min-width: 0;
  width: 100%;
  font-size: 15px;
  background-color: var(--background_content);
  color: var(--text_primary);
}

.PeerChipsSearchInput__input::placeholder {
  color: var(--text_tertiary);
}

.PeerChipsSearchInput__inputContainer {
  min-width: 40px;
  flex-grow: 1;
  position: relative;
  height: 28px;
  margin: 4px;
}

.PeerChipsSearchInput__icon {
  height: 24px;
  margin: 4px 4px 4px 0;
  color: var(--icon_tertiary);
}

.PeerChip {
  display: inline-flex;
  align-items: center;
  padding: 3px 7px;
  background-color: var(--background_light);
  border-radius: 6px;
  /* @todo Использовать переменную когда появится подходящий цвет */
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.PeerChip__remove {
  margin-left: 6px;
  border: none;
  background: none;
  cursor: pointer;
  color: var(--icon_secondary);
}

.PeerChip__remove:hover {
  color: var(--icon_secondary);
}

.PeerChip__content {
  display: flex;
  align-items: center;
}

.PeerChip__name {
  color: var(--text_primary);
  font-size: 13px;
  margin-left: 6px;
}

.Picker {
  display: flex;
  flex-direction: column;
}

/* @note Оверрайдим стиль VK UI поскольку он не соответствует ожидаемому по дизайну */
.ReforgedCheckbox.vkuiTappable--active-background.vkuiTappable--active-background {
  background-color: transparent;
}
.ReforgedCheckbox {
  padding: 0;
}
.ReforgedCheckbox .vkuiCheckbox__children {
  font-size: 13px;
}
.ReforgedCheckbox .vkuiTappable__hoverShadow {
  display: none;
}

.ChatCreation {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.ChatCreation__form {
  display: flex;
  align-items: flex-start;
  padding: 14px 32px 20px 16px;
  border-bottom: 1px solid var(--separator_common);
}

.ChatCreation__selector {
  flex-grow: 1;
}

.ChatCreation__picker {
  height: 100%;
}

.ChatCreation__footer {
  text-align: right;
  padding: 10px;
  border-top: 1px solid var(--separator_common);
}

.ChatCreation__settingsButton {
  margin-right: 10px;
}

.ChatCreation__image {
  margin-right: 18px;
}

.ChatCreation__fieldset {
  width: 100%;
}

.ChatCreation__footnote {
  margin-top: 8px;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  line-height: 16px;
  color: var(--text_secondary);
}

.ChatCreation__toast {
  position: absolute;
  bottom: 60px;
  left: 8px;
}

.ChatSettings {
  font-size: 13px;
  width: 560px;
}

.ChatSettings__footer {
  padding: 15px 25px;
  display: flex;
  justify-content: flex-end;
  background: var(--background_light);
  border-top: 1px solid var(--separator_common);
}

.ChatSettings__footerButton + .ChatSettings__footerButton {
  margin-left: 10px;
}

.ChatSettings__presets {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

.ChatSettings__preset {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 16px 0;
  width: 145px;
  margin: 0 12px;
  border: 2px solid var(--image_border);
  border-radius: 10px;
  cursor: pointer;
  background: none;
}

.ChatSettings__presetIcon {
  color: var(--accent);
}

.ChatSettings__presetName {
  font-size: 13px;
  line-height: 16px;
  margin-top: 8px;
  color: var(--text_primary);
}

.ChatSettings__preset--active {
  border-color: var(--accent);
}

.ChatSettings__options {
  margin-top: 14px;
}

.OptionsListItem {
  display: flex;
  align-items: flex-start;
  min-height: 28px;
  padding: 16px 0;
}

.OptionsListItem__icon {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  margin-right: 12px;
}

.OptionsListItem__main {
  margin-right: auto;
  min-height: inherit;
  display: flex;
  flex-direction: column;
  justify-content: center;
  font-size: 13px;
  line-height: 16px;
  color: var(--text_primary);
}

.OptionsListItem__description {
  font-size: 12px;
  line-height: 14px;
  color: var(--text_secondary);
  margin-top: 4px;
}

.OptionsListItem__aside {
  flex-shrink: 0;
  min-height: inherit;
  display: flex;
  align-items: center;
  margin-left: 24px;
}

.OptionsListItem__aside--chevron {
  margin-left: -8px;
  color: var(--icon_tertiary);
}

.OptionsListItem--padded {
  padding: 16px 25px;
}

.OptionsListItem--interactive {
  cursor: pointer;
}

.OptionsListItem--interactive:hover,
.OptionsListItem--interactive:focus {
  background: var(--background_hover);
}

.OptionsListItem + .OptionsListItem {
  border-top: 1px solid var(--separator_common);
}

.OptionsListSelect {
  width: fit-content;
}

.OptionsListSelect__button {
  background: none;
  border: 0;
  margin: 0;
  font-family: inherit;
  cursor: pointer;
  outline: none;
  display: inline-flex;
  align-items: center;
  font-size: 13px;
  color: var(--text_link);
  padding: 4px 0;
  opacity: 1;
  transition: opacity 0.05s;
}

.OptionsListSelect__button:hover,
.OptionsListSelect__button:focus {
  opacity: 0.7;
}

.OptionsListSelect__panel {
  contain: content;
  display: flex;
  position: relative;
  flex-flow: column;
  padding: 8px 0;
  background-color: var(--background_content);
  border-radius: 12px;
  min-width: 150px;
  max-width: 250px;
  border: 0.5px solid var(--background_highlighted);
  box-shadow: 0 0 2px var(--background_highlighted),
    0 8px 24px var(--background_highlighted);
}

.OptionsListSelect__item {
  background-color: transparent;
  border: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: auto;
  height: 36px;
  padding: 14px 20px 14px 14px;
  color: var(--text_primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  cursor: pointer;
  transition: background-color 160ms ease;
}

.OptionsListSelect__item:focus {
  outline: none;
}

.OptionsListSelect__item:hover,
.OptionsListSelect__item:focus {
  background-color: var(--background_hover);
}

.OptionsListSelect__itemCheck {
  color: var(--accent);
}

.AvatarSelector {
  position: relative;
}

.AvatarSelector__image {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  overflow: hidden;
  border: 1px solid var(--image_border);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--icon_tertiary);
  background-color: var(--field_background);
}

.AvatarSelector__preview {
  background-color: var(--field_background);
  object-fit: cover;
  width: 100%;
  height: 100%;
}

.AvatarSelector--size-72 {
  width: 72px;
  height: 72px;
}

.AvatarSelector__input {
  position: absolute;
  top: 0;
  left: 0;
  /* ME-30449, в FF right: 0 не работает и не растягивает элемент по ширине */
  width: 100%;
  bottom: 0;
  opacity: 0;
  cursor: pointer;
  /* Скрывает инпут и решает проблему с неправильным курсором при наведении */
  font-size: 0;
}

.AvatarSelector__clear,
.AvatarSelector__loader {
  position: absolute;
  color: var(--icon_secondary);
  background: var(--background_content);
  border: 2px solid var(--background_content);
  border-radius: 50%;
  width: 20px;
  height: 20px;
  box-sizing: content-box;
  top: 0;
  right: 0;
  cursor: pointer;
}

.FriendsPicker__empty {
  max-width: 300px;
}

.Toast {
  display: flex;
  align-items: center;
  width: 384px;
  padding: 15px 12px;
  background: var(--background_content);
  /* @todo Использовать переменную когда появится подходящий цвет */
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.08), 0 8px 24px rgba(0, 0, 0, 0.08);
  border-radius: 8px;
}

.Toast--danger {
  color: var(--destructive);
}

.Toast--warning {
  color: var(--dynamic_orange);
}

.Toast--primary {
  color: var(--dynamic_blue);
}

.Toast--success {
  color: var(--dynamic_green);
}

.Toast__content {
  font-weight: 400;
  font-size: 15px;
  line-height: 20px;
  letter-spacing: 0.2px;
  margin-left: 14px;
}

.ConvoAttachments {
  border-radius: 20px;
  padding: 5px 12px;
}

.ConvoAttachments__block {
  overflow: auto;
  padding: 0 2px;
}

.ConvoAttachments__list {
  list-style: none;
  padding: 12px 0;
  margin: 0;
}

/* лоадер подгрузки */

.ConvoAttachments__loader {
  padding: 20px;
}

/* лоадер при пустом списке */

.ConvoAttachments__loader:only-child {
  min-width: 100%;
  min-height: 100px;
  /* Придумать стили для разных видов загрузчика */
}

.ConvoAttachments__empty {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100px;
  color: var(--text_placeholder);
}

.ConvoAtachments__docItem + .ConvoAtachments__docItem {
  margin-top: 7px;
}

.ConvoAttachments__itemContainer {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.ConvoAttachments__item {
  flex-grow: 1;
}

.ConvoAttachments__itemMenuButton {
  background: none;
  border: none;
  color: var(--icon_tertiary);
  margin-left: 12px;
  cursor: pointer;
}

.ConvoAttachesLink {
  display: flex;
  align-items: stretch;
  padding: 12px;
  border-radius: 4px;
  text-decoration: none;
}

.ConvoAttachesLink:hover {
  background: var(--background_hover);
  cursor: pointer;
}

.ConvoAttachesLink .ConvoAttachesLink__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.ConvoAttachesLink__image-container {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  overflow: hidden;
  border-radius: 4px;
}

.ConvoAttachesLink__image-container:after {
  content: '';
  position: absolute;
  pointer-events: none;
  width: inherit;
  height: inherit;
  border-radius: 4px;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.ConvoAttachesLink__content {
  flex-grow: 1;
  margin-left: 12px;
  align-self: center;
  min-width: 0;
}

.ConvoAttachesLink__name {
  font-family: var(--font);
  color: var(--text_primary);
  font-size: 15px;
  letter-spacing: 0.2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ConvoAttachesLink__url {
  font-family: var(--font);
  color: var(--text_tertiary);
  font-size: 13px;
  margin-top: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ConvoAttachesLink__image {
  position: relative;
}

.ConvoAttachesLink__image:empty::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: inherit;
  height: inherit;
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMCA0YTQgNCAwIDAgMSA0LTRoNDBhNCA0IDAgMCAxIDQgNHY0MGE0IDQgMCAwIDEtNCA0SDRhNCA0IDAgMCAxLTQtNFY0WiIgZmlsbD0idXJsKCNhKSIvPgogICAgPHBhdGggZD0iTTIyLjU5IDI2LjgzYy0uMzkuMzktMS4wMy4zOS0xLjQyIDBhNS4wMDMgNS4wMDMgMCAwIDEgMC03LjA3bDUuMjQtNS4yNGE1LjAwMyA1LjAwMyAwIDAgMSA3LjA3IDAgNS4wMDMgNS4wMDMgMCAwIDEgMCA3LjA3bC0xLjQzNiAxLjQzNmEuOTk5Ljk5OSAwIDAgMS0xLjQxNC0xLjQxbDEuNDMtMS40MzZhMi45ODIgMi45ODIgMCAwIDAgMC00LjI0IDIuOTgyIDIuOTgyIDAgMCAwLTQuMjQgMGwtNS4yMyA1LjIzYTIuOTgyIDIuOTgyIDAgMCAwIDAgNC4yNGMuNDEuMzkuNDEgMS4wMyAwIDEuNDJabTIuODItNS42NmMuMzktLjM5IDEuMDMtLjM5IDEuNDIgMGE1LjAwMyA1LjAwMyAwIDAgMSAwIDcuMDdsLTUuMjQgNS4yNGE1LjAwMyA1LjAwMyAwIDAgMS03LjA3IDAgNS4wMDMgNS4wMDMgMCAwIDEgMC03LjA3bDEuNDMxLTEuNDMxYTEgMSAwIDAgMSAxLjQxNCAwaC4wMDFjLjM5LjM5Mi4zOSAxLjAyNSAwIDEuNDE2TDE1Ljk0IDI3LjgyYTIuOTgyIDIuOTgyIDAgMCAwIDAgNC4yNCAyLjk4MiAyLjk4MiAwIDAgMCA0LjI0IDBsNS4yMy01LjIzYTIuOTgyIDIuOTgyIDAgMCAwIDAtNC4yNC45NzMuOTczIDAgMCAxIDAtMS40MloiCiAgICAgICAgICBmaWxsPSIjZmZmIi8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwIiB5MT0iMCIgeDI9IjQ5LjI1NiIgeTI9IjEuMzI2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MEIyRkYiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNUM5Q0U2Ii8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KPC9zdmc+');
  background-color: #70b2ff;
}

.ConvoAttachesLink[href^="https://vk.com/away"] .ConvoAttachesLink__image:empty::after
{
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMCA0YTQgNCAwIDAgMSA0LTRoNDBhNCA0IDAgMCAxIDQgNHY0MGE0IDQgMCAwIDEtNCA0SDRhNCA0IDAgMCAxLTQtNFY0WiIgZmlsbD0iI0VERUVGMCIvPgogICAgPHBhdGggZD0iTTIyLjU5IDI2LjgzYTEgMSAwIDAgMS0xLjQyIDAgNSA1IDAgMCAxIDAtNy4wN2w1LjI0LTUuMjRhNSA1IDAgMCAxIDcuMDcgNy4wN2wtMS40NCAxLjQ0YTEgMSAwIDAgMS0xLjQxLTEuNDFsMS40My0xLjQ0YTIuOTggMi45OCAwIDAgMCAwLTQuMjQgMi45OCAyLjk4IDAgMCAwLTQuMjQgMGwtNS4yMyA1LjIzYTIuOTggMi45OCAwIDAgMCAwIDQuMjQuOTcuOTcgMCAwIDEgMCAxLjQyWm0yLjgyLTUuNjZhMSAxIDAgMCAxIDEuNDIgMCA1IDUgMCAwIDEgMCA3LjA3bC01LjI0IDUuMjRhNSA1IDAgMCAxLTcuMDctNy4wN2wxLjQzLTEuNDNhMSAxIDAgMCAxIDEuNDEgMS40MmwtMS40MiAxLjQyYTIuOTggMi45OCAwIDAgMCAwIDQuMjQgMi45OCAyLjk4IDAgMCAwIDQuMjQgMGw1LjIzLTUuMjNhMi45OCAyLjk4IDAgMCAwIDAtNC4yNC45Ny45NyAwIDAgMSAwLTEuNDJaIgogICAgICAgICAgZmlsbD0iIzgxOEM5OSIvPgo8L3N2Zz4=');
  background-color: #edeef0;
}

.ConvoAttachesLink__actions {
  display: flex;
  justify-content: flex-end;
}

.ConvoAttachesLink__button {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  width: 60px;
  color: var(--icon_tertiary);
  transition: color linear 0.1s;
}

.ConvoAttachesLink__button:hover {
  color: var(--icon_medium);
}

.ConvoAttachesPhotos {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  column-gap: 8px;
  row-gap: 8px;
  padding: 0;
  margin: 0;
  list-style: none;
}

.ConvoAttachesPhotos__item {
  overflow: hidden;
  position: relative;
  display: flex;
  background: var(--background_highlighted);
}

.ConvoAttachesPhotos__item::before {
  content: '';
  display: block;
  padding-top: 100%;
}

.ConvoAttachesPhotos__tail {
  position: absolute;
  top: 0;
  left: 0;
}

.ConvoAttachPhoto__img {
  object-fit: cover;
  min-height: 100%;
  min-width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.ConvoAttachesPhotos__link {
  display: flex;
  flex: 1;
}

.ConvoAttachesPhotos__item:hover .ConvoAttachPhoto__action {
  opacity: 0.72;
}

.ConvoAttachPhoto__action {
  outline: none;
  background: none;
  border: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  color: var(--icon_medium);
  background: var(--background_content);
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.08), 0 8px 24px rgba(0, 0, 0, 0.08);
  opacity: 0;
  border-radius: 50%;
  transition: opacity 200ms ease;
  cursor: pointer;
}

.ConvoAttachPhoto__action:hover,
.ConvoAttachPhoto__action:focus {
  opacity: 1;
}

.ConvoAttachPhoto__dropdown {
  position: absolute;
  top: 5px;
  right: 5px;
}

.ConvoAttachesPhotos__restore {
  display: flex;
  width: 100%;
  align-items: center;
  justify-content: center;
}

.ConvoAttachesVideos {
  display: grid;
  grid-template-columns: repeat(2, calc((100% - 8px) / 2));
  column-gap: 8px;
  row-gap: 12px;
  padding: 0;
  margin: 0;
  list-style: none;
}

.ConvoAttachesVideos__preview {
  overflow: hidden;
  position: relative;
  background: #000;
  display: flex;
}

.ConvoAttachesVideos__preview::before {
  content: '';
  display: block;
  padding-top: 75%;
}

.ConvoAttachesVideo__img {
  object-fit: contain;
  min-height: 100%;
  min-width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.ConvoAttachesVideos__tail {
  position: absolute;
  top: 0;
  left: 0;
}

.ConvoAttachesVideos__duration {
  height: 18px;
  max-width: calc(100% - 8px);
  padding: 2px 4px;
  font-size: 11px;
  line-height: 14px;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #fff; /* @TODO: correct token */
  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */
  border-radius: 4px;
  position: absolute;
  right: 4px;
  bottom: 4px;
}

.ConvoAttachesVideo__title {
  color: var(--text_link);
  font-size: 13px;
  font-weight: 700;
}

.ConvoAttachesVideo__views {
  color: var(--text_secondary);
  font-size: 13px;
}

.ConvoAttachesVideo__link {
  display: flex;
  flex: 1;
}

.ConvoAttachesVideos__item:hover .ConvoAttachVideo__action {
  opacity: 0.72;
}

.ConvoAttachVideo__action {
  outline: none;
  background: none;
  border: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  color: var(--icon_medium);
  background: var(--background_content);
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.08), 0 8px 24px rgba(0, 0, 0, 0.08);
  opacity: 0;
  border-radius: 50%;
  transition: opacity 200ms ease;
  cursor: pointer;
}

.ConvoAttachVideo__action:hover,
.ConvoAttachVideo__action:focus {
  opacity: 1;
}

.ConvoAttachVideo__dropdown {
  position: absolute;
  top: 5px;
  right: 5px;
}

.ConvoAttachesVideo__img--restriction {
  filter: grayscale(0.5) blur(26.985px);
}

.ConvoAttachVideoResctrictionWrap {
  position: absolute;
  top: 50%;
  width: 90%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: #fff; /* @TODO: correct token */
}

.ConvoAttachVideoIconRestriction {
  width: 50px;
  height: 50px;

  background-size: contain;
  display: inline-block;
}

.ChatInviteModal {
  display: flex;
  flex-direction: column;
  width: 414px;
  padding: 44px 32px;
  align-items: center;
  justify-content: center;
}

.ChatInviteModal__withCloseButton {
  padding-top: 0px;
}

.ChatInviteModal__header {
  display: flex;
  align-items: center;
  height: 44px;
  margin-bottom: 12px;
  position: relative; /* anchors absolute children */
  background: var(--modal_card_background);
  border-bottom: 0;
}

.ChatInviteModal__spinner .Spinner {
  color: var(--white);
}

.ChatInviteModal__avatarAndTitleContainer {
  display: flex;
  gap: 8px;
  flex-direction: column;
  align-items: center;
  margin-bottom: 36px;
  max-width: 100%;
}

.ChatInviteModal__avatar {
  position: relative;
}

.ChatInviteModal--error {
  align-items: flex-start;
  justify-content: flex-start;
}

.ChatInviteModal__avatarContainer {
  position: relative;
  margin: 0 16px 16px;
}

.ChatInviteModal__donutIcon {
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  right: 2px;
  bottom: 2px;
  top: auto;
  left: auto;
}

.ChatInviteModal__casperIcon {
  position: absolute;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  right: -3px;
  bottom: -3px;
  top: auto;
  left: auto;
  border: 2px solid var(--white);
  background-color: var(--accent);
  color: var(--white);
  display: flex;
  align-items: center;
  justify-content: center;
}

.ChatInviteModal__title {
  font: 500 24px / 28px var(--font);
  letter-spacing: -0.002em;
  text-align: center;
  overflow: hidden;
  max-width: 100%;
}

.ChatInviteModal__senderName {
  font: 400 15px / 20px var(--font);
  letter-spacing: -0.0007em;
  text-align: center;
  color: var(--text_secondary);
  max-width: 100%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ChatInviteModal__membersContainer {
  display: flex;
  gap: 8px;
  flex-direction: column;
  align-items: center;
  margin: 0 32px 24px;
  max-width: 100%;
}

.ChatInviteModal__members {
  color: var(--text_secondary);
  max-width: 100%;
  overflow: hidden;
}

.ChatInviteModal__membersContainer .ChatInviteModal__usersStack {
  --users_stack_border: var(--modal_card_background);
}

.ChatInviteModal__memberLinkWrapper,
.ChatInviteModal__memberLinkWrapper .ChatInviteModal__memberLink {
  color: var(--text_secondary);
}

.ChatInviteModal__memberLinkWrapper::after {
  content: ', ';
}

.ChatInviteModal__memberLinkWrapper--no-comma::after {
  content: none;
}

.ChatInviteModal__memberLinkWrapper:last-child::after {
  content: none;
}

.ChatInviteModal__memberLink {
  text-decoration: none;
}

.ChatInviteModal__memberLink:hover {
  text-decoration: underline;
}

.ChatInviteModal__grayed {
  color: var(--text_secondary);
  text-align: center;
}

.ChatInviteModal__description {
  color: var(--text_secondary);
  text-align: center;
  max-width: 280px;
}

.ChatInviteModal__usersStack {
  display: flex;
  list-style: none;
  --users_stack_border: var(--background_content);
  margin: -2px 0;
}

.ChatInviteModal__usersStackUser {
  position: relative;
  border: solid 2px var(--users_stack_border);
  border-radius: 50%;
  z-index: 0;
}

.ChatInviteModal__usersStackUser + .ChatInviteModal__usersStackUser {
  margin-left: -12px;
}

.ChatInviteModal__usersStackCounter {
  width: var(--size);
  height: var(--size);
  background-color: var(--counter_secondary_background);
  border-radius: 50%;
  font: 600 13px / 16px var(--font);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--control_tint);
}

.ChatInviteModal__actionsButtons {
  display: flex;
  gap: 10px;
  margin-bottom: 12px;
}

.ConvoProfile {
}

.ConvoProfile__modal {
  width: 560px;
}

.ConvoProfile__modal--loader {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
}

.ConvoProfileInfo {
  background: var(--background_page);
}

.ConvoProfileInfo__block {
  background: var(--background_content);
  border-bottom: 1px solid var(--separator_common);
}

/* альтернатива разруливанию сложных веток условий */

.ConvoProfileInfo__block:empty {
  display: none;
}

.ConvoProfileInfo__info {
  display: grid;
  grid-template-areas:
    'avatar title'
    'avatar meta';
  grid-template-columns: min-content auto;
  padding: 20px 25px;
}

.ConvoProfileInfo__avatar {
  grid-area: avatar;
  position: relative; /* for anchored child */
  margin-right: 20px;
}

.ConvoProfileInfo__avatarRemove {
  margin: 0;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border: 2px solid var(--background_content);
  border-radius: 50%;
  color: #fff; /* @TODO: correct token */
  background: var(--icon_secondary);
  position: absolute;
  top: 0;
  right: 0;
  opacity: 0;
  pointer-events: none;
  cursor: pointer;
  transition: opacity 0.14s ease, background 0.14s ease;
}

.ConvoProfileInfo__avatarRemove:hover {
  background: var(--icon_medium);
}

.ConvoProfileInfo__avatarRemove::before {
  content: '';
  position: absolute;
  top: -5px;
  right: -5px;
  bottom: -5px;
  left: -5px;
}

.ConvoProfileInfo__avatar:hover .ConvoProfileInfo__avatarRemove,
.ConvoProfileInfo__avatarRemove:focus {
  opacity: 1;
  pointer-events: initial;
}

.ConvoProfileInfo__title {
  grid-area: title;
  align-self: end;
  margin-bottom: 8px;
  font-size: 19px;
  line-height: 23px;
  font-weight: normal;
  color: var(--text_primary);
  word-break: break-word;
}

.ConvoProfileInfo__meta {
  grid-area: meta;
  align-self: start;
  display: flex;
  align-items: center;
  color: var(--text_subhead);
}

.ConvoProfileInfo__metaItem {
  display: inline-flex;
  align-items: center;
}

.ConvoProfileInfo__metaItem + .ConvoProfileInfo__metaItem::before {
  content: '\00a0·\00a0';
}

.ConvoProfileInfo__metaIcon {
  display: inline-block;
  padding: 2px;
}

.ConvoProfileInfo__serviceMark {
  display: inline-block;
  padding: 0 8px;
  border-radius: 8px;
  margin-left: 8px;
  background-color: var(--dynamic_orange);
  color: #fff;
}

.ConvoProfileInfo__owner {
  display: block;
  text-decoration: none;
}

.ConvoProfileInfo__ownerAvatar {
  margin-right: 8px;
}

.ConvoProfileInfo__copyLink:before {
  content: '\00B7';
  width: 16px;
  text-align: center;
  display: inline-block;
}

.ConvoProfileInfo__copyLinkButton {
  position: absolute;
  color: var(--text_link);
  background: none;
  border: none;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.ConvoProfileInfo__copyLinkButton:hover {
  text-decoration: underline;
}

.ConvoProfileInfo__linkCopied {
  position: absolute;
  color: var(--text_secondary);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

.ConvoProfileInfo__copyLink--copied .ConvoProfileInfo__linkCopied {
  opacity: 1;
}

.ConvoProfileInfo__copyLink--copied .ConvoProfileInfo__copyLinkButton {
  opacity: 0;
}

/* VKUI override */

.ConvoProfileInfo__criticalAction .SimpleCell__children {
  font-size: inherit;
}

.ConvoProfileInfo__block + .ConvoProfileInfo__block {
  margin-top: 16px;
  border-top: 1px solid var(--separator_common);
}

.ChatMembers {
  width: 100%;
  display: flex;
  flex-direction: column;
  padding: 25px;
}

.ChatMembers__search {
  margin-bottom: 16px;
  position: relative;
  display: flex;
  align-items: center;
}

.ChatMembers__searchIcon {
  position: absolute;
  left: 11px;
  color: var(--icon_medium);
}

.ChatMembers__searchInput {
  width: 100%;
  background: var(--field_background);
  padding: 8px 8px 8px 34px;
  border-radius: 8px;
  border: 0;
  outline: none;
}

.ChatMembers__searchReset {
  position: absolute;
  z-index: 1;
  outline: 0;
  right: 6px;
  background: none;
  border: 0;
  padding: 5px;
  cursor: pointer;
  color: var(--icon_secondary);
}

.ChatMembers__content {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.ChatMembers__loader {
  padding: 20px 0;
}

.ChatMembers__add {
  display: inline-flex;
  align-items: center;
  margin-bottom: 16px;
  cursor: pointer;
}

.ChatMembers__addButton {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 40px;
  width: 40px;
  border-radius: 50%;
  background: var(--content_tint_background);
  color: var(--dynamic_blue);
}

.ChatMembers__addText {
  font-size: 14px;
  line-height: 18px;
  font-weight: 500;
  color: var(--text_link);
  margin-left: 12px;
}

.ChatMembers__add:hover .ChatMembers__addText {
  text-decoration: underline;
}

.ChatMembers__member {
  width: 100%;
  display: grid;
  grid-template-areas:
    'avatar name actions'
    'avatar status actions';
  grid-template-columns: auto 1fr auto;
  grid-template-rows: 1fr 1fr;
  grid-column-gap: 12px;
  padding-bottom: 16px;
}

.ChatMembers__memberAvatar {
  grid-area: avatar;
}

.ChatMembers__memberName {
  grid-area: name;

  font-size: 14px;
  line-height: 18px;
}

.ChatMembers__memberStatus {
  grid-area: status;

  text-transform: lowercase;
  font-size: 13px;
  line-height: 16px;
  color: var(--text_secondary);
}

.ChatMembers__memberActions {
  grid-area: actions;

  cursor: pointer;
  align-self: center;
  margin-right: 4px;
  color: var(--dynamic_blue);
}

.ChatMembers__memberLink {
  text-decoration: none;
  color: var(--text_primary);
}

.ChatMembers__memberLink:hover {
  text-decoration: underline;
}

.ChatMembers__emptySearchResult {
  width: 100%;
  padding: 20px;
  text-align: center;
  font-size: 13px;
  color: var(--text_secondary);
}

.ChatMember__actions {
  background: var(--background_content);
  font-size: 13px;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.08), 0 8px 24px rgba(0, 0, 0, 0.08);
  border-radius: 8px;
  overflow: hidden;
}

.ChatMember__action {
  padding: 10px 15px;
  cursor: pointer;
  white-space: nowrap;
}

.ChatMember__action:hover {
  background: var(--background_hover);
}

.ChatMembers__showAll {
  display: inline-flex;
  align-items: center;
  color: var(--text_link);
  cursor: pointer;
  align-self: flex-start;
}

.ChatMembers__showAllIcon {
  width: 40px;
  display: flex;
  justify-content: center;
}

.ChatMembers__showAllText {
  margin-left: 12px;
  font-size: 14px;
}

.ChatMembers__showAll:hover .ChatMembers__showAllText {
  text-decoration: underline;
}

.RE_ModalDialog {
}

.RE_ModalDialog__panel {
  min-width: 240px;
  max-width: 560px;
}

.EditableLabel {
  font-family: var(--font);
}

.EditableLabel__wrapper {
  position: relative;
  isolation: isolate;
  margin: -3px -7px;
}

.EditableLabel__text {
  padding: 4px 28px 4px 8px;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.14s ease;
  word-break: break-word;
}

.EditableLabel__text:hover {
  background-color: var(--background_highlighted);
}

.EditableLabel__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 100%;
  padding-right: 8px;
  position: absolute;
  top: 0;
  right: 0;
  z-index: 1;
  transition: opacity 0.14s ease;
}

.EditableLabel__edit {
  color: var(--icon_secondary);
  opacity: 0;
  pointer-events: none;
}

.EditableLabel:hover .EditableLabel__edit {
  opacity: 0.9;
}

.EditableLabel--editing .EditableLabel__edit {
  opacity: 1;
}

/* Overriding textarea styles */

.EditableLabel__textarea {
  isolation: isolate; /* чинит кровящий наверх z-index ребенка */
}

.EditableLabel__textarea.EditableLabel__textarea textarea {
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  line-height: inherit;
  padding: 3px 28px 3px 7px;
}

.EditableLabel__textarea textarea:focus-visible {
  outline: none;
}

/* --- */

.EditableLabel__save {
  border: 0;
  padding: 0;
  margin: 0;
  background: none;
  outline: none;
  color: var(--accent);
  opacity: 0.85;
  cursor: pointer;
}

.EditableLabel__save:hover,
.EditableLabel__save:focus {
  opacity: 1;
}

.EditableLabel--invalid .EditableLabel__save {
  cursor: default;
  opacity: 0.5;
}

.EditableLabel--placeholder {
  color: var(--text_placeholder);
}

.CopyText {
  display: contents;
}

/* Прячем инпут так, чтобы браузеры не отказывались копировать из него текст */

.CopyText__input {
  width: 1px;
  height: 1px;
  margin: -1px;
  border: 0;
  padding: 0;
  position: absolute;
  clip: rect(0 0 0 0);
  overflow: hidden;
}

.SearchResult {
  display: grid;
  align-items: center;
  gap: 10px;
  padding: 6px 10px;
  cursor: pointer;
  border: 0;
  width: 100%;
  background: transparent;
  text-align: left;
  font: 500 14px/22px var(--font);
  max-width: 100%;
  overflow: hidden;
  transition: background-color 0.2s ease;
  grid-template-columns: auto 1fr auto;
}

.SearchResult:hover,
.SearchResult:focus,
.SearchResult[aria-selected='true'] {
  background: var(--content_tint_background);
  outline: none;
}

.SearchResult__icons {
  flex: 0 0 auto;
  display: flex;
  justify-content: flex-end;
}

.ChatInvitationLink {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding: 25px;
  font-size: 13px;
  line-height: 19px;
}

.ChatInvitationLink__resetNotification {
  width: 100%;
  background: var(--content_tint_background);
  border-radius: 3px;
  padding: 12px;
  margin-bottom: 20px;
  color: var(--text_subhead);
}

.ChatInvitationLink__description {
  margin-bottom: 15px;
}

.ChatInvitationLink__historySwitch {
  display: flex;
  align-items: center;
  cursor: pointer;
  margin-bottom: 15px;
  user-select: none;
}

.ChatInvitationLink__switch {
  margin-right: 10px;
}

.ChatInvitationLink__inputWrapper {
  width: 100%;
  margin-bottom: 15px;
}

.ChatInvitationLink__buttonWrapper {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}

.ChatInvitationLink__linkCopyNotice {
  color: var(--text_secondary);
  padding: 5px 20px;
  user-select: none;
  opacity: 0;
  transition: opacity 2s ease;
}

.ChatInvitationLink__linkCopyNotice--blink {
  opacity: 1;
  transition: opacity 0ms;
}

.ChatInvitationLink__linkReset {
  color: var(--text_link);
  font-weight: 500;
  cursor: pointer;
  background: none;
  display: inline;
  border: none;
}

.ChatInvitationLink__linkReset:hover {
  text-decoration: underline;
}

try{stManager.done('dist/c565bd4c03935309f8a94999b93eb4f2.af3aba85936e309b816f.css');}catch(e){}